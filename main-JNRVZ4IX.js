var yN=Object.defineProperty,vN=Object.defineProperties;var _N=Object.getOwnPropertyDescriptors;var LI=Object.getOwnPropertySymbols,EN=Object.getPrototypeOf,IN=Object.prototype.hasOwnProperty,wN=Object.prototype.propertyIsEnumerable,TN=Reflect.get;var FI=(n,e,t)=>e in n?yN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})IN.call(e,t)&&FI(n,t,e[t]);if(LI)for(var t of LI(e))wN.call(e,t)&&FI(n,t,e[t]);return n},ye=(n,e)=>vN(n,_N(e));var _r=(n,e,t)=>TN(EN(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Pf;function Tu(){return Pf}function gn(n){let e=Pf;return Pf=n,e}var VI=Symbol("NotFound");function po(n){return n===VI||n?.name==="\u0275NotFound"}var at=null,bu=!1,kf=1,bN=null,Et=Symbol("SIGNAL");function ie(n){let e=at;return at=n,e}function Cu(){return at}var ca={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ua(n){if(bu)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let e=at.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=at.recomputing;if(r&&(t=e!==void 0?e.nextProducer:at.producers,t!==void 0&&t.producer===n)){at.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===at&&(!r||CN(i,at)))return;let o=go(at),s={producer:n,consumer:at,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};at.producersTail=s,e!==void 0?e.nextProducer=s:at.producers=s,o&&$I(n,s)}function jI(){kf++}function Of(n){if(!(go(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===kf)){if(!n.producerMustRecompute(n)&&!da(n)){Du(n);return}n.producerRecomputeValue(n),Du(n)}}function Lf(n){if(n.consumers===void 0)return;let e=bu;bu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||DN(r)}}finally{bu=e}}function Ff(){return at?.consumerAllowSignalWrites!==!1}function DN(n){n.dirty=!0,Lf(n),n.consumerMarkedDirty?.(n)}function Du(n){n.dirty=!1,n.lastCleanEpoch=kf}function la(n){return n&&UI(n),ie(n)}function UI(n){n.producersTail=void 0,n.recomputing=!0}function Su(n,e){ie(e),n&&BI(n)}function BI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(go(n))do t=Vf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function da(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Of(t),r!==t.version))return!0}return!1}function ha(n){if(go(n)){let e=n.producers;for(;e!==void 0;)e=Vf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function $I(n,e){let t=n.consumersTail,r=go(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)$I(i.producer,i)}function Vf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!go(e)){let o=e.producers;for(;o!==void 0;)o=Vf(o)}return t}function go(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function jf(n){bN?.(n)}function CN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Uf(n,e){return Object.is(n,e)}function SN(){throw new Error}var HI=SN;function zI(n){HI(n)}function Bf(n){HI=n}var AN=null;function $f(n,e){let t=Object.create(Au);t.value=n,e!==void 0&&(t.equal=e);let r=()=>qI(t);return r[Et]=t,jf(t),[r,s=>mo(t,s),s=>Hf(t,s)]}function qI(n){return ua(n),n.value}function mo(n,e){Ff()||zI(n),n.equal(n.value,e)||(n.value=e,RN(n))}function Hf(n,e){Ff()||zI(n),mo(n,e(n.value))}var Au=ye(V({},ca),{equal:Uf,value:void 0,kind:"signal"});function RN(n){n.version++,jI(),Lf(n),AN?.(n)}function te(n){return typeof n=="function"}function yo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ru=yo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function li(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Ru?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GI(o)}catch(s){e=e??[],s instanceof Ru?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ru(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&li(t,e)}remove(e){let{_finalizers:t}=this;t&&li(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var zf=Ne.EMPTY;function Nu(n){return n instanceof Ne||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function GI(n){te(n)?n():n.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vo={setTimeout(n,e,...t){let{delegate:r}=vo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function xu(n){vo.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(n);else throw n})}function fa(){}var WI=qf("C",void 0,void 0);function KI(n){return qf("E",void 0,n)}function QI(n){return qf("N",n,void 0)}function qf(n,e,t){return{kind:n,value:e,error:t}}var di=null;function _o(n){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!di;if(e&&(di={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=di;if(di=null,t)throw r}}else n()}function YI(n){Jt.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=n)}var hi=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nu(e)&&e.add(this)):this.destination=MN}static create(e,t,r){return new Eo(e,t,r)}next(e){this.isStopped?Wf(QI(e),this):this._next(e)}error(e){this.isStopped?Wf(KI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wf(WI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NN=Function.prototype.bind;function Gf(n,e){return NN.call(n,e)}var Kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mu(r)}else Mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mu(t)}}},Eo=class extends hi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gf(e.next,o),error:e.error&&Gf(e.error,o),complete:e.complete&&Gf(e.complete,o)}):i=e}this.destination=new Kf(i)}};function Mu(n){Jt.useDeprecatedSynchronousErrorHandling?YI(n):xu(n)}function xN(n){throw n}function Wf(n,e){let{onStoppedNotification:t}=Jt;t&&vo.setTimeout(()=>t(n,e))}var MN={closed:!0,next:fa,error:xN,complete:fa};var Io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(n){return n}function Qf(...n){return Yf(n)}function Yf(n){return n.length===0?At:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=kN(t)?t:new Eo(t,r,i);return _o(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ZI(r),new r((i,o)=>{let s=new Eo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Io](){return this}pipe(...t){return Yf(t)(this)}toPromise(t){return t=ZI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ZI(n){var e;return(e=n??Jt.Promise)!==null&&e!==void 0?e:Promise}function PN(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function kN(n){return n&&n instanceof hi||PN(n)&&Nu(n)}function Zf(n){return te(n?.lift)}function de(n){return e=>{if(Zf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new Jf(n,e,t,r,i)}var Jf=class extends hi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wo(){return de((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var To=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return wo()(this)}};var JI=yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JI}next(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zf:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,li(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new Pu(e,t),n})(),Pu=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zf}};var et=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xf={now(){return(Xf.delegate||Date).now()},delegate:void 0};var ku=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var pa={setInterval(n,e,...t){let{delegate:r}=pa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=pa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bo=class extends ku{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return pa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&pa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,li(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Do=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Do.now=Xf.now;var Co=class extends Do{constructor(e,t=Do.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ep=new Co(bo);var Ou=class extends bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Lu=class extends Co{};var tp=new Lu(Ou);var It=new ce(n=>n.complete());function XI(n){return n&&te(n.schedule)}function ew(n){return n[n.length-1]}function tw(n){return te(ew(n))?n.pop():void 0}function Er(n){return XI(ew(n))?n.pop():void 0}function np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function rw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function nw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fi(n){return this instanceof fi?(this.v=n,this):new fi(n)}function iw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(N){return Promise.resolve(N).then(y,p)}}function a(y,N){r[y]&&(i[y]=function(P){return new Promise(function(M,j){o.push([y,P,M,j])>1||u(y,P)})},N&&(i[y]=N(i[y])))}function u(y,N){try{l(r[y](N))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof fi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,N){y(N),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ow(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof nw=="function"?nw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vu(n){return te(n?.then)}function ju(n){return te(n[Io])}function Uu(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function Bu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ON(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $u=ON();function Hu(n){return te(n?.[$u])}function zu(n){return iw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield fi(t.read());if(i)return yield fi(void 0);yield yield fi(r)}}finally{t.releaseLock()}})}function qu(n){return te(n?.getReader)}function ze(n){if(n instanceof ce)return n;if(n!=null){if(ju(n))return LN(n);if(Fu(n))return FN(n);if(Vu(n))return VN(n);if(Uu(n))return sw(n);if(Hu(n))return jN(n);if(qu(n))return UN(n)}throw Bu(n)}function LN(n){return new ce(e=>{let t=n[Io]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FN(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function VN(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,xu)})}function jN(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function sw(n){return new ce(e=>{BN(n,e).catch(t=>e.error(t))})}function UN(n){return sw(zu(n))}function BN(n,e){var t,r,i,o;return rw(this,void 0,void 0,function*(){try{for(t=ow(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function wt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ir(n,e=0){return de((t,r)=>{t.subscribe(he(r,i=>wt(r,n,()=>r.next(i),e),()=>wt(r,n,()=>r.complete(),e),i=>wt(r,n,()=>r.error(i),e)))})}function wr(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function aw(n,e){return ze(n).pipe(wr(e),Ir(e))}function cw(n,e){return ze(n).pipe(wr(e),Ir(e))}function uw(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function lw(n,e){return new ce(t=>{let r;return wt(t,e,()=>{r=n[$u](),wt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Gu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{wt(t,e,()=>{let r=n[Symbol.asyncIterator]();wt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dw(n,e){return Gu(zu(n),e)}function hw(n,e){if(n!=null){if(ju(n))return aw(n,e);if(Fu(n))return uw(n,e);if(Vu(n))return cw(n,e);if(Uu(n))return Gu(n,e);if(Hu(n))return lw(n,e);if(qu(n))return dw(n,e)}throw Bu(n)}function ke(n,e){return e?hw(n,e):ze(n)}function Z(...n){let e=Er(n);return ke(n,e)}function So(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function rp(n){return!!n&&(n instanceof ce||te(n.lift)&&te(n.subscribe))}var Un=yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:$N}=Array;function HN(n,e){return $N(e)?n(...e):n(e)}function fw(n){return fe(e=>HN(n,e))}var{isArray:zN}=Array,{getPrototypeOf:qN,prototype:GN,keys:WN}=Object;function pw(n){if(n.length===1){let e=n[0];if(zN(e))return{args:e,keys:null};if(KN(e)){let t=WN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function KN(n){return n&&typeof n=="object"&&qN(n)===GN}function gw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Wu(...n){let e=Er(n),t=tw(n),{args:r,keys:i}=pw(n);if(r.length===0)return ke([],e);let o=new ce(QN(r,e,i?s=>gw(i,s):At));return t?o.pipe(fw(t)):o}function QN(n,e,t=At){return r=>{mw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)mw(e,()=>{let l=ke(n[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mw(n,e,t){n?wt(t,n,e):e()}function yw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?N(P):u.push(P),N=P=>{o&&e.next(P),l++;let M=!1;ze(t(P,h++)).subscribe(he(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let j=u.shift();s?wt(e,s,()=>N(j)):N(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(he(e,y,()=>{p=!0,m()})),()=>{a?.()}}function je(n,e,t=1/0){return te(e)?je((r,i)=>fe((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>yw(r,i,n,t)))}function vw(n=1/0){return je(At,n)}function _w(){return vw(1)}function Ao(...n){return _w()(ke(n,Er(n)))}function ga(n){return new ce(e=>{ze(n()).subscribe(e)})}function Ut(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Tr(n){return de((e,t)=>{let r=null,i=!1,o;r=e.subscribe(he(t,void 0,void 0,s=>{o=ze(n(s,Tr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ew(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ro(n,e){return te(e)?je(n,e,1):je(n,1)}function br(n){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bn(n){return n<=0?()=>It:de((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ku(n=YN){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function YN(){return new Un}function ma(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $n(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,o)=>n(i,o,r)):At,Bn(1),t?br(e):Ku(()=>new Un))}function No(n){return n<=0?()=>It:de((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ip(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,o)=>n(i,o,r)):At,No(1),t?br(e):Ku(()=>new Un))}function op(n,e){return de(Ew(n,e,arguments.length>=2,!0))}function sp(...n){let e=Er(n);return de((t,r)=>{(e?Ao(n,t,e):Ao(n,t)).subscribe(r)})}function Tt(n,e){return de((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(n(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qu(n){return de((e,t)=>{ze(n).subscribe(he(t,()=>t.complete(),fa)),!t.closed&&e.subscribe(t)})}function qe(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):At}function Iw(n){let e=ie(null);try{return n()}finally{ie(e)}}var Mo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},_p=new Mo("20.3.16");var Ep="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(Po(e,t)),this.code=e}};function ZN(n){return`NG0${Math.abs(n)}`}function Po(n,e){return`${ZN(n)}${e?": "+e:""}`}function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("")}function zn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(zn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ip(n,e){return n?e?`${n} ${e}`:n:e||""}var JN=ve({__forward_ref__:ve});function el(n){return n.__forward_ref__=el,n.toString=function(){return zn(this())},n}function bt(n){return wp(n)?n():n}function wp(n){return typeof n=="function"&&n.hasOwnProperty(JN)&&n.__forward_ref__===el}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ko(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ea(n){return XN(n,tl)}function Tp(n){return Ea(n)!==null}function XN(n,e){return n.hasOwnProperty(e)&&n[e]||null}function ex(n){let e=n?.[tl]??null;return e||null}function cp(n){return n&&n.hasOwnProperty(Zu)?n[Zu]:null}var tl=ve({\u0275prov:ve}),Zu=ve({\u0275inj:ve}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bp(n){return n&&!!n.\u0275providers}var Dp=ve({\u0275cmp:ve}),Cp=ve({\u0275dir:ve}),Sp=ve({\u0275pipe:ve}),Ap=ve({\u0275mod:ve}),va=ve({\u0275fac:ve}),vi=ve({__NG_ELEMENT_ID__:ve}),Tw=ve({__NG_ENV_ID__:ve});function yn(n){return typeof n=="string"?n:n==null?"":String(n)}function Dw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yn(n)}var Cw=ve({ngErrorCode:ve}),tx=ve({ngErrorMessage:ve}),nx=ve({ngTokenPath:ve});function Rp(n,e){return Sw("",-200,e)}function nl(n,e){throw new H(-201,!1)}function Sw(n,e,t){let r=new H(e,n);return r[Cw]=e,r[tx]=n,t&&(r[nx]=t),r}function rx(n){return n[Cw]}var up;function Aw(){return up}function Rt(n){let e=up;return up=n,e}function Np(n,e,t){let r=Ea(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;nl(n,"Injector")}var ix={},pi=ix,lp="__NG_DI_FLAG__",dp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=gi(t)||0;try{return this.injector.get(e,r&8?null:pi,r)}catch(i){if(po(i))return i;throw i}}};function ox(n,e=0){let t=Tu();if(t===void 0)throw new H(-203,!1);if(t===null)return Np(n,void 0,e);{let r=sx(e),i=t.retrieve(n,r);if(po(i)){if(r.optional)return null;throw i}return i}}function J(n,e=0){return(Aw()||ox)(bt(n),e)}function L(n,e){return J(n,gi(e))}function gi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function hp(n){let e=[];for(let t=0;t<n.length;t++){let r=bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=ax(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function Rw(n,e){return n[lp]=e,n.prototype[lp]=e,n}function ax(n){return n[lp]}function mi(n,e){let t=n.hasOwnProperty(va);return t?n[va]:null}function rl(n,e){n.forEach(t=>Array.isArray(t)?rl(t,e):e(t))}function xp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ia(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Nw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function xw(n,e,t){let r=Oo(n,e);return r>=0?n[r|1]=t:(r=~r,Nw(n,r,e,t)),r}function il(n,e){let t=Oo(n,e);if(t>=0)return n[t|1]}function Oo(n,e){return cx(n,e,1)}function cx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var _i={},Bt=[],qn=new z(""),Mp=new z("",-1),Pp=new z(""),_a=class{get(e,t=pi){if(t===pi){let i=Sw("",-201);throw i.name="\u0275NotFound",i}return t}};function kp(n){return n[Ap]||null}function Sr(n){return n[Dp]||null}function Op(n){return n[Cp]||null}function Mw(n){return n[Sp]||null}function Nt(n){return{\u0275providers:n}}function Pw(n){return Nt([{provide:qn,multi:!0,useValue:n}])}function kw(...n){return{\u0275providers:Lp(!0,n),\u0275fromNgModule:!0}}function Lp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return rl(e,s=>{let a=s;Ju(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ow(i,o),t}function Ow(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Fp(i,o=>{e(o,r)})}}function Ju(n,e,t,r){if(n=bt(n),!n)return!1;let i=null,o=cp(n),s=!o&&Sr(n);if(!o&&!s){let u=n.ngModule;if(o=cp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ju(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rl(o.imports,h=>{Ju(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Ow(l,e)}if(!a){let l=mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:Pp,useValue:i,multi:!0},i),e({provide:qn,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Fp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Fp(n,e){for(let t of n)bp(t)&&(t=t.\u0275providers),Array.isArray(t)?Fp(t,e):e(t)}var ux=ve({provide:String,useValue:ve});function Lw(n){return n!==null&&typeof n=="object"&&ux in n}function lx(n){return!!(n&&n.useExisting)}function dx(n){return!!(n&&n.useFactory)}function Xu(n){return typeof n=="function"}var wa=new z(""),Yu={},bw={},ap;function Ta(){return ap===void 0&&(ap=new _a),ap}var Ue=class{},yi=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,pp(e,s=>this.processProvider(s)),this.records.set(Mp,xo(void 0,this)),i.has("environment")&&this.records.set(Ue,xo(void 0,this));let o=this.records.get(wa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Pp,Bt,{self:!0}))}retrieve(e,t){let r=gi(t)||0;try{return this.get(e,pi,r)}catch(i){if(po(i))return i;throw i}}destroy(){ya(this),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return ya(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ya(this);let t=gn(this),r=Rt(void 0),i;try{return e()}finally{gn(t),Rt(r)}}get(e,t=pi,r){if(ya(this),e.hasOwnProperty(Tw))return e[Tw](this);let i=gi(r),o,s=gn(this),a=Rt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=mx(e)&&Ea(e);h&&this.injectableDefInScope(h)?l=xo(fp(e),Yu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ta():this.parent;return t=i&8&&t===pi?null:t,u.get(e,t)}catch(u){let l=rx(u);throw l===-200||l===-201?new H(l,null):u}finally{Rt(a),gn(s)}}resolveInjectorInitializers(){let e=ie(null),t=gn(this),r=Rt(void 0),i;try{let o=this.get(qn,Bt,{self:!0});for(let s of o)s()}finally{gn(t),Rt(r),ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(zn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=bt(e);let t=Xu(e)?e:bt(e&&e.provide),r=fx(e);if(!Xu(e)&&e.multi===!0){let i=this.records.get(t);i||(i=xo(void 0,Yu,!0),i.factory=()=>hp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ie(null);try{if(t.value===bw)throw Rp(zn(e));return t.value===Yu&&(t.value=bw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&gx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fp(n){let e=Ea(n),t=e!==null?e.factory:mi(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return hx(n);throw new H(204,!1)}function hx(n){if(n.length>0)throw new H(204,!1);let t=ex(n);return t!==null?()=>t.factory(n):()=>new n}function fx(n){if(Lw(n))return xo(void 0,n.useValue);{let e=Fw(n);return xo(e,Yu)}}function Fw(n,e,t){let r;if(Xu(n)){let i=bt(n);return mi(i)||fp(i)}else if(Lw(n))r=()=>bt(n.useValue);else if(dx(n))r=()=>n.useFactory(...hp(n.deps||[]));else if(lx(n))r=(i,o)=>J(bt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=bt(n&&(n.useClass||n.provide));if(px(n))r=()=>new i(...hp(n.deps));else return mi(i)||fp(i)}return r}function ya(n){if(n.destroyed)throw new H(205,!1)}function xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function px(n){return!!n.deps}function gx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function pp(n,e){for(let t of n)Array.isArray(t)?pp(t,e):t&&bp(t)?pp(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof yi?(ya(n),t=n):t=new dp(n);let r,i=gn(t),o=Rt(void 0);try{return e()}finally{gn(i),Rt(o)}}function Vw(){return Aw()!==void 0||Tu()!=null}var Xt=0,se=1,ne=2,tt=3,$t=4,Ht=5,ba=6,Lo=7,ct=8,Ar=9,Gn=10,$e=11,Fo=12,Vp=13,Ei=14,zt=15,Ii=16,wi=17,Ti=18,Da=19,jp=20,Hn=21,ol=22,Ca=23,xt=24,sl=25,Sa=26,Mt=27,jw=1;var Rr=7,Aa=8,Ra=9,Dt=10;function Wn(n){return Array.isArray(n)&&typeof n[jw]=="object"}function en(n){return Array.isArray(n)&&n[jw]===!0}function Up(n){return(n.flags&4)!==0}function Nr(n){return n.componentOffset>-1}function Na(n){return(n.flags&1)===1}function bi(n){return!!n.template}function Vo(n){return(n[ne]&512)!==0}function Di(n){return(n[ne]&256)===256}var Bp="svg",Uw="math";function qt(n){for(;Array.isArray(n);)n=n[Xt];return n}function $p(n,e){return qt(e[n])}function tn(n,e){return qt(e[n.index])}function al(n,e){return n.data[e]}function nn(n,e){let t=e[n];return Wn(t)?t:t[Xt]}function cl(n){return(n[ne]&128)===128}function Bw(n){return en(n[tt])}function xa(n,e){return e==null?null:n[e]}function Hp(n){n[wi]=0}function zp(n){n[ne]&1024||(n[ne]|=1024,cl(n)&&Pa(n))}function $w(n,e){for(;n>0;)e=e[Ei],n--;return e}function Ma(n){return!!(n[ne]&9216||n[xt]?.dirty)}function ul(n){n[Gn].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Ma(n)&&Pa(n)}function Pa(n){n[Gn].changeDetectionScheduler?.notify(0);let e=Dr(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!cl(e)));)e=Dr(e)}function qp(n,e){if(Di(n))throw new H(911,!1);n[Hn]===null&&(n[Hn]=[]),n[Hn].push(e)}function Hw(n,e){if(n[Hn]===null)return;let t=n[Hn].indexOf(e);t!==-1&&n[Hn].splice(t,1)}function Dr(n){let e=n[tt];return en(e)?e[tt]:e}function zw(n){return n[Lo]??=[]}function qw(n){return n.cleanup??=[]}var oe={lFrame:a0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gp=!1;function Gw(){return oe.lFrame.elementDepthCount}function Ww(){oe.lFrame.elementDepthCount++}function Kw(){oe.lFrame.elementDepthCount--}function Gp(){return oe.bindingsEnabled}function Qw(){return oe.skipHydrationRootTNode!==null}function Yw(n){return oe.skipHydrationRootTNode===n}function Zw(){oe.skipHydrationRootTNode=null}function Se(){return oe.lFrame.lView}function Kn(){return oe.lFrame.tView}function xr(n){return oe.lFrame.contextLView=n,n[ct]}function Mr(n){return oe.lFrame.contextLView=null,n}function rn(){let n=Wp();for(;n!==null&&n.type===64;)n=n.parent;return n}function Wp(){return oe.lFrame.currentTNode}function Jw(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function jo(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Kp(){return oe.lFrame.isParent}function Xw(){oe.lFrame.isParent=!1}function Qp(){return gp}function Yp(n){let e=gp;return gp=n,e}function e0(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Zp(){return oe.lFrame.bindingIndex}function t0(n){return oe.lFrame.bindingIndex=n}function ll(){return oe.lFrame.bindingIndex++}function dl(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function n0(){return oe.lFrame.inI18n}function r0(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,hl(e)}function i0(){return oe.lFrame.currentDirectiveIndex}function hl(n){oe.lFrame.currentDirectiveIndex=n}function o0(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Jp(n){oe.lFrame.currentQueryIndex=n}function yx(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function Xp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=yx(o),i===null||(o=o[Ei],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=s0();return r.currentTNode=e,r.lView=n,!0}function fl(n){let e=s0(),t=n[se];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function s0(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?a0(n):e}function a0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function c0(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var eg=c0;function pl(){let n=c0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function u0(n){return(oe.lFrame.contextLView=$w(n,oe.lFrame.contextLView))[ct]}function Qn(){return oe.lFrame.selectedIndex}function Pr(n){oe.lFrame.selectedIndex=n}function tg(){let n=oe.lFrame;return al(n.tView,n.selectedIndex)}function gl(){oe.lFrame.currentNamespace=Bp}function ml(){vx()}function vx(){oe.lFrame.currentNamespace=null}function l0(){return oe.lFrame.currentNamespace}var d0=!0;function yl(){return d0}function vl(n){d0=n}function mp(n,e=null,t=null,r){let i=ng(n,e,t,r);return i.resolveInjectorInitializers(),i}function ng(n,e=null,t=null,r,i=new Set){let o=[t||Bt,kw(n)];return r=r||(typeof n=="object"?void 0:zn(n)),new yi(o,e||Ta(),r||null,i)}var Ge=class n{static THROW_IF_NOT_FOUND=pi;static NULL=new _a;static create(e,t){if(Array.isArray(e))return mp({name:""},t,e,"");{let r=e.name??"";return mp({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>J(Mp)});static __NG_ELEMENT_ID__=-1},We=new z(""),kr=(()=>{class n{static __NG_ELEMENT_ID__=_x;static __NG_ENV_ID__=t=>t}return n})(),yp=class extends kr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Di(this._lView)}onDestroy(e){let t=this._lView;return qp(t,e),()=>Hw(t,e)}};function _x(){return new yp(Se())}var mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ct=new z("",{providedIn:"root",factory:()=>{let n=L(Ue),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(mn),e.handleError(t))}}}),h0={provide:qn,useValue:()=>void L(mn),multi:!0},Ex=new z("",{providedIn:"root",factory:()=>{let n=L(We).defaultView;if(!n)return;let e=L(Ct),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),L(kr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function rg(){return Nt([Pw(()=>void L(Ex))])}function Or(n,e){let[t,r,i]=$f(n,e?.equal),o=t,s=o[Et];return o.set=r,o.update=i,o.asReadonly=f0.bind(o),o}function f0(){let n=this[Et];if(n.readonlyFn===void 0){let e=()=>this();e[Et]=n,n.readonlyFn=e}return n.readonlyFn}var Cr=class{},ka=new z("",{providedIn:"root",factory:()=>!1});var ig=new z(""),og=new z(""),vn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new et(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ce(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Uo=(()=>{class n{internalPendingTasks=L(vn);scheduler=L(Cr);errorHandler=L(Ct);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Oa(...n){}var sg=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new vp})}return n})(),vp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ko(n){return{toString:n}.toString()}var _l="__parameters__";function Rx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Nx(n,e,t){return Ko(()=>{let r=Rx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_l)?u[_l]:Object.defineProperty(u,_l,{value:[]})[_l];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Pt=Rw(Nx("Optional"),8);function xx(n){return typeof n=="function"}var bl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function G0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ll=(()=>{let n=()=>W0;return n.ngInherit=!0,n})();function W0(n){return n.type.prototype.ngOnChanges&&(n.setInput=Px),Mx}function Mx(){let n=Q0(this),e=n?.current;if(e){let t=n.previous;if(t===_i)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Px(n,e,t,r,i){let o=this.declaredInputs[r],s=Q0(n)||kx(n,{previous:_i,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new bl(l&&l.currentValue,t,u===_i),G0(n,e,i,t)}var K0="__ngSimpleChanges__";function Q0(n){return n[K0]||null}function kx(n,e){return n[K0]=e}var p0=[];var De=function(n,e=null,t){for(let r=0;r<p0.length;r++){let i=p0[r];i(n,e,t)}};function Ox(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=W0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Y0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Il(n,e,t){Z0(n,e,3,t)}function wl(n,e,t,r){(n[ne]&3)===t&&Z0(n,e,t,r)}function ag(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function Z0(n,e,t,r){let i=r!==void 0?n[wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[wi]+=65536),(a<o||o==-1)&&(Lx(n,t,e,u),n[wi]=(n[wi]&4294901760)+u+2),u++}function g0(n,e){De(4,n,e);let t=ie(null);try{e.call(n)}finally{ie(t),De(5,n,e)}}function Lx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[wi]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,g0(a,o)):g0(a,o)}var $o=-1,Va=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Fx(n){return(n.flags&8)!==0}function Vx(n){return(n.flags&16)!==0}function jx(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Bx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Ux(n){return n===3||n===4||n===6}function Bx(n){return n.charCodeAt(0)===64}function Pg(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?m0(n,t,i,null,e[++r]):m0(n,t,i,null,null))}}return n}function m0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function J0(n){return n!==$o}function Dl(n){return n&32767}function $x(n){return n>>16}function Cl(n,e){let t=$x(n),r=e;for(;t>0;)r=r[Ei],t--;return r}var pg=!0;function y0(n){let e=pg;return pg=n,e}var Hx=256,X0=Hx-1,eT=5,zx=0,_n={};function qx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(vi)&&(r=t[vi]),r==null&&(r=t[vi]=zx++);let i=r&X0,o=1<<i;e.data[n+(i>>eT)]|=o}function tT(n,e){let t=nT(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,cg(r.data,n),cg(e,null),cg(r.blueprint,null));let i=kg(n,e),o=n.injectorIndex;if(J0(i)){let s=Dl(i),a=Cl(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function cg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function kg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=aT(i),r===null)return $o;if(t++,i=i[Ei],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $o}function Gx(n,e,t){qx(n,e,t)}function rT(n,e,t){if(t&8||n!==void 0)return n;nl(e,"NodeInjector")}function iT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ar],o=Rt(void 0);try{return i?i.get(e,r,t&8):Np(e,r,t&8)}finally{Rt(o)}}return rT(r,e,t)}function oT(n,e,t,r=0,i){if(n!==null){if(e[ne]&2048&&!(r&2)){let s=Zx(n,e,t,r,_n);if(s!==_n)return s}let o=sT(n,e,t,r,_n);if(o!==_n)return o}return iT(e,t,r,i)}function sT(n,e,t,r,i){let o=Qx(t);if(typeof o=="function"){if(!Xp(e,n,r))return r&1?rT(i,t,r):iT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))nl(t);else return s}finally{eg()}}else if(typeof o=="number"){let s=null,a=nT(n,e),u=$o,l=r&1?e[zt][Ht]:null;for((a===-1||r&4)&&(u=a===-1?kg(n,e):e[a+8],u===$o||!_0(r,!1)?a=-1:(s=e[se],a=Dl(u),e=Cl(u,e)));a!==-1;){let h=e[se];if(v0(o,a,h.data)){let p=Wx(a,e,t,s,r,l);if(p!==_n)return p}u=e[a+8],u!==$o&&_0(r,e[se].data[a+8]===l)&&v0(o,a,e)?(s=h,a=Dl(u),e=Cl(u,e)):a=-1}}return i}function Wx(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?Nr(a)&&pg:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Kx(a,s,t,u,l);return h!==null?gg(e,s,h,a,i):_n}function Kx(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let N=s[y];if(y<u&&t===N||y>=u&&N.type===t)return y}if(i){let y=s[u];if(y&&bi(y)&&y.type===t)return u}return null}function gg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Va){let a=o;if(a.resolving){let y=Dw(s[t]);throw Rp(y)}let u=y0(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Rt(a.injectImpl):null,m=Xp(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Ox(t,s[t],e)}finally{p!==null&&Rt(p),y0(u),a.resolving=!1,eg()}}return o}function Qx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(vi)?n[vi]:void 0;return typeof e=="number"?e>=0?e&X0:Yx:e}function v0(n,e,t){let r=1<<n;return!!(t[e+(n>>eT)]&r)}function _0(n,e){return!(n&2)&&!(n&1&&e)}var Ci=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oT(this._tNode,this._lView,e,gi(r),t)}};function Yx(){return new Ci(rn(),Se())}function Fl(n){return Ko(()=>{let e=n.prototype.constructor,t=e[va]||mg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[va]||mg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mg(n){return wp(n)?()=>{let e=mg(bt(n));return e&&e()}:mi(n)}function Zx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!Vo(s);){let a=sT(o,s,t,r|2,_n);if(a!==_n)return a;let u=o.parent;if(!u){let l=s[jp];if(l){let h=l.get(t,_n,r);if(h!==_n)return h}u=aT(s),s=s[Ei]}o=u}return i}function aT(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function Jx(){return Vl(rn(),Se())}function Vl(n,e){return new Og(tn(n,e))}var Og=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Jx}return n})();function cT(n){return(n.flags&128)===128}var Lg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Lg||{}),uT=new Map,Xx=0;function eM(){return Xx++}function tM(n){uT.set(n[Da],n)}function yg(n){uT.delete(n[Da])}var E0="__ngContext__";function Ho(n,e){Wn(e)?(n[E0]=e[Da],tM(e)):n[E0]=e}function lT(n){return hT(n[Fo])}function dT(n){return hT(n[$t])}function hT(n){for(;n!==null&&!en(n);)n=n[$t];return n}var vg;function Fg(n){vg=n}function fT(){if(vg!==void 0)return vg;if(typeof document<"u")return document;throw new H(210,!1)}var jl=new z("",{providedIn:"root",factory:()=>nM}),nM="ng",Ul=new z(""),Ni=new z("",{providedIn:"platform",factory:()=>"unknown"});var Bl=new z("",{providedIn:"root",factory:()=>fT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rM="h",iM="b";var pT=!1,gT=new z("",{providedIn:"root",factory:()=>pT});var oM=(n,e,t,r)=>{};function sM(n,e,t,r){oM(n,e,t,r)}function Vg(n){return(n.flags&32)===32}var aM=()=>null;function mT(n,e,t=!1){return aM(n,e,t)}function yT(n,e){let t=n.contentQueries;if(t!==null){let r=ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Jp(o),a.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function _g(n,e,t){Jp(0);let r=ie(null);try{e(n,t)}finally{ie(r)}}function vT(n,e,t){if(Up(e)){let r=ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ie(r)}}}var Yn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Yn||{});var Eg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ep})`}};function _T(n){return n instanceof Eg?n.changingThisBreaksApplicationSecurity:n}function cM(n,e){return n.createText(e)}function uM(n,e,t){n.setValue(e,t)}function ET(n,e,t){return n.createElement(e,t)}function Sl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function IT(n,e,t){n.appendChild(e,t)}function I0(n,e,t,r,i){r!==null?Sl(n,e,t,r,i):IT(n,e,t)}function lM(n,e,t,r){n.removeChild(null,e,t,r)}function dM(n,e,t){n.setAttribute(e,"style",t)}function hM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&jx(n,e,r),i!==null&&hM(n,e,i),o!==null&&dM(n,e,o)}function TT(n){return n instanceof Function?n():n}function fM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var bT="ng-template";function pM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(jg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function jg(n){return n.type===4&&n.value!==bT}function gM(n,e,t){let r=n.type===4&&!t?bT:n.value;return e===r}function mM(n,e,t){let r=4,i=n.attrs,o=i!==null?_M(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!gM(n,u,t)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!pM(n,i,u,t)){if(on(r))return!1;s=!0}}else{let l=e[++a],h=yM(u,i,jg(n),t);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(n){return(n&1)===0}function yM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return EM(e,n)}function vM(n,e,t=!1){for(let r=0;r<e.length;r++)if(mM(n,e[r],t))return!0;return!1}function _M(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ux(t))return e}return n.length}function EM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function w0(n,e){return n?":not("+e.trim()+")":e}function IM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=w0(o,i),i=""),r=s,o=o||!on(r);t++}return i!==""&&(e+=w0(o,i)),e}function wM(n){return n.map(IM).join(",")}function TM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!on(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var kt={};function Ug(n,e,t,r,i,o,s,a,u,l,h){let p=Mt+r,m=p+i,y=bM(p,m),N=typeof l=="function"?l():l;return y[se]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:h}}function bM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:kt);return t}function DM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ug(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bg(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Xt]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),Hp(p),p[tt]=p[Ei]=n,p[ct]=t,p[Gn]=s||n&&n[Gn],p[$e]=a||n&&n[$e],p[Ar]=u||n&&n[Ar]||null,p[Ht]=o,p[Da]=eM(),p[ba]=h,p[jp]=l,p[zt]=e.type==2?n[zt]:p,p}function CM(n,e,t){let r=tn(e,n),i=DM(t),o=n[Gn].rendererFactory,s=$g(n,Bg(n,i,null,DT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function DT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function CT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $g(n,e){return n[Fo]?n[Vp][$t]=e:n[Fo]=e,n[Vp]=e,e}function B(n=1){ST(Kn(),Se(),Qn()+n,!1)}function ST(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Il(e,o,t)}else{let o=n.preOrderHooks;o!==null&&wl(e,o,0,t)}Pr(t)}var $l=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})($l||{});function Ig(n,e,t,r){let i=ie(null);try{let[o,s,a]=n.inputs[t],u=null;(s&$l.SignalBased)!==0&&(u=e[o][Et]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):G0(e,u,o,r)}finally{ie(i)}}var En=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(En||{}),SM;function Hg(n,e){return SM(n,e)}var zo=new Set,zg=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(zg||{}),$a=new z(""),T0=new Set;function Hl(n){T0.has(n)||(T0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var AT=!1,wg=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Vw()&&(this.destroyRef=L(kr,{optional:!0})??void 0,this.pendingTasks=L(vn,{optional:!0})??void 0)}emit(e){let t=ie(null);try{super.next(e)}finally{ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},mt=wg;function RT(n){let e,t;function r(){n=Oa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function b0(n){return queueMicrotask(()=>n()),()=>{n=Oa}}var qg="isAngularZone",Al=qg+"_ID",AM=0,Ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mt(!1);onMicrotaskEmpty=new mt(!1);onStable=new mt(!1);onError=new mt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=AT}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,RM,Oa,Oa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},RM={};function Gg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){RT(()=>{n.callbackScheduled=!1,Tg(n),n.isCheckStableRunning=!0,Gg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Tg(n)}function xM(n){let e=()=>{NM(n)},t=AM++;n._inner=n._inner.fork({name:"angular",properties:{[qg]:!0,[Al]:t,[Al+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(MM(u))return r.invokeTask(o,s,a,u);try{return D0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),C0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return D0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!PM(u)&&e(),C0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Tg(n),Gg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Tg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function D0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function C0(n){n._nesting--,Gg(n)}var Rl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mt;onMicrotaskEmpty=new mt;onStable=new mt;onError=new mt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function MM(n){return NT(n,"__ignore_ng_zone__")}function PM(n){return NT(n,"__scheduler_tick__")}function NT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();var kM=new z("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function MT(n,e,t){let r=n.get(kM);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function OM(n,e){for(let[t,r]of e)MT(n,r.animateFns)}function S0(n,e,t,r){let i=n?.[Sa]?.enter;e!==null&&i&&i.has(t.index)&&OM(r,i)}function Bo(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;en(i)?u=i:Wn(i)&&(l=!0,i=i[Xt]);let h=qt(i);n===0&&r!==null?(S0(a,r,o,t),s==null?IT(e,r,h):Sl(e,r,h,s||null,!0)):n===1&&r!==null?(S0(a,r,o,t),Sl(e,r,h,s||null,!0)):n===2?A0(a,o,t,p=>{lM(e,h,l,p)}):n===3&&A0(a,o,t,()=>{e.destroyNode(h)}),u!=null&&KM(e,n,t,u,o,r,s)}}function LM(n,e){PT(n,e),e[Xt]=null,e[Ht]=null}function FM(n,e,t,r,i,o){r[Xt]=i,r[Ht]=e,zl(n,r,t,1,i,o)}function PT(n,e){e[Gn].changeDetectionScheduler?.notify(9),zl(n,e,e[$e],2,null,null)}function VM(n){let e=n[Fo];if(!e)return ug(n[se],n);for(;e;){let t=null;if(Wn(e))t=e[Fo];else{let r=e[Dt];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)Wn(e)&&ug(e[se],e),e=e[tt];e===null&&(e=n),Wn(e)&&ug(e[se],e),t=e&&e[$t]}e=t}}function Wg(n,e){let t=n[Ra],r=t.indexOf(e);t.splice(r,1)}function kT(n,e){if(Di(e))return;let t=e[$e];t.destroyNode&&zl(n,e,t,3,null,null),VM(e)}function ug(n,e){if(Di(e))return;let t=ie(null);try{e[ne]&=-129,e[ne]|=256,e[xt]&&ha(e[xt]),BM(n,e),UM(n,e),e[se].type===1&&e[$e].destroy();let r=e[Ii];if(r!==null&&en(e[tt])){r!==e[tt]&&Wg(r,e);let i=e[Ti];i!==null&&i.detachView(n)}yg(e)}finally{ie(t)}}function A0(n,e,t,r){let i=n?.[Sa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&zo.add(n),MT(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),jM(n,r)}else n&&zo.delete(n),r(!1)},i)}function jM(n,e){let t=n[Sa]?.running;if(t){t.then(()=>{n[Sa].running=void 0,zo.delete(n),e(!0)});return}e(!1)}function UM(n,e){let t=n.cleanup,r=e[Lo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Lo]=null);let i=e[Hn];if(i!==null){e[Hn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ca];if(o!==null){e[Ca]=null;for(let s of o)s.destroy()}}function BM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Va)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function $M(n,e,t){return HM(n,e.parent,t)}function HM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Xt];if(Nr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Yn.None||i===Yn.Emulated)return null}return tn(r,t)}function zM(n,e,t){return GM(n,e,t)}function qM(n,e,t){return n.type&40?tn(n,t):null}var GM=qM,R0;function Kg(n,e,t,r){let i=$M(n,r,e),o=e[$e],s=r.parent||e[Ht],a=zM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)I0(o,i,t[u],a,!1);else I0(o,i,t,a,!1);R0!==void 0&&R0(o,r,e,t,i)}function La(n,e){if(e!==null){let t=e.type;if(t&3)return tn(e,n);if(t&4)return bg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return La(n,r);{let i=n[e.index];return en(i)?bg(-1,i):qt(i)}}else{if(t&128)return La(n,e.next);if(t&32)return Hg(e,n)()||qt(n[e.index]);{let r=OT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dr(n[zt]);return La(i,r)}else return La(n,e.next)}}}return null}function OT(n,e){if(e!==null){let r=n[zt][Ht],i=e.projection;return r.projection[i]}return null}function bg(n,e){let t=Dt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return La(r,i)}return e[Rr]}function Qg(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Ar];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Ho(qt(u),r),t.flags|=2),!Vg(t))if(l&8)Qg(n,e,t.child,r,i,o,!1),Bo(e,n,a,i,u,t,o,r);else if(l&32){let h=Hg(t,r),p;for(;p=h();)Bo(e,n,a,i,p,t,o,r);Bo(e,n,a,i,u,t,o,r)}else l&16?WM(n,e,r,t,i,o):Bo(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function zl(n,e,t,r,i,o){Qg(t,r,n.firstChild,e,i,o,!1)}function WM(n,e,t,r,i,o){let s=t[zt],u=s[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Bo(e,n,t[Ar],i,h,r,o,t)}else{let l=u,h=s[tt];cT(r)&&(l.flags|=128),Qg(n,e,l,h,i,o,!0)}}function KM(n,e,t,r,i,o,s){let a=r[Rr],u=qt(r);a!==u&&Bo(e,n,t,o,a,i,s);for(let l=Dt;l<r.length;l++){let h=r[l];zl(h[se],h,n,e,o,a)}}function QM(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),n.setStyle(t,r,i,o))}}function LT(n,e,t,r,i){let o=Qn(),s=r&2;try{Pr(-1),s&&e.length>Mt&&ST(n,e,Mt,!1),De(s?2:0,i,t),t(r,i)}finally{Pr(o),De(s?3:1,i,t)}}function Yg(n,e,t){rP(n,e,t),(t.flags&64)===64&&iP(n,e,t)}function FT(n,e,t=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function YM(n,e,t,r){let o=r.get(gT,pT)||t===Yn.ShadowDom,s=n.selectRootElement(e,o);return ZM(s),s}function ZM(n){JM(n)}var JM=()=>null;function XM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function eP(n,e,t,r,i,o){let s=e[se];if(Zg(n,s,e,t,r)){Nr(n)&&nP(e,n.index);return}n.type&3&&(t=XM(t)),tP(n,e,t,r,i,o)}function tP(n,e,t,r,i,o){if(n.type&3){let s=tn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function nP(n,e){let t=nn(e,n);t[ne]&16||(t[ne]|=64)}function rP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Nr(t)&&CM(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||tT(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=gg(e,n,s,t);if(Ho(u,e),o!==null&&cP(e,s-r,u,a,t,o),bi(a)){let l=nn(t.index,e);l[ct]=gg(e,n,s,t)}}}function iP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=i0();try{Pr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];hl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&oP(u,l)}}finally{Pr(-1),hl(s)}}function oP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function VT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];vM(e,o.selectors,!1)&&(r??=[],bi(o)?r.unshift(o):r.push(o))}return r}function sP(n,e,t,r,i,o){let s=tn(n,e);aP(e[$e],s,o,n.value,t,r,i)}function aP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?yn(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function cP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Ig(r,t,u,l)}}function uP(n,e,t,r,i){let o=Mt+t,s=e[se],a=i(s,e,n,r,t);e[o]=a,jo(n,!0);let u=n.type===2;return u?(wT(e[$e],a,n),(Gw()===0||Na(n))&&Ho(a,e),Ww()):Ho(a,e),yl()&&(!u||!Vg(n))&&Kg(s,e,a,n),n}function lP(n){let e=n;return Kp()?Xw():(e=e.parent,jo(e,!1)),e}function dP(n,e){let t=n[Ar];if(!t)return;let r;try{r=t.get(Ct,null)}catch{r=null}r?.(e)}function Zg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Ig(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Ig(h,l,r,i),a=!0}return a}function hP(n,e){let t=nn(e,n),r=t[se];fP(r,t);let i=t[Xt];i!==null&&t[ba]===null&&(t[ba]=mT(i,t[Ar])),De(18),Jg(r,t,t[ct]),De(19,t[ct])}function fP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Jg(n,e,t){fl(e);try{let r=n.viewQuery;r!==null&&_g(1,r,t);let i=n.template;i!==null&&LT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ti]?.finishViewCreation(n),n.staticContentQueries&&yT(n,e),n.staticViewQueries&&_g(2,n.viewQuery,t);let o=n.components;o!==null&&pP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,pl()}}function pP(n,e){for(let t=0;t<e.length;t++)hP(n,e[t])}function gP(n,e,t,r){let i=ie(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Bg(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ii]=l;let h=n[Ti];return h!==null&&(u[Ti]=h.createEmbeddedView(o)),Jg(o,u,t),u}finally{ie(i)}}function N0(n,e){return!e||e.firstChild===null||cT(n)}function ja(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(qt(o)),en(o)&&jT(o,r);let s=t.type;if(s&8)ja(n,e,t.child,r);else if(s&32){let a=Hg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=OT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Dr(e[zt]);ja(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function jT(n,e){for(let t=Dt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&ja(r[se],r,i,e)}n[Rr]!==n[Xt]&&e.push(n[Rr])}function UT(n){if(n[sl]!==null){for(let e of n[sl])e.impl.addSequence(e);n[sl].length=0}}var BT=[];function mP(n){return n[xt]??yP(n)}function yP(n){let e=BT.pop()??Object.create(_P);return e.lView=n,e}function vP(n){n.lView[xt]!==n&&(n.lView=null,BT.push(n))}var _P=ye(V({},ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Pa(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function EP(n){let e=n[xt]??Object.create(IP);return e.lView=n,e}var IP=ye(V({},ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Dr(n.lView);for(;e&&!$T(e[se]);)e=Dr(e);e&&zp(e)},consumerOnSignalRead(){this.lView[xt]=this}});function $T(n){return n.type!==2}function HT(n){if(n[Ca]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ca])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var wP=100;function zT(n,e=0){let r=n[Gn].rendererFactory,i=!1;i||r.begin?.();try{TP(n,e)}finally{i||r.end?.()}}function TP(n,e){let t=Qp();try{Yp(!0),Dg(n,e);let r=0;for(;Ma(n);){if(r===wP)throw new H(103,!1);r++,Dg(n,1)}}finally{Yp(t)}}function bP(n,e,t,r){if(Di(e))return;let i=e[ne],o=!1,s=!1;fl(e);let a=!0,u=null,l=null;o||($T(n)?(l=mP(e),u=la(l)):Cu()===null?(a=!1,l=EP(e),u=la(l)):e[xt]&&(ha(e[xt]),e[xt]=null));try{Hp(e),t0(n.bindingStartIndex),t!==null&&LT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Il(e,y,null)}else{let y=n.preOrderHooks;y!==null&&wl(e,y,0,null),ag(e,0)}if(s||DP(e),HT(e),qT(e,0),n.contentQueries!==null&&yT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Il(e,y)}else{let y=n.contentHooks;y!==null&&wl(e,y,1),ag(e,1)}SP(n,e);let p=n.components;p!==null&&WT(e,p,0);let m=n.viewQuery;if(m!==null&&_g(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Il(e,y)}else{let y=n.viewHooks;y!==null&&wl(e,y,2),ag(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ol]){for(let y of e[ol])y();e[ol]=null}o||(UT(e),e[ne]&=-73)}catch(h){throw o||Pa(e),h}finally{l!==null&&(Su(l,u),a&&vP(l)),pl()}}function qT(n,e){for(let t=lT(n);t!==null;t=dT(t))for(let r=Dt;r<t.length;r++){let i=t[r];GT(i,e)}}function DP(n){for(let e=lT(n);e!==null;e=dT(e)){if(!(e[ne]&2))continue;let t=e[Ra];for(let r=0;r<t.length;r++){let i=t[r];zp(i)}}}function CP(n,e,t){De(18);let r=nn(e,n);GT(r,t),De(19,r[ct])}function GT(n,e){cl(n)&&Dg(n,e)}function Dg(n,e){let r=n[se],i=n[ne],o=n[xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&da(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)bP(r,n,r.template,n[ct]);else if(i&8192){let a=ie(null);try{HT(n),qT(n,1);let u=r.components;u!==null&&WT(n,u,1),UT(n)}finally{ie(a)}}}function WT(n,e,t){for(let r=0;r<e.length;r++)CP(n,e[r],t)}function SP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Pr(~i);else{let o=i,s=t[++r],a=t[++r];r0(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{Pr(-1)}}function Xg(n,e){let t=Qp()?64:1088;for(n[Gn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Dr(n);if(Vo(n)&&!r)return n;n=r}return null}function KT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AP(n,e,t,r=!0){let i=e[se];if(RP(i,e,n,t),r){let s=bg(t,n),a=e[$e],u=a.parentNode(n[Rr]);u!==null&&FM(i,n[Ht],a,e,u,s)}let o=e[ba];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cg(n,e){if(n.length<=Dt)return;let t=Dt+e,r=n[t];if(r){let i=r[Ii];i!==null&&i!==n&&Wg(i,r),e>0&&(n[t-1][$t]=r[$t]);let o=Ia(n,Dt+e);LM(r[se],r);let s=o[Ti];s!==null&&s.detachView(o[se]),r[tt]=null,r[$t]=null,r[ne]&=-129}return r}function RP(n,e,t,r){let i=Dt+r,o=t.length;r>0&&(t[i-1][$t]=e),r<o-Dt?(e[$t]=t[i],xp(t,Dt+r,e)):(t.push(e),e[$t]=null),e[tt]=t;let s=e[Ii];s!==null&&t!==s&&QT(s,e);let a=e[Ti];a!==null&&a.insertView(n),ul(e),e[ne]|=128}function QT(n,e){let t=n[Ra],r=e[tt];if(Wn(r))n[ne]|=2;else{let i=r[tt][zt];e[zt]!==i&&(n[ne]|=2)}t===null?n[Ra]=[e]:t.push(e)}var Lr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return ja(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return Di(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(en(e)){let t=e[Aa],r=t?t.indexOf(this):-1;r>-1&&(Cg(e,r),Ia(t,r))}this._attachedToViewContainer=!1}kT(this._lView[se],this._lView)}onDestroy(e){qp(this._lView,e)}markForCheck(){Xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){ul(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,zT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vo(this._lView),t=this._lView[Ii];t!==null&&!e&&Wg(t,this._lView),PT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Vo(this._lView),r=this._lView[Ii];r!==null&&!t&&QT(r,this._lView),ul(this._lView)}};var Ha=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=NP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=gP(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Lr(o)}}return n})();function NP(){return xP(rn(),Se())}function xP(n,e){return n.type&4?new Ha(e,n,Vl(n,e)):null}function em(n,e,t,r,i){let o=n.data[e];if(o===null)o=MP(n,e,t,r,i),n0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Jw();o.injectorIndex=s===null?-1:s.injectorIndex}return jo(o,!0),o}function MP(n,e,t,r,i){let o=Wp(),s=Kp(),a=s?o:o&&o.parent,u=n.data[e]=kP(n,a,t,e,r,i);return PP(n,u,o,s),u}function PP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function kP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Qw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Eq=new RegExp(`^(\\d+)*(${iM}|${rM})*(.*)`);var OP=()=>null;function x0(n,e){return OP(n,e)}var YT=class{},ql=class{},Sg=class{resolveComponentFactory(e){throw new H(917,!1)}},za=class{static NULL=new Sg},Si=class{};var ZT=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Tl={},Ag=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Tl,r);return i!==Tl||t===Tl?i:this.parentInjector.get(e,t,r)}};function M0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ip(i,a);else if(o==2){let u=a,l=e[++s];r=Ip(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Gt(n,e=0){let t=Se();if(t===null)return J(n,e);let r=rn();return oT(r,t,bt(n),e)}function JT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}VP(n,e,t,a,o,u,l)}o!==null&&r!==null&&LP(t,r,o)}function LP(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function FP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function VP(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&bi(y)&&(u=!0,FP(n,t,m)),Gx(tT(t,e),n,y.type)}zP(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=CT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Pg(t.mergedAttrs,y.hostAttrs),UP(n,t,e,p,y),HP(p,y,i),s!==null&&s.has(y)){let[P,M]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let N=y.type.prototype;!l&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(N.ngOnChanges||N.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}jP(n,t,o)}function jP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))P0(0,e,i,r),P0(1,e,i,r),O0(e,r,!1);else{let o=t.get(i);k0(0,e,o,r),k0(1,e,o,r),O0(e,r,!0)}}}function P0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XT(e,o)}}function k0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XT(e,s)}}function XT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function O0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||jg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function UP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=mi(i.type,!0)),s=new Va(o,bi(i),Gt,null);n.blueprint[r]=s,t[r]=s,BP(n,e,r,CT(n,t,i.hostVars,kt),i)}function BP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;$P(s)!=a&&s.push(a),s.push(t,r,o)}}function $P(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function HP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;bi(e)&&(t[""]=n)}}function zP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eb(n,e,t,r,i,o,s,a){let u=e[se],l=u.consts,h=xa(l,s),p=em(u,n,t,r,h);return o&&JT(u,e,p,xa(l,a),i),p.mergedAttrs=Pg(p.mergedAttrs,p.attrs),p.attrs!==null&&M0(p,p.attrs,!1),p.mergedAttrs!==null&&M0(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function tb(n,e){Y0(n,e),Up(e)&&n.queries.elementEnd(e)}function tm(n){return rb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qP(n,e,t){return n[e]=t}function GP(n,e){return n[e]}function qo(n,e,t){if(t===kt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Rg(n,e,t,r){let i=qo(n,e,t);return qo(n,e+1,r)||i}function WP(n,e,t,r,i,o){let s=Rg(n,e,t,r);return Rg(n,e+2,i,o)||s}function lg(n,e,t){return function r(i){let o=Nr(n)?nn(n.index,e):e;Xg(o,5);let s=e[ct],a=L0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=L0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function L0(n,e,t,r){let i=ie(null);try{return De(6,e,t),t(r)!==!1}catch(o){return dP(n,o),!1}finally{De(7,e,t),ie(i)}}function KP(n,e,t,r,i,o,s,a){let u=Na(n),l=!1,h=null;if(!r&&u&&(h=YP(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=tn(n,t),m=r?r(p):p;sM(t,m,o,a);let y=i.listen(m,o,a);if(!QP(o)){let N=r?P=>r(qt(P[n.index])):n.index;ib(N,e,t,o,a,y,!1)}}return l}function QP(n){return n.startsWith("animation")||n.startsWith("transition")}function YP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Lo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ib(n,e,t,r,i,o,s){let a=e.firstCreatePass?qw(e):null,u=zw(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function F0(n,e,t,r,i,o){let s=e[t],a=e[se],l=a.data[t].outputs[r],p=s[l].subscribe(o);ib(n.index,a,e,i,o,p,!0)}var Ng=Symbol("BINDING");var Nl=class extends za{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Sr(e);return new Go(t,this.ngModule)}};function ZP(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&$l.SignalBased)!==0};return i&&(o.transform=i),o})}function JP(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function XP(n,e,t){let r=e instanceof Ue?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Ag(t,r):t}function e1(n){let e=n.get(Si,null);if(e===null)throw new H(407,!1);let t=n.get(ZT,null),r=n.get(Cr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function t1(n,e){let t=ob(n);return ET(e,t,t==="svg"?Bp:t==="math"?Uw:null)}function ob(n){return(n.selectors[0][0]||"div").toLowerCase()}var Go=class extends ql{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ZP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=JP(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=wM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){De(22);let a=ie(null);try{let u=this.componentDef,l=n1(r,u,s,o),h=XP(u,i||this.ngModule,e),p=e1(h),m=p.rendererFactory.createRenderer(null,u),y=r?YM(m,r,u.encapsulation,h):t1(u,m),N=s?.some(V0)||o?.some(j=>typeof j!="function"&&j.bindings.some(V0)),P=Bg(null,l,null,512|DT(u),null,null,p,m,h,null,mT(y,h,!0));P[Mt]=y,fl(P);let M=null;try{let j=eb(Mt,P,2,"#host",()=>l.directiveRegistry,!0,0);wT(m,y,j),Ho(y,P),Yg(l,P,j),vT(l,j,P),tb(l,j),t!==void 0&&i1(j,this.ngContentSelectors,t),M=nn(j.index,P),P[ct]=M[ct],Jg(l,P,null)}catch(j){throw M!==null&&yg(M),yg(P),j}finally{De(23),pl()}return new xl(this.componentType,P,!!N)}finally{ie(a)}}};function n1(n,e,t,r){let i=n?["ng-version","20.3.16"]:TM(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Ng].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Ng].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Op(p);u.push(m)}return Ug(0,null,r1(o,s),1,a,u,null,null,null,[i],null)}function r1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function V0(n){let e=n[Ng].kind;return e==="input"||e==="twoWay"}var xl=class extends YT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=al(t[se],Mt),this.location=Vl(this._tNode,t),this.instance=nn(this._tNode.index,t)[ct],this.hostView=this.changeDetectorRef=new Lr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Zg(r,i[se],i,e,t);this.previousInputValues.set(e,t);let s=nn(r.index,i);Xg(s,1)}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function i1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var xi=(()=>{class n{static __NG_ELEMENT_ID__=o1}return n})();function o1(){let n=rn();return a1(n,Se())}var s1=xi,sb=class extends s1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=kg(this._hostTNode,this._hostLView);if(J0(e)){let t=Cl(e,this._hostLView),r=Dl(e),i=t[se].data[r+8];return new Ci(i,t)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=j0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=x0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,N0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!xx(e),l;if(u)l=t;else{let M=t||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let h=u?e:new Go(Sr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(Ue,null);j&&(o=j)}let m=Sr(h.componentType??{}),y=x0(this._lContainer,m?.id??null),N=y?.firstChild??null,P=h.create(p,i,N,o,s,a);return this.insertImpl(P.hostView,l,N0(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Bw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[tt],l=new sb(u,u[Ht],u[tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return AP(s,i,o,r),e.attachToViewContainerRef(),xp(dg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=j0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Cg(this._lContainer,t);r&&(Ia(dg(this._lContainer),t),kT(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=Cg(this._lContainer,t);return r&&Ia(dg(this._lContainer),t)!=null?new Lr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function j0(n){return n[Aa]}function dg(n){return n[Aa]||(n[Aa]=[])}function a1(n,e){let t,r=e[n.index];return en(r)?t=r:(t=KT(r,e,null,n),e[n.index]=t,$g(e,t)),u1(t,e,n,r),new sb(t,n,e)}function c1(n,e){let t=n[$e],r=t.createComment(""),i=tn(e,n),o=t.parentNode(i);return Sl(t,o,r,t.nextSibling(i),!1),r}var u1=h1,l1=()=>!1;function d1(n,e,t){return l1(n,e,t)}function h1(n,e,t,r){if(n[Rr])return;let i;t.type&8?i=qt(r):i=c1(e,t),n[Rr]=i}var Ai=class{},Gl=class{};var Ml=class extends Ai{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=kp(e);this._bootstrapComponents=TT(o.bootstrap),this._r3Injector=ng(e,t,[{provide:Ai,useValue:this},{provide:za,useValue:this.componentFactoryResolver},...r],zn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pl=class extends Gl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ml(this.moduleType,e,[])}};var Ua=class extends Ai{injector;componentFactoryResolver=new Nl(this);instance=null;constructor(e){super();let t=new yi([...e.providers,{provide:Ai,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],e.parent||Ta(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qa(n,e,t=null){return new Ua({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var f1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lp(!1,t.type),i=r.length>0?qa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(J(Ue))})}return n})();function Mi(n){return Ko(()=>{let e=ab(n),t=ye(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Lg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(f1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yn.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Hl("NgStandalone"),cb(t);let r=n.dependencies;return t.directiveDefs=U0(r,p1),t.pipeDefs=U0(r,Mw),t.id=y1(t),t})}function p1(n){return Sr(n)||Op(n)}function Ga(n){return Ko(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function g1(n,e){if(n==null)return _i;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=$l.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function m1(n){if(n==null)return _i;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qo(n){return Ko(()=>{let e=ab(n);return cb(e),e})}function ab(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||_i,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:g1(n.inputs,e),outputs:m1(n.outputs),debugInfo:null}}function cb(n){n.features?.forEach(e=>e(n))}function U0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function y1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function v1(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Pg(n.mergedAttrs,n.attrs);let h=n.tView=Ug(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),jo(n,!1);let u=E1(t,e,n,r);yl()&&Kg(t,e,u,n),Ho(u,e);let l=KT(u,e,u,n);e[r+Mt]=l,$g(e,l),d1(l,n,e)}function _1(n,e,t,r,i,o,s,a,u,l,h){let p=t+Mt,m;return e.firstCreatePass?(m=em(e,p,4,s||null,a||null),Gp()&&JT(e,n,m,xa(e.consts,l),VT),Y0(e,m)):m=e.data[p],v1(m,n,e,t,r,i,o,u),Na(m)&&Yg(e,n,m),l!=null&&FT(n,m,h),m}function sn(n,e,t,r,i,o,s,a){let u=Se(),l=Kn(),h=xa(l.consts,o);return _1(u,l,n,e,t,r,i,h,void 0,s,a),sn}var E1=I1;function I1(n,e,t,r){return vl(!0),e[$e].createComment("")}var nm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var rm=new z("");function Yo(n){return!!n&&typeof n.then=="function"}function im(n){return!!n&&typeof n.subscribe=="function"}var ub=new z("");var om=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=L(ub,{optional:!0})??[];injector=L(Ge);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(Yo(o))t.push(o);else if(im(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wl=new z("");function lb(){Bf(()=>{let n="";throw new H(600,n)})}function db(n){return n.isBoundToModule}var w1=10;var Pi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Ct);afterRenderManager=L(xT);zonelessEnabled=L(ka);rootEffectScheduler=L(sg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(fe(t=>!t))}constructor(){L($a,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=L(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ge.NULL){return this._injector.get(Ie).run(()=>{De(10);let s=t instanceof ql;if(!this._injector.get(om).done){let N="";throw new H(405,N)}let u;s?u=t:u=this._injector.get(za).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=db(u)?void 0:this._injector.get(Ai),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(rm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Fa(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(zg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Si,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<w1;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ma(i))continue;let o=r&&!this.zonelessEnabled?0:1;zT(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ma(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Wl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function we(n,e,t,r){let i=Se(),o=ll();if(qo(i,o,e)){let s=Kn(),a=tg();sP(a,i,n,e,t,r)}return we}var Sq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function nt(n,e,t){let r=Se(),i=ll();if(qo(r,i,e)){let o=Kn(),s=tg();eP(s,r,n,e,r[$e],t)}return nt}function B0(n,e,t,r,i){Zg(e,n,t,i?"class":"style",r)}function A(n,e,t,r){let i=Se(),o=i[se],s=n+Mt,a=o.firstCreatePass?eb(s,i,2,e,VT,Gp(),t,r):o.data[s];if(uP(a,i,n,e,T1),Na(a)){let u=i[se];Yg(u,i,a),vT(u,a,i)}return r!=null&&FT(i,a),A}function R(){let n=Kn(),e=rn(),t=lP(e);return n.firstCreatePass&&tb(n,t),Yw(t)&&Zw(),Kw(),t.classesWithoutHost!=null&&Fx(t)&&B0(n,t,Se(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Vx(t)&&B0(n,t,Se(),t.stylesWithoutHost,!1),R}function Zn(n,e,t,r){return A(n,e,t,r),R(),Zn}var T1=(n,e,t,r,i)=>(vl(!0),ET(e[$e],r,l0()));function Kl(){return Se()}var Wa="en-US";var b1=Wa;function hb(n){typeof n=="string"&&(b1=n.toLowerCase().replace(/_/g,"-"))}function yt(n,e,t){let r=Se(),i=Kn(),o=rn();return D1(i,r,r[$e],o,n,e,t),yt}function D1(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=lg(r,e,o),KP(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=lg(r,e,o),F0(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=lg(r,e,o),F0(r,e,p,i,i,u)}}function Wt(n=1){return u0(n)}function El(n,e){return n<<17|e<<2}function Ri(n){return n>>17&32767}function C1(n){return(n&2)==2}function S1(n,e){return n&131071|e<<17}function xg(n){return n|2}function Wo(n){return(n&131068)>>2}function hg(n,e){return n&-131069|e<<2}function A1(n){return(n&1)===1}function Mg(n){return n|1}function R1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=Wo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Oo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ri(n[a+1]);n[r+1]=El(m,a),m!==0&&(n[m+1]=hg(n[m+1],r)),n[a+1]=S1(n[a+1],r)}else n[r+1]=El(a,0),a!==0&&(n[a+1]=hg(n[a+1],r)),a=r;else n[r+1]=El(u,0),a===0?a=r:n[u+1]=hg(n[u+1],r),u=r;l&&(n[r+1]=xg(n[r+1])),$0(n,h,r,!0),$0(n,h,r,!1),N1(e,h,n,r,o),s=El(a,u),o?e.classBindings=s:e.styleBindings=s}function N1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Oo(o,e)>=0&&(t[r+1]=Mg(t[r+1]))}function $0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ri(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];x1(u,e)&&(a=!0,n[s+1]=r?Mg(l):xg(l)),s=r?Ri(l):Wo(l)}a&&(n[t+1]=r?xg(i):Mg(i))}function x1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Oo(n,e)>=0:!1}function Fr(n,e){return M1(n,e,null,!0),Fr}function M1(n,e,t,r){let i=Se(),o=Kn(),s=dl(2);if(o.firstUpdatePass&&k1(o,n,s,r),e!==kt&&qo(i,s,e)){let a=o.data[Qn()];j1(o,a,i,i[$e],n,i[s+1]=U1(e,t),r,s)}}function P1(n,e){return e>=n.expandoStartIndex}function k1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Qn()],s=P1(n,t);B1(o,r)&&e===null&&!s&&(e=!1),e=O1(i,o,e,r),R1(i,o,e,t,s,r)}}function O1(n,e,t,r){let i=o0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fg(null,n,e,t,r),t=Ba(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fg(i,n,e,t,r),o===null){let u=L1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=fg(null,n,e,u[1],r),u=Ba(u,e.attrs,r),F1(n,e,r,u))}else o=V1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function L1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wo(r)!==0)return n[Ri(r)]}function F1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ri(i)]=r}function V1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ba(r,s,t)}return Ba(r,e.attrs,t)}function fg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ba(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ba(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function j1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=A1(l)?H0(u,e,t,i,Wo(l),s):void 0;if(!kl(h)){kl(o)||C1(l)&&(o=H0(u,null,t,i,a,s));let p=$p(Qn(),t);QM(r,s,p,i,o)}}function H0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===kt&&(m=p?Bt:void 0);let y=p?il(m,r):h===r?m:void 0;if(l&&!kl(y)&&(y=il(u,r)),kl(y)&&(a=y,s))return a;let N=n[i+1];i=s?Ri(N):Wo(N)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=il(u,r))}return a}function kl(n){return n!==void 0}function U1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=zn(_T(n)))),n}function B1(n,e){return(n.flags&(e?8:16))!==0}function C(n,e=""){let t=Se(),r=Kn(),i=n+Mt,o=r.firstCreatePass?em(r,i,1,e,null):r.data[i],s=$1(r,t,o,e,n);t[i]=s,yl()&&Kg(r,t,s,o),jo(o,!1)}var $1=(n,e,t,r,i)=>(vl(!0),cM(e[$e],r));function H1(n,e,t,r=""){return qo(n,ll(),t)?e+yn(t)+r:kt}function z1(n,e,t,r,i,o=""){let s=Zp(),a=Rg(n,s,t,i);return dl(2),a?e+yn(t)+r+yn(i)+o:kt}function q1(n,e,t,r,i,o,s,a,u,l=""){let h=Zp(),p=WP(n,h,t,i,s,u);return dl(4),p?e+yn(t)+r+yn(i)+o+yn(s)+a+yn(u)+l:kt}function an(n){return In("",n),an}function In(n,e,t){let r=Se(),i=H1(r,n,e,t);return i!==kt&&sm(r,Qn(),i),In}function Ql(n,e,t,r,i){let o=Se(),s=z1(o,n,e,t,r,i);return s!==kt&&sm(o,Qn(),s),Ql}function Yl(n,e,t,r,i,o,s,a,u){let l=Se(),h=q1(l,n,e,t,r,i,o,s,a,u);return h!==kt&&sm(l,Qn(),h),Yl}function sm(n,e,t){let r=$p(e,n);uM(n[$e],r,t)}function am(n,e,t){let r=e0()+n,i=Se();return i[r]===kt?qP(i,r,t?e.call(t):e()):GP(i,r)}var Ol=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cm=(()=>{class n{compileModuleSync(t){return new Pl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kp(t),o=TT(i.declarations).reduce((s,a)=>{let u=Sr(a);return u&&s.push(new Go(u)),s},[]);return new Ol(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G1=(()=>{class n{zone=L(Ie);changeDetectionScheduler=L(Cr);applicationRef=L(Pi);applicationErrorHandler=L(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fb=new z("",{factory:()=>!1});function um({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ie(ye(V({},dm()),{scheduleInRootZone:t})),[{provide:Ie,useFactory:n},{provide:qn,multi:!0,useFactory:()=>{let r=L(G1,{optional:!0});return()=>r.initialize()}},{provide:qn,multi:!0,useFactory:()=>{let r=L(W1);return()=>{r.initialize()}}},e===!0?{provide:ig,useValue:!0}:[],{provide:og,useValue:t??AT},{provide:Ct,useFactory:()=>{let r=L(Ie),i=L(Ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(mn),o.handleError(s))})}}}]}function lm(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=um({ngZoneFactory:()=>{let i=dm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Hl("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Nt([{provide:fb,useValue:!0},{provide:ka,useValue:!1},r])}function dm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var W1=(()=>{class n{subscription=new Ne;initialized=!1;zone=L(Ie);pendingTasks=L(vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pb=(()=>{class n{applicationErrorHandler=L(Ct);appRef=L(Pi);taskService=L(vn);ngZone=L(Ie);zonelessEnabled=L(ka);tracing=L($a,{optional:!0});disableScheduling=L(ig,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Al):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(og,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?b0:RT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,b0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K1(){return typeof $localize<"u"&&$localize.locale||Wa}var Zl=new z("",{providedIn:"root",factory:()=>L(Zl,{optional:!0,skipSelf:!0})||K1()});function Jn(n){return Iw(n)}var gb=class{[Et];constructor(e){this[Et]=e}destroy(){this[Et].destroy()}};var Eb=Symbol("InputSignalNode#UNSET"),fk=ye(V({},Au),{transformFn:void 0,applyValueToInputSignal(n,e){mo(n,e)}});function Ib(n,e){let t=Object.create(fk);t.value=n,t.transformFn=e?.transform;function r(){if(ua(t),t.value===Eb){let i=null;throw new H(-950,i)}return t.value}return r[Et]=t,r}var pk=new z("");pk.__NG_ELEMENT_ID__=n=>{let e=rn();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new H(204,!1)};function mb(n,e){return Ib(n,e)}function gk(n){return Ib(Eb,n)}var wb=(mb.required=gk,mb);var hm=new z(""),mk=new z("");function Ka(n){return!n.moduleRef}function yk(n){let e=Ka(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ie);return t.run(()=>{Ka(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ct),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ka(n)){let o=()=>e.destroy(),s=n.platformInjector.get(hm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(hm);s.add(o),n.moduleRef.onDestroy(()=>{Fa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return _k(r,t,()=>{let o=e.get(vn),s=o.add(),a=e.get(om);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Zl,Wa);if(hb(u||Wa),!e.get(mk,!0))return Ka(n)?e.get(Pi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ka(n)){let h=e.get(Pi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return vk?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var vk;function _k(n,e,t){try{let r=t();return Yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Jl=null;function Ek(n=[],e){return Ge.create({name:e,providers:[{provide:wa,useValue:"platform"},{provide:hm,useValue:new Set([()=>Jl=null])},...n]})}function Ik(n=[]){if(Jl)return Jl;let e=Ek(n);return Jl=e,lb(),wk(e),e}function wk(n){let e=n.get(Ul,null);Be(n,()=>{e?.forEach(t=>t())})}function ym(){return!1}var vm=(()=>{class n{static __NG_ELEMENT_ID__=Tk}return n})();function Tk(n){return bk(rn(),Se(),(n&16)===16)}function bk(n,e,t){if(Nr(n)&&!t){let r=nn(n.index,e);return new Lr(r,r)}else if(n.type&175){let r=e[zt];return new Lr(r,e)}return null}var fm=class{constructor(){}supports(e){return tm(e)}create(e){return new pm(e)}},Dk=(n,e)=>e,pm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Dk}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<yb(r,i,o)?t:r,a=yb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,N=y+m;h<=N&&N<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!tm(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,nb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new gm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},mm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Xl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new mm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function vb(){return new _m([new fm])}var _m=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:vb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=L(n,{optional:!0,skipSelf:!0});return n.create(t,r||vb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function Tb(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;De(8);try{let o=i?.injector??Ik(r),s=[um({}),{provide:Cr,useExisting:pb},h0,...t||[]],a=new Ua({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return yk({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{De(9)}}var Cb=null;function Xn(){return Cb}function Em(n){Cb??=n}var Qa=class{},Ya=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(Sb),providedIn:"platform"})}return n})();var Sb=(()=>{class n extends Ya{_location;_history;_doc=L(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ed(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function bb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function cn(n){return n&&n[0]!=="?"?`?${n}`:n}var Vr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(Im),providedIn:"root"})}return n})(),td=new z(""),Im=(()=>{class n extends Vr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ed(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(Ya),J(td,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ki=(()=>{class n{_subject=new Xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Ak(bb(Db(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cn(r))}normalize(t){return n.stripTrailingSlash(Sk(this._basePath,Db(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cn;static joinWithSlash=ed;static stripTrailingSlash=bb;static \u0275fac=function(r){return new(r||n)(J(Vr))};static \u0275prov=q({token:n,factory:()=>Ck(),providedIn:"root"})}return n})();function Ck(){return new ki(J(Vr))}function Sk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Db(n){return n.replace(/\/index.html$/,"")}function Ak(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var wm=(()=>{class n extends Vr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ed(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(Ya),J(td,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var nd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},id=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new nd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Ab(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Ab(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Gt(xi),Gt(Ha),Gt(_m))};static \u0275dir=Qo({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Ab(n,e){n.context.$implicit=e.item}var Tm=(()=>{class n{_viewContainer;_context=new rd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Rb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Rb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Gt(xi),Gt(Ha))};static \u0275dir=Qo({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rd=class{$implicit=null;ngIf=null};function Rb(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var od=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ga({type:n});static \u0275inj=ko({})}return n})();function bm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Za=class{};var Nb="browser";var Ja=class{_doc;constructor(e){this._doc=e}manager},sd=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(We))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),cd=new z(""),Rm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof sd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof sd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(cd),J(Ie))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Dm="ng-app-id";function xb(n){for(let e of n)e.remove()}function Mb(n,e){let t=e.createElement("style");return t.textContent=n,t}function xk(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Dm}="${e}"],link[${Dm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Dm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Sm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Nm=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,xk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Mb);r?.forEach(i=>this.addUsage(i,this.external,Sm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(xb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])xb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Mb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Sm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(We),J(jl),J(Bl,8),J(Ni))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xm=/%COMP%/g;var kb="%COMP%",Mk=`_nghost-${kb}`,Pk=`_ngcontent-${kb}`,kk=!0,Ok=new z("",{providedIn:"root",factory:()=>kk});function Lk(n){return Pk.replace(xm,n)}function Fk(n){return Mk.replace(xm,n)}function Ob(n,e){return e.map(t=>t.replace(xm,n))}var Mm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Xa(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ad?i.applyToHost(t):i instanceof ec&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Yn.Emulated:o=new ad(u,l,r,this.appId,h,s,a,p,m);break;case Yn.ShadowDom:return new Am(u,l,t,r,s,a,this.nonce,p,m);default:o=new ec(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(Rm),J(Nm),J(jl),J(Ok),J(We),J(Ie),J(Bl),J($a,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Xa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Cm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Pb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Pb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Cm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Cm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Pb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Am=class extends Xa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Ob(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Sm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ec=class extends Xa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?Ob(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ad=class extends ec{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=Lk(h),this.hostAttr=Fk(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ud=class n extends Qa{supportsDOMEvents=!0;static makeCurrent(){Em(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Vk();return t==null?null:jk(t)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bm(document.cookie,e)}},tc=null;function Vk(){return tc=tc||document.head.querySelector("base"),tc?tc.getAttribute("href"):null}function jk(n){return new URL(n,document.baseURI).pathname}var Uk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Lb=["alt","control","meta","shift"],Bk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$k={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Fb=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Bk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lb.forEach(s=>{if(s!==i){let a=$k[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(We))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Pm(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},Hk(e));return Tb(r)}function Hk(n){return{appProviders:[...Kk,...n?.providers??[]],platformProviders:Wk}}function zk(){ud.makeCurrent()}function qk(){return new mn}function Gk(){return Fg(document),document}var Wk=[{provide:Ni,useValue:Nb},{provide:Ul,useValue:zk,multi:!0},{provide:We,useFactory:Gk}];var Kk=[{provide:wa,useValue:"root"},{provide:mn,useFactory:qk},{provide:cd,useClass:sd,multi:!0,deps:[We]},{provide:cd,useClass:Fb,multi:!0,deps:[We]},Mm,Nm,Rm,{provide:Si,useExisting:Mm},{provide:Za,useClass:Uk},[]];var Vb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(We))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X="primary",mc=Symbol("RouteTitle"),Vm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fi(n){return new Vm(n)}function Gb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tn(n[t],e[t]))return!1;return!0}function Tn(n,e){let t=n?jm(n):void 0,r=e?jm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Wb(n[i],e[i]))return!1;return!0}function jm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Wb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Kb(n){return n.length>0?n[n.length-1]:null}function nr(n){return rp(n)?n:Yo(n)?ke(Promise.resolve(n)):Z(n)}var Zk={exact:Yb,subset:Zb},Qb={exact:Jk,subset:Xk,ignored:()=>!0};function jb(n,e,t){return Zk[t.paths](n.root,e.root,t.matrixParams)&&Qb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Jk(n,e){return Tn(n,e)}function Yb(n,e,t){if(!Oi(n.segments,e.segments)||!hd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Yb(n.children[r],e.children[r],t))return!1;return!0}function Xk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wb(n[t],e[t]))}function Zb(n,e,t){return Jb(n,e,e.segments,t)}function Jb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oi(i,t)||e.hasChildren()||!hd(i,t,r))}else if(n.segments.length===t.length){if(!Oi(n.segments,t)||!hd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Zb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oi(n.segments,i)||!hd(n.segments,i,r)||!n.children[X]?!1:Jb(n.children[X],e,o,r)}}function hd(n,e,t){return e.every((r,i)=>Qb[t](n[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){return nO.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fd(this)}},jr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fi(this.parameters),this._parameterMap}toString(){return eD(this)}};function eO(n,e){return Oi(n,e)&&n.every((t,r)=>Tn(t.parameters,e[r].parameters))}function Oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function tO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===X&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==X&&(t=t.concat(e(i,r)))}),t}var yc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Vi,providedIn:"root"})}return n})(),Vi=class{parse(e){let t=new Bm(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${nc(e.root,!0)}`,r=oO(e.queryParams),i=typeof e.fragment=="string"?`#${rO(e.fragment)}`:"";return`${t}${r}${i}`}},nO=new Vi;function fd(n){return n.segments.map(e=>eD(e)).join("/")}function nc(n,e){if(!n.hasChildren())return fd(n);if(e){let t=n.children[X]?nc(n.children[X],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${nc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=tO(n,(r,i)=>i===X?[nc(n.children[X],!1)]:[`${i}:${nc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[X]!=null?`${fd(n)}/${t[0]}`:`${fd(n)}/(${t.join("//")})`}}function Xb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ld(n){return Xb(n).replace(/%3B/gi,";")}function rO(n){return encodeURI(n)}function Um(n){return Xb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pd(n){return decodeURIComponent(n)}function Ub(n){return pd(n.replace(/\+/g,"%20"))}function eD(n){return`${Um(n.path)}${iO(n.parameters)}`}function iO(n){return Object.entries(n).map(([e,t])=>`;${Um(e)}=${Um(t)}`).join("")}function oO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ld(t)}=${ld(i)}`).join("&"):`${ld(t)}=${ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var sO=/^[^\/()?;#]+/;function km(n){let e=n.match(sO);return e?e[0]:""}var aO=/^[^\/()?;=#]+/;function cO(n){let e=n.match(aO);return e?e[0]:""}var uO=/^[^=?&#]+/;function lO(n){let e=n.match(uO);return e?e[0]:""}var dO=/^[^&#]+/;function hO(n){let e=n.match(dO);return e?e[0]:""}var Bm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[X]=new me(e,t)),r}parseSegment(){let e=km(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new jr(pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=cO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=km(this.remaining);i&&(r=i,this.capture(r))}e[pd(t)]=pd(r)}parseQueryParam(e){let t=lO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=hO(this.remaining);s&&(r=s,this.capture(r))}let i=Ub(t),o=Ub(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=km(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();t[o??X]=Object.keys(s).length===1&&s[X]?s[X]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function tD(n){return n.segments.length>0?new me([],{[X]:n}):n}function nD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=nD(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return fO(t)}function fO(n){if(n.numberOfChildren===1&&n.children[X]){let e=n.children[X];return new me(n.segments.concat(e.segments),e.children)}return n}function ts(n){return n instanceof Dn}function rD(n,e,t=null,r=null){let i=iD(n);return oD(i,e,t,r)}function iD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=tD(r);return e??i}function oD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Om(i,i,i,t,r);let o=pO(e);if(o.toRoot())return Om(i,i,new me([],{}),t,r);let s=gO(o,i,n),a=s.processChildren?ic(s.segmentGroup,s.index,o.commands):aD(s.segmentGroup,s.index,o.commands);return Om(i,s.segmentGroup,a,t,r)}function gd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ac(n){return typeof n=="object"&&n!=null&&n.outlets}function Om(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=sD(n,e,t);let a=tD(nD(s));return new Dn(a,o,i)}function sD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=sD(o,e,t)}),new me(n.segments,r)}var md=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gd(r[0]))throw new H(4003,!1);let i=r.find(ac);if(i&&i!==Kb(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pO(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new md(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new md(t,e,r)}var Xo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function gO(n,e,t){if(n.isAbsolute)return new Xo(e,!0,0);if(!t)return new Xo(e,!1,NaN);if(t.parent===null)return new Xo(t,!0,0);let r=gd(n.commands[0])?0:1,i=t.segments.length-1+r;return mO(t,i,n.numberOfDoubleDots)}function mO(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Xo(r,!1,i-o)}function yO(n){return ac(n[0])?n[0].outlets:{[X]:n}}function aD(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return ic(n,e,t);let r=vO(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[X]=new me(n.segments.slice(r.pathIndex),n.children),ic(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?$m(n,e,t):r.match?ic(n,0,i):$m(n,e,t)}function ic(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=yO(t),i={};if(Object.keys(r).some(o=>o!==X)&&n.children[X]&&n.numberOfChildren===1&&n.children[X].segments.length===0){let o=ic(n.children[X],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function vO(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ac(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!$b(u,l,s))return o;r+=2}else{if(!$b(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $m(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ac(o)){let u=_O(o.outlets);return new me(r,u)}if(i===0&&gd(t[0])){let u=n.segments[e];r.push(new jr(u.path,Bb(t[0]))),i++;continue}let s=ac(o)?o.outlets[X]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gd(a)?(r.push(new jr(s,Bb(a))),i+=2):(r.push(new jr(s,{})),i++)}return new me(r,{})}function _O(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$m(new me([],{}),0,r))}),e}function Bb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $b(n,e,t){return n==t.path&&Tn(e,t.parameters)}var oc="imperative",Ke=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ke||{}),Lt=class{id;url;constructor(e,t){this.id=e,this.url=t}},ji=class extends Lt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},er=class extends Lt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vt||{}),cc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(cc||{}),bn=class extends Lt{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends Lt{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ns=class extends Lt{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uc=class extends Lt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class extends Lt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_d=class extends Lt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ed=class extends Lt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wd=class{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Td=class{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cd=class{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var lc=class{},rs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function EO(n){return!(n instanceof lc)&&!(n instanceof rs)}function IO(n,e){return n.providers&&!n._injector&&(n._injector=qa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function un(n){return n.outlet||X}function wO(n,e){let t=n.filter(r=>un(r)===e);return t.push(...n.filter(r=>un(r)!==e)),t}function ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new as(this.rootInjector)}},as=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(Ue))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ad=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Hm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Hm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=zm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zm(e,this._root).map(t=>t.value)}};function Hm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Hm(n,t);if(r)return r}return null}function zm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=zm(n,t);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Jo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dc=class extends Ad{snapshot;constructor(e,t){super(e),this.snapshot=t,Jm(this,e)}toString(){return this.snapshot.toString()}};function cD(n){let e=TO(n),t=new et([new jr("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),a=new Ur(t,r,o,s,i,X,n,e.root);return a.snapshot=e.root,new dc(new Ot(a,[]),e)}function TO(n){let e={},t={},r={},o=new Li([],e,r,"",t,X,n,null,{});return new hc("",new Ot(o,[]))}var Ur=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(l=>l[mc]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>Fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>Fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&lD(i)&&(r.resolve[mc]=i.title),r}var Li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hc=class extends Ad{url;constructor(e,t){super(t),this.url=e,Jm(this,t)}toString(){return uD(this._root)}};function Jm(n,e){e.value._routerState=n,e.children.forEach(t=>Jm(n,t))}function uD(n){let e=n.children.length>0?` { ${n.children.map(uD).join(", ")} } `:"";return`${n.value}${e}`}function Lm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tn(e.params,t.params)||n.paramsSubject.next(t.params),Yk(e.url,t.url)||n.urlSubject.next(t.url),Tn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function qm(n,e){let t=Tn(n.params,e.params)&&eO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||qm(n.parent,e.parent))}function lD(n){return typeof n.title=="string"||n.title===null}var dD=new z(""),vc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new mt;deactivateEvents=new mt;attachEvents=new mt;detachEvents=new mt;routerOutletData=wb();parentContexts=L(as);location=L(xi);changeDetector=L(vm);inputBinder=L(Pd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Gm(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qo({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ll]})}return n})(),Gm=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ur?this.route:e===as?this.childContexts:e===dD?this.outletData:this.parent.get(e,t)}},Pd=new z("");var Xm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mi({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Zn(0,"router-outlet")},dependencies:[vc],encapsulation:2})}return n})();function ey(n){let e=n.children&&n.children.map(ey),t=e?ye(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==X&&(t.component=Xm),t}function bO(n,e,t){let r=fc(n,e._root,t?t._root:void 0);return new dc(r,e)}function fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=DO(n,e,t);return new Ot(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fc(n,a)),s}}let r=CO(e.value),i=e.children.map(o=>fc(n,o));return new Ot(r,i)}}function DO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fc(n,r,i);return fc(n,r)})}function CO(n){return new Ur(new et(n.url),new et(n.params),new et(n.queryParams),new et(n.fragment),new et(n.data),n.outlet,n.component,n)}var is=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},hD="ngNavigationCancelingError";function Nd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fD(!1,vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[hD]=!0,t.cancellationCode=e,t}function SO(n){return pD(n)&&ts(n.url)}function pD(n){return!!n&&n[hD]}var AO=(n,e,t,r)=>fe(i=>(new Wm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Wm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Lm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Jo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Jo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Lm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},xd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function RO(n,e,t){let r=n._root,i=e?e._root:null;return rc(r,i,t,[r.value])}function NO(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function cs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Tp(n)?n:e.get(n):r}function rc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jo(e);return n.children.forEach(s=>{xO(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sc(a,t.getContext(s),i)),i}function xO(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=MO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rc(n,e,a?a.children:null,r,i):rc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,s))}else s&&sc(e,a,i),i.canActivateChecks.push(new xd(r)),o.component?rc(n,null,a?a.children:null,r,i):rc(n,null,t,r,i);return i}function MO(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,e.url)||!Tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qm(n,e)||!Tn(n.queryParams,e.queryParams);case"paramsChange":default:return!qm(n,e)}}function sc(n,e,t){let r=Jo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?sc(s,e.children.getContext(o),t):sc(s,null,t):sc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new es(e.outlet.component,i)):t.canDeactivateChecks.push(new es(null,i)):t.canDeactivateChecks.push(new es(null,i))}function _c(n){return typeof n=="function"}function PO(n){return typeof n=="boolean"}function kO(n){return n&&_c(n.canLoad)}function OO(n){return n&&_c(n.canActivate)}function LO(n){return n&&_c(n.canActivateChild)}function FO(n){return n&&_c(n.canDeactivate)}function VO(n){return n&&_c(n.canMatch)}function gD(n){return n instanceof Un||n?.name==="EmptyError"}var dd=Symbol("INITIAL_VALUE");function os(){return Tt(n=>Wu(n.map(e=>e.pipe(Bn(1),sp(dd)))).pipe(fe(e=>{for(let t of e)if(t!==!0){if(t===dd)return dd;if(t===!1||jO(t))return t}return!0}),Ut(e=>e!==dd),Bn(1)))}function jO(n){return ts(n)||n instanceof is}function UO(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(ye(V({},t),{guardsResult:!0})):BO(s,r,i,n).pipe(je(a=>a&&PO(a)?$O(r,o,n,e):Z(a)),fe(a=>ye(V({},t),{guardsResult:a})))})}function BO(n,e,t,r){return ke(n).pipe(je(i=>WO(i.component,i.route,t,e,r)),$n(i=>i!==!0,!0))}function $O(n,e,t,r){return ke(e).pipe(Ro(i=>Ao(zO(i.route.parent,r),HO(i.route,r),GO(n,i.path,t),qO(n,i.route,t))),$n(i=>i!==!0,!0))}function HO(n,e){return n!==null&&e&&e(new Dd(n)),Z(!0)}function zO(n,e){return n!==null&&e&&e(new Td(n)),Z(!0)}function qO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>ga(()=>{let s=ss(e)??t,a=cs(o,s),u=OO(a)?a.canActivate(e,n):Be(s,()=>a(e,n));return nr(u).pipe($n())}));return Z(i).pipe(os())}function GO(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>NO(s)).filter(s=>s!==null).map(s=>ga(()=>{let a=s.guards.map(u=>{let l=ss(s.node)??t,h=cs(u,l),p=LO(h)?h.canActivateChild(r,n):Be(l,()=>h(r,n));return nr(p).pipe($n())});return Z(a).pipe(os())}));return Z(o).pipe(os())}function WO(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=ss(e)??i,l=cs(a,u),h=FO(l)?l.canDeactivate(n,e,t,r):Be(u,()=>l(n,e,t,r));return nr(h).pipe($n())});return Z(s).pipe(os())}function KO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=cs(s,n),u=kO(a)?a.canLoad(e,t):Be(n,()=>a(e,t));return nr(u)});return Z(o).pipe(os(),mD(r))}function mD(n){return Qf(qe(e=>{if(typeof e!="boolean")throw Nd(n,e)}),fe(e=>e===!0))}function QO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=cs(s,n),u=VO(a)?a.canMatch(e,t):Be(n,()=>a(e,t));return nr(u)});return Z(o).pipe(os(),mD(r))}var pc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},gc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Zo(n){return So(new pc(n))}function YO(n){return So(new H(4e3,!1))}function ZO(n){return So(fD(!1,vt.GuardRejected))}var Km=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[X])return YO(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,t,r,i,o){return JO(t,i,o).pipe(fe(s=>{if(s instanceof Dn)throw new gc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new gc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function JO(n,e,t){if(typeof n=="string")return Z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return nr(Be(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XO(n,e,t,r,i){let o=yD(n,e,t);return o.matched?(r=IO(e,r),QO(r,e,t,i).pipe(fe(s=>s===!0?o:V({},Qm)))):Z(o)}function yD(n,e,t){if(e.path==="**")return eL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},Qm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gb)(t,n,e);if(!i)return V({},Qm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function eL(n){return{matched:!0,parameters:n.length>0?Kb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Hb(n,e,t,r){return t.length>0&&rL(n,t,r)?{segmentGroup:new me(e,nL(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&iL(n,t,r)?{segmentGroup:new me(n.segments,tL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function tL(n,e,t,r){let i={};for(let o of t)if(kd(n,e,o)&&!r[un(o)]){let s=new me([],{});i[un(o)]=s}return V(V({},r),i)}function nL(n,e){let t={};t[X]=e;for(let r of n)if(r.path===""&&un(r)!==X){let i=new me([],{});t[un(r)]=i}return t}function rL(n,e,t){return t.some(r=>kd(n,e,r)&&un(r)!==X)}function iL(n,e,t){return t.some(r=>kd(n,e,r))}function kd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oL(n,e,t){return e.length===0&&!n.children[t]}var Ym=class{};function sL(n,e,t,r,i,o,s="emptyOnly"){return new Zm(n,e,t,r,i,s,o).recognize()}var aL=31,Zm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Km(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(({children:t,rootSnapshot:r})=>{let i=new Ot(r,t),o=new hc("",i),s=rD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Li([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,t).pipe(fe(r=>({children:r,rootSnapshot:t})),Tr(r=>{if(r instanceof gc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(fe(s=>s instanceof Ot?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(Ro(s=>{let a=r.children[s],u=wO(t,s);return this.processSegmentGroup(e,u,a,s,i)}),op((s,a)=>(s.push(...a),s)),br(null),ip(),je(s=>{if(s===null)return Zo(r);let a=vD(s);return cL(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(Ro(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Tr(l=>{if(l instanceof pc)return Z(null);throw l}))),$n(u=>!!u),Tr(u=>{if(gD(u))return oL(r,i,o)?Z(new Ym):Zo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return un(r)!==s&&(s===X||!kd(i,o,r))?Zo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Zo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=yD(t,i,o);if(!u)return Zo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aL&&(this.allowRedirects=!1));let y=new Li(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,zb(i),un(i),i.component??i._loadedComponent??null,i,qb(i)),N=Rd(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(N.params),y.data=Object.freeze(N.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Tt(M=>this.applyRedirects.lineralizeSegments(i,M)),je(M=>this.processSegment(e,r,t,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=XO(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Tt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,N=new Li(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,zb(r),un(r),r.component??r._loadedComponent??null,r,qb(r)),P=Rd(N,s,this.paramsInheritanceStrategy);N.params=Object.freeze(P.params),N.data=Object.freeze(P.data);let{segmentGroup:M,slicedSegments:j}=Hb(t,m,y,l);if(j.length===0&&M.hasChildren())return this.processChildren(h,l,M,N).pipe(fe(Q=>new Ot(N,Q)));if(l.length===0&&j.length===0)return Z(new Ot(N,[]));let K=un(r)===o;return this.processSegment(h,l,M,j,K?X:o,!0,N).pipe(fe(Q=>new Ot(N,Q instanceof Ot?[Q]:[])))}))):Zo(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):KO(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):ZO(t))):Z({routes:[],injector:e})}};function cL(n){n.sort((e,t)=>e.value.outlet===X?-1:t.value.outlet===X?1:e.value.outlet.localeCompare(t.value.outlet))}function uL(n){let e=n.value.routeConfig;return e&&e.path===""}function vD(n){let e=[],t=new Set;for(let r of n){if(!uL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vD(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!t.has(r))}function zb(n){return n.data||{}}function qb(n){return n.resolve||{}}function lL(n,e,t,r,i,o){return je(s=>sL(n,e,t,r,s.extractedUrl,i,o).pipe(fe(({state:a,tree:u})=>ye(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function dL(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of _D(u))s.add(l);let a=0;return ke(s).pipe(Ro(u=>o.has(u)?hL(u,r,n,e):(u.data=Rd(u,u.parent,n).resolve,Z(void 0))),qe(()=>a++),No(1),je(u=>a===s.size?Z(t):It))})}function _D(n){let e=n.children.map(t=>_D(t)).flat();return[n,...e]}function hL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!lD(i)&&(o[mc]=i.title),ga(()=>(n.data=Rd(n,n.parent,t).resolve,fL(o,n,e,r).pipe(fe(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function fL(n,e,t,r){let i=jm(n);if(i.length===0)return Z({});let o={};return ke(i).pipe(je(s=>pL(n[s],e,t,r).pipe($n(),qe(a=>{if(a instanceof is)throw Nd(new Vi,a);o[s]=a}))),No(1),fe(()=>o),Tr(s=>gD(s)?It:So(s)))}function pL(n,e,t,r){let i=ss(e)??r,o=cs(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return nr(s)}function Fm(n){return Tt(e=>{let t=n(e);return t?ke(t).pipe(fe(()=>e)):Z(e)})}var ty=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(t){return t.data[mc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(ED),providedIn:"root"})}return n})(),ED=(()=>{class n extends ty{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(Vb))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ec=new z("",{providedIn:"root",factory:()=>({})}),Ic=new z(""),ID=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(cm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(Be(t,()=>r.loadComponent())).pipe(fe(TD),Tt(bD),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ma(()=>{this.componentLoaders.delete(r)})),o=new To(i,()=>new Xe).pipe(wo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=wD(r,this.compiler,t,this.onLoadEndListener).pipe(ma(()=>{this.childrenLoaders.delete(r)})),s=new To(o,()=>new Xe).pipe(wo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wD(n,e,t,r){return nr(Be(t,()=>n.loadChildren())).pipe(fe(TD),Tt(bD),je(i=>i instanceof Gl||Array.isArray(i)?Z(i):ke(e.compileModuleAsync(i))),fe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ic,[],{optional:!0,self:!0}).flat()),{routes:s.map(ey),injector:o}}))}function gL(n){return n&&typeof n=="object"&&"default"in n}function TD(n){return gL(n)?n.default:n}function bD(n){return Z(n)}var Od=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(mL),providedIn:"root"})}return n})(),mL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DD=new z("");var CD=new z(""),SD=(()=>{class n{currentNavigation=Or(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Xe;transitionAbortWithErrorSubject=new Xe;configLoader=L(ID);environmentInjector=L(Ue);destroyRef=L(kr);urlSerializer=L(yc);rootContexts=L(as);location=L(ki);inputBindingEnabled=L(Pd,{optional:!0})!==null;titleStrategy=L(ty);options=L(Ec,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(Od);createViewTransition=L(DD,{optional:!0});navigationErrorHandler=L(CD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Id(i)),r=i=>this.events.next(new wd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Jn(()=>{this.transitions?.next(ye(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new et(null),this.transitions.pipe(Ut(r=>r!==null),Tt(r=>{let i=!1;return Z(r).pipe(Tt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ye(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new tr(o.id,this.urlSerializer.serialize(o.rawUrl),"",cc.IgnoredSameUrlNavigation)),o.resolve(!1),It;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(Tt(u=>(this.events.next(new ji(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?It:Promise.resolve(u))),lL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new uc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new ji(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let N=cD(this.rootComponentType).snapshot;return this.currentTransition=r=ye(V({},o),{targetSnapshot:N,urlAfterRedirects:l,extras:ye(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),Z(r)}else return this.events.next(new tr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",cc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),It}),qe(o=>{let s=new yd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),fe(o=>(this.currentTransition=r=ye(V({},o),{guards:RO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),UO(this.environmentInjector,o=>this.events.next(o)),qe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Nd(this.urlSerializer,o.guardsResult);let s=new vd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ut(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vt.GuardRejected),!1)),Fm(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(qe(s=>{let a=new _d(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Tt(s=>{let a=!1;return Z(s).pipe(dL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vt.NoDataFromResolver)}}))}),qe(s=>{let a=new Ed(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Fm(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=ss(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(qe(h=>{a.component=h}),fe(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Wu(s(o.targetSnapshot.root)).pipe(br(null),Bn(1))}),Fm(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ke(a).pipe(fe(()=>r)):Z(r)}),fe(o=>{let s=bO(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ye(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),qe(()=>{this.events.next(new lc)}),AO(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Bn(1),Qu(new ce(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ut(()=>!i&&!r.targetRouterState),qe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vt.Aborted)}))),qe({next:o=>{i=!0,this.lastSuccessfulNavigation=Jn(this.currentNavigation),this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Qu(this.transitionAbortWithErrorSubject.pipe(qe(o=>{throw o}))),ma(()=>{i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Tr(o=>{if(this.destroyed)return r.resolve(!1),It;if(i=!0,pD(o))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),SO(o)?this.events.next(new rs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ns(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof is){let{message:u,cancellationCode:l}=Nd(this.urlSerializer,a);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new rs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return It}))}))}cancelNavigationTransition(t,r,i){let o=new bn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Jn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL(n){return n!==oc}var AD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(vL),providedIn:"root"})}return n})(),Md=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vL=(()=>{class n extends Md{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Fl(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RD=(()=>{class n{urlSerializer=L(yc);options=L(Ec,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(ki);urlHandlingStrategy=L(Od);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=cD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>L(_L),providedIn:"root"})}return n})(),_L=(()=>{class n extends RD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ji?this.updateStateMemento():t instanceof tr?this.commitTransition(r):t instanceof uc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bn&&t.code!==vt.SupersededByNewNavigation&&t.code!==vt.Redirect?this.restoreHistory(r):t instanceof ns?this.restoreHistory(r,!0):t instanceof er&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Fl(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ny(n,e){n.events.pipe(Ut(t=>t instanceof er||t instanceof bn||t instanceof ns||t instanceof tr),fe(t=>t instanceof er||t instanceof tr?0:(t instanceof bn?t.code===vt.Redirect||t.code===vt.SupersededByNewNavigation:!1)?2:1),Ut(t=>t!==2),Bn(1)).subscribe(()=>{e()})}var EL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},us=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(nm);stateManager=L(RD);options=L(Ec,{optional:!0})||{};pendingTasks=L(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(SD);urlSerializer=L(yc);location=L(ki);urlHandlingStrategy=L(Od);injector=L(Ue);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(AD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(Ic,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(Pd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Jn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof er)this.navigated=!0;else if(r instanceof rs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yL(i.source)},s);this.scheduleNavigation(a,oc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Ct)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Jn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ey),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=iD(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return oD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ts(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oc,null,r)}navigate(t,r={skipLocationChange:!1}){return wL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Po(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},EL):r===!1?i=V({},IL):i=r,ts(t))return jb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return jb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ny(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var bL=new z("");function ry(n,...e){return Nt([{provide:Ic,multi:!0,useValue:n},[],{provide:Ur,useFactory:DL,deps:[us]},{provide:Wl,multi:!0,useFactory:SL},e.map(t=>t.\u0275providers)])}function DL(n){return n.routerState.root}function CL(n,e){return{\u0275kind:n,\u0275providers:e}}function SL(){let n=L(Ge);return e=>{let t=n.get(Pi);if(e!==t.components[0])return;let r=n.get(us),i=n.get(AL);n.get(RL)===1&&r.initialNavigation(),n.get(NL,null,{optional:!0})?.setUpPreloading(),n.get(bL,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AL=new z("",{factory:()=>new Xe}),RL=new z("",{providedIn:"root",factory:()=>1});var NL=new z("");function iy(){return CL(6,[{provide:Vr,useClass:wm}])}var ND=()=>{};var PD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},PL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ld={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let N=l<<6&192|p;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kL=function(n){let e=PD(n);return Ld.encodeByteArray(e,!0)},Tc=function(n){return kL(n).replace(/\./g,"")},Fd=function(n){try{return Ld.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OL=()=>cy().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Fd(n[1]);return e&&JSON.parse(e)},Vd=()=>{try{return ND()||OL()||LL()||FL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uy=n=>{var e,t;return(t=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kD=n=>{let e=uy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ly=()=>{var n;return(n=Vd())===null||n===void 0?void 0:n.config},dy=n=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${n}`]};var Ui=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Br(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function jd(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function OD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tc(JSON.stringify(t)),Tc(JSON.stringify(s)),""].join(".")}var wc={};function VL(){let n={prod:[],emulator:[]};for(let e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function jL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var xD=!1;function Ud(n,e){if(typeof window>"u"||typeof document>"u"||!Br(window.location.host)||wc[n]===e||wc[n]||xD)return;wc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=VL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{xD=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=jL(r),y=t("text"),N=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),M=document.getElementById(P)||document.createElement("a"),j=t("preprendIcon"),K=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(M,P);let Te=l();u(K,j),Q.append(K,N,M,Te),document.body.appendChild(Q)}o?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function UL(){var n;let e=(n=Vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){let n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BD(){return!UL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bc(){try{return typeof indexedDB=="object"}catch{return!1}}function $D(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var BL="FirebaseError",Ft=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$L(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ft(i,a,r)}};function $L(n,e){return n.replace(HL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var HL=/\{\$([^}]+)}/g;function HD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(MD(o)&&MD(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function MD(n){return n!==null&&typeof n=="object"}function Dc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zD(n,e){let t=new ay(n,e);return t.subscribe.bind(t)}var ay=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oy(){}var PX=14400*1e3;function ut(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bi="[DEFAULT]";var hy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ui;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GL(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qL(n){return n===Bi?void 0:n}function GL(n){return n.instantiationMode==="EAGER"}var Bd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var WL=[],ue=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ue||{}),KL={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},QL=ue.INFO,YL={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},ZL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=YL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=QL,this._logHandler=ZL,this._userLogHandler=null,WL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var JL=(n,e)=>e.some(t=>n instanceof t),qD,GD;function XL(){return qD||(qD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eF(){return GD||(GD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WD=new WeakMap,py=new WeakMap,KD=new WeakMap,fy=new WeakMap,my=new WeakMap;function tF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(An(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&WD.set(t,n)}).catch(()=>{}),my.set(e,n),e}function nF(n){if(py.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});py.set(n,e)}var gy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return An(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QD(n){gy=n(gy)}function rF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call($d(this),e,...t);return KD.set(r,e.sort?e.sort():[e]),An(r)}:eF().includes(n)?function(...e){return n.apply($d(this),e),An(WD.get(this))}:function(...e){return An(n.apply($d(this),e))}}function iF(n){return typeof n=="function"?rF(n):(n instanceof IDBTransaction&&nF(n),JL(n,XL())?new Proxy(n,gy):n)}function An(n){if(n instanceof IDBRequest)return tF(n);if(fy.has(n))return fy.get(n);let e=iF(n);return e!==n&&(fy.set(n,e),my.set(e,n)),e}var $d=n=>my.get(n);function ZD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var oF=["get","getKey","getAll","getAllKeys","count"],sF=["put","add","delete","clear"],yy=new Map;function YD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=sF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oF.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return yy.set(e,o),o}QD(n=>ye(V({},n),{get:(e,t,r)=>YD(e,t)||n.get(e,t,r),has:(e,t)=>!!YD(e,t)||n.has(e,t)}));var _y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function aF(n){let e=n.getComponent();return e?.type==="VERSION"}var Ey="@firebase/app",JD="0.13.2";var rr=new Sn("@firebase/app"),cF="@firebase/app-compat",uF="@firebase/analytics-compat",lF="@firebase/analytics",dF="@firebase/app-check-compat",hF="@firebase/app-check",fF="@firebase/auth",pF="@firebase/auth-compat",gF="@firebase/database",mF="@firebase/data-connect",yF="@firebase/database-compat",vF="@firebase/functions",_F="@firebase/functions-compat",EF="@firebase/installations",IF="@firebase/installations-compat",wF="@firebase/messaging",TF="@firebase/messaging-compat",bF="@firebase/performance",DF="@firebase/performance-compat",CF="@firebase/remote-config",SF="@firebase/remote-config-compat",AF="@firebase/storage",RF="@firebase/storage-compat",NF="@firebase/firestore",xF="@firebase/ai",MF="@firebase/firestore-compat",PF="firebase",kF="11.10.0";var Iy="[DEFAULT]",OF={[Ey]:"fire-core",[cF]:"fire-core-compat",[lF]:"fire-analytics",[uF]:"fire-analytics-compat",[hF]:"fire-app-check",[dF]:"fire-app-check-compat",[fF]:"fire-auth",[pF]:"fire-auth-compat",[gF]:"fire-rtdb",[mF]:"fire-data-connect",[yF]:"fire-rtdb-compat",[vF]:"fire-fn",[_F]:"fire-fn-compat",[EF]:"fire-iid",[IF]:"fire-iid-compat",[wF]:"fire-fcm",[TF]:"fire-fcm-compat",[bF]:"fire-perf",[DF]:"fire-perf-compat",[CF]:"fire-rc",[SF]:"fire-rc-compat",[AF]:"fire-gcs",[RF]:"fire-gcs-compat",[NF]:"fire-fst",[MF]:"fire-fst-compat",[xF]:"fire-vertex","fire-js":"fire-js",[PF]:"fire-js-all"};var Cc=new Map,LF=new Map,wy=new Map;function XD(n,e){try{n.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(wy.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(let t of Cc.values())XD(t,n);for(let t of LF.values())XD(t,n);return!0}function ls(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kt(n){return n==null?!1:n.settings!==void 0}var FF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new ln("app","Firebase",FF);var Ty=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}};var Hr=kF;function Cy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Iy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw $r.create("bad-app-name",{appName:String(i)});if(t||(t=ly()),!t)throw $r.create("no-options");let o=Cc.get(i);if(o){if(Cn(t,o.options)&&Cn(r,o.config))return o;throw $r.create("duplicate-app",{appName:i})}let s=new Bd(i);for(let u of wy.values())s.addComponent(u);let a=new Ty(t,r,s);return Cc.set(i,a),a}function $i(n=Iy){let e=Cc.get(n);if(!e&&n===Iy&&ly())return Cy();if(!e)throw $r.create("no-app",{appName:n});return e}function Hd(){return Array.from(Cc.values())}function xe(n,e,t){var r;let i=(r=OF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}dn(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var VF="firebase-heartbeat-database",jF=1,Sc="firebase-heartbeat-store",vy=null;function rC(){return vy||(vy=ZD(VF,jF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $r.create("idb-open",{originalErrorMessage:n.message})})),vy}function UF(n){return _(this,null,function*(){try{let t=(yield rC()).transaction(Sc),r=yield t.objectStore(Sc).get(iC(n));return yield t.done,r}catch(e){if(e instanceof Ft)rr.warn(e.message);else{let t=$r.create("idb-get",{originalErrorMessage:e?.message});rr.warn(t.message)}}})}function eC(n,e){return _(this,null,function*(){try{let r=(yield rC()).transaction(Sc,"readwrite");yield r.objectStore(Sc).put(e,iC(n)),yield r.done}catch(t){if(t instanceof Ft)rr.warn(t.message);else{let r=$r.create("idb-set",{originalErrorMessage:t?.message});rr.warn(r.message)}}})}function iC(n){return`${n.name}!${n.options.appId}`}var BF=1024,$F=30,by=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Dy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>$F){let s=zF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=tC(),{heartbeatsToSend:r,unsentEntries:i}=HF(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rr.warn(t),""}})}};function tC(){return new Date().toISOString().substring(0,10)}function HF(n,e=BF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return bc()?$D().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield UF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nC(n){return Tc(JSON.stringify({version:2,heartbeats:n})).length}function zF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function qF(n){dn(new _t("platform-logger",e=>new _y(e),"PRIVATE")),dn(new _t("heartbeat",e=>new by(e),"PRIVATE")),xe(Ey,JD,n),xe(Ey,JD,"esm2017"),xe("fire-js","")}qF("");var GF="firebase",WF="11.10.0";xe(GF,WF,"app");function oC(n){n===void 0&&(n=L(Ge));let e=n.get(Uo);return t=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var zr=new Mo("ANGULARFIRE2_VERSION");function Ac(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hs=(n,e)=>{let t=e?[e]:Hd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ds=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ds||{}),sC=ym()&&typeof Zone<"u"?ds.WARN:ds.SILENT;var zd=class{zone;delegate;constructor(e,t=tp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},qr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=L(Ie);this.outsideAngular=t.runOutsideAngular(()=>new zd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new zd(typeof Zone>"u"?void 0:Zone.current,ep))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aC=!1;function KF(n,e){!aC&&(sC>ds.SILENT||ym())&&(aC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),sC>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function QF(n){let e=L(Ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Hi(n){let e=L(Ie,{optional:!0});return e?e.run(()=>n()):n()}var YF=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>Hi(()=>n.apply(void 0,r)))),hn=(n,e,t)=>(t||=e?ds.WARN:ds.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=L(qr),s=L(Uo),a=L(Ue)}catch{return KF(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Hi(()=>s.add())),i[l]=YF(i[l],r,a));let u=QF(()=>n.apply(this,i));return e?u instanceof ce?u.pipe(wr(o.outsideAngular),Ir(o.insideAngular),oC(a)):u instanceof Promise?Hi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Be(a,()=>Hi(()=>h(m))),m=>Be(a,()=>Hi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Hi(()=>u):u instanceof ce?u.pipe(wr(o.outsideAngular),Ir(o.insideAngular)):Hi(()=>u)});var ir=class{constructor(e){return e}},zi=class{constructor(){return Hd()}};function ZF(n){return n&&n.length===1?n[0]:new ir($i())}var Sy=new z("angularfire2._apps"),JF={provide:ir,useFactory:ZF,deps:[[new Pt,Sy]]},XF={provide:zi,deps:[[new Pt,Sy]]};function e2(n){return(e,t)=>{let r=t.get(Ni);xe("angularfire",zr.full,"core"),xe("angularfire",zr.full,"app"),xe("angular",_p.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ir(i)}}function cC(n,...e){return Nt([JF,XF,{provide:Sy,useFactory:e2(n),multi:!0,deps:[Ie,Ge,qr,...e]}])}var uC=hn(Cy,!0);var t2=new Map,n2={activated:!1,tokenObservers:[]},r2={initialized:!1,enabled:!1};function fn(n){return t2.get(n)||Object.assign({},n2)}function fC(){return r2}var i2="https://content-firebaseappcheck.googleapis.com/v1";var o2="exchangeDebugToken",lC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Lee=1440*60*1e3;var Ny=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Ui,this.pending.promise.catch(t=>{}),yield s2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ui,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function s2(n){return new Promise(e=>{setTimeout(e,n)})}var a2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Gr=new ln("appCheck","AppCheck",a2);function pC(n){if(!fn(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}function gC(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Gr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Gr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Gr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function mC(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${i2}/projects/${t}/apps/${r}:${o2}?key=${i}`,body:{debug_token:e}}}var c2="firebase-app-check-database",u2=1,xy="firebase-app-check-store";var qd=null;function l2(){return qd||(qd=new Promise((n,e)=>{try{let t=indexedDB.open(c2,u2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xy,{keyPath:"compositeKey"})}}}catch(t){e(Gr.create("storage-open",{originalErrorMessage:t?.message}))}}),qd)}function d2(n,e){return h2(f2(n),e)}function h2(n,e){return _(this,null,function*(){let r=(yield l2()).transaction(xy,"readwrite"),o=r.objectStore(xy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Gr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function f2(n){return`${n.options.appId}-${n.name}`}var Rc=new Sn("@firebase/app-check");function Ay(n,e){return bc()?d2(n,e).catch(t=>{Rc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yC(){return fC().enabled}function vC(){return _(this,null,function*(){let n=fC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var p2={error:"UNKNOWN_ERROR"};function g2(n){return Ld.encodeString(JSON.stringify(n),!1)}function My(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;pC(r);let i=fn(r),o=i.token,s;if(o&&!Nc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Nc(l)?o=l:yield Ay(r,void 0))}if(!e&&o&&Nc(o))return{token:o.token};let a=!1;if(yC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=gC(mC(r,yield vC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Ay(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Rc.warn(l.message):t&&Rc.error(l),Ry(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield fn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Rc.warn(l.message):t&&Rc.error(l),s=l}let u;return o?s?Nc(o)?u={token:o.token,internalError:s}:u=Ry(s):(u={token:o.token},i.token=o,yield Ay(r,o)):u=Ry(s),a&&_2(r,u),u})}function m2(n){return _(this,null,function*(){let e=n.app;pC(e);let{provider:t}=fn(e);if(yC()){let r=yield vC(),{token:i}=yield gC(mC(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function y2(n,e,t,r){let{app:i}=n,o=fn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Nc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),dC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dC(n))}function _C(n,e){let t=fn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function dC(n){let{app:e}=n,t=fn(e),r=t.tokenRefresher;r||(r=v2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function v2(n){let{app:e}=n;return new Ny(()=>_(null,null,function*(){let t=fn(e),r;if(t.token?r=yield My(n,!0):r=yield My(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=fn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lC.RETRIAL_MIN_WAIT,lC.RETRIAL_MAX_WAIT)}function _2(n,e){let t=fn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Nc(n){return n.expireTimeMillis-Date.now()>0}function Ry(n){return{token:g2(p2),error:n}}var Py=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=fn(this.app);for(let t of e)_C(this.app,t.next);return Promise.resolve()}};function E2(n,e){return new Py(n,e)}function I2(n){return{getToken:e=>My(n,e),getLimitedUseToken:()=>m2(n),addTokenListener:e=>y2(n,"INTERNAL",e),removeTokenListener:e=>_C(n.app,e)}}var w2="@firebase/app-check",T2="0.10.1";var b2="app-check",hC="app-check-internal";function D2(){dn(new _t(b2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return E2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hC).initialize()})),dn(new _t(hC,n=>{let e=n.getProvider("app-check").getImmediate();return I2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),xe(w2,T2)}D2();var C2="app-check";var fs=class{constructor(){return hs(C2)}};var S2=["localhost","0.0.0.0","127.0.0.1"],Qee=typeof window<"u"&&S2.includes(window.location.hostname);function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OC=kC,LC=new ln("auth","Firebase",kC());var Zd=new Sn("@firebase/auth");function A2(n,...e){Zd.logLevel<=ue.WARN&&Zd.warn(`Auth (${Hr}): ${n}`,...e)}function Wd(n,...e){Zd.logLevel<=ue.ERROR&&Zd.error(`Auth (${Hr}): ${n}`,...e)}function Qr(n,...e){throw Xy(n,...e)}function Gi(n,...e){return Xy(n,...e)}function FC(n,e,t){let r=Object.assign(Object.assign({},OC()),{[e]:t});return new ln("auth","Firebase",r).create(e,{appName:n.name})}function qi(n){return FC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LC.create(n,...e)}function Y(n,e,...t){if(!n)throw Xy(e,...t)}function or(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Wd(e),new Error(e)}function Yr(n,e){n||or(e)}function Fy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function R2(){return EC()==="http:"||EC()==="https:"}function EC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function N2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R2()||VD()||"connection"in navigator)?navigator.onLine:!0}function x2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Wi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=LD()||jD()}get(){return N2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ev(n,e){Yr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k2=new Wi(3e4,6e4);function tv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ps(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return VC(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Dc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return FD()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Br(n.emulatorConfig.host)&&(y.credentials="include"),Jd.fetch()(yield jC(n,n.config.apiHost,t,p),y)}))})}function VC(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},M2),e);try{let i=new Vy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Gd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Gd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Gd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw FC(n,h,l);Qr(n,h)}}catch(i){if(i instanceof Ft)throw i;Qr(n,"network-request-failed",{message:String(i)})}})}function O2(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield ps(n,e,t,r,i);return"mfaPendingCredential"in l&&Qr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function jC(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ev(n.config,i):`${n.config.apiScheme}://${i}`;return P2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Vy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),k2.get())})}};function Gd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Gi(n,e,r);return i.customData._tokenResponse=t,i}function L2(n,e){return _(this,null,function*(){return ps(n,"POST","/v1/accounts:delete",e)})}function Xd(n,e){return _(this,null,function*(){return ps(n,"POST","/v1/accounts:lookup",e)})}function xc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nv(n,e=!1){return _(this,null,function*(){let t=ut(n),r=yield t.getIdToken(e),i=rv(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xc(ky(i.auth_time)),issuedAtTime:xc(ky(i.iat)),expirationTime:xc(ky(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ky(n){return Number(n)*1e3}function rv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fd(t);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IC(n){let e=rv(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ft&&F2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function F2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var jy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var kc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function eh(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Pc(n,Xd(t,{idToken:r}));Y(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UC(o.providerUserInfo):[],a=V2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function iv(n){return _(this,null,function*(){let e=ut(n);yield eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function V2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(n){return n.map(e=>{var{providerId:t}=e,r=np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j2(n,e){return _(this,null,function*(){let t=yield VC(n,{},()=>_(null,null,function*(){let r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield jC(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Br(n.emulatorConfig.host)&&(u.credentials="include"),Jd.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function U2(n,e){return _(this,null,function*(){return ps(n,"POST","/v2/accounts:revokeToken",tv(n,e))})}var Mc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=IC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return or("not implemented")}};function Wr(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Kr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Pc(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return nv(this,e)}reload(){return iv(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield eh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(qi(this.auth));let e=yield this.getIdToken();return yield Pc(this,L2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:Te,isAnonymous:ft,providerData:Ee,stsTokenManager:T}=t;Y(Q&&T,e,"internal-error");let v=Mc.fromJSON(this.name,T);Y(typeof Q=="string",e,"internal-error"),Wr(p,e.name),Wr(m,e.name),Y(typeof Te=="boolean",e,"internal-error"),Y(typeof ft=="boolean",e,"internal-error"),Wr(y,e.name),Wr(N,e.name),Wr(P,e.name),Wr(M,e.name),Wr(j,e.name),Wr(K,e.name);let I=new n({uid:Q,auth:e,email:m,emailVerified:Te,displayName:p,isAnonymous:ft,photoURL:N,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:j,lastLoginAt:K});return Ee&&Array.isArray(Ee)&&(I.providerData=Ee.map(w=>Object.assign({},w))),M&&(I._redirectEventId=M),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Mc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield eh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Mc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var wC=new Map;function sr(n){Yr(n instanceof Function,"Expected a class definition");let e=wC.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wC.set(n,e),e)}var B2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Uy=B2;function Kd(n,e,t){return`firebase:${n}:${e}:${t}`}var th=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Xd(this.auth,{idToken:e}).catch(()=>{});return t?Kr._fromGetAccountInfoResponse(this.auth,t,e):null}return Kr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(sr(Uy),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||sr(Uy),s=Kd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Xd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Kr._fromGetAccountInfoResponse(e,m,h)}else p=Kr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function TC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(WC(e))return"Webos";if($C(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function BC(n=Qe()){return/firefox\//i.test(n)}function $C(n=Qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(n=Qe()){return/crios\//i.test(n)}function zC(n=Qe()){return/iemobile/i.test(n)}function qC(n=Qe()){return/android/i.test(n)}function GC(n=Qe()){return/blackberry/i.test(n)}function WC(n=Qe()){return/webos/i.test(n)}function ov(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $2(n=Qe()){var e;return ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H2(){return UD()&&document.documentMode===10}function KC(n=Qe()){return ov(n)||qC(n)||WC(n)||GC(n)||/windows phone/i.test(n)||zC(n)}function QC(n,e=[]){let t;switch(n){case"Browser":t=TC(Qe());break;case"Worker":t=`${TC(Qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hr}/${r}`}var By=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function z2(t){return _(this,arguments,function*(n,e={}){return ps(n,"GET","/v2/passwordPolicy",tv(n,e))})}var q2=6,$y=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:q2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Hy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nh(this),this.idTokenSubscription=new nh(this),this.beforeStateQueue=new By(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield th.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Xd(this,{idToken:e}),r=yield Kr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield eh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=x2()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Kt(this.app))return Promise.reject(qi(this));let t=e?ut(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Kt(this.app)?Promise.reject(qi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(qi(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield z2(this),t=new $y(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&sr(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=yield th.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&A2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function sv(n){return ut(n)}var nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zD(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var av={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G2(n){av=n}function W2(n){return av.loadJS(n)}function K2(){return av.gapiScript}function YC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function cv(n,e){let t=ls(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Cn(o,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}function Q2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(sr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function uv(n,e,t){let r=sv(n);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=ZC(e),{host:s,port:a}=Y2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Br(s)?(jd(`${o}//${s}${u}`),Ud("Auth",!0)):i||Z2()}function ZC(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Y2(n){let e=ZC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bC(s)}}}function bC(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Z2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var rh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,t){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}};function Oy(n,e){return _(this,null,function*(){return O2(n,"POST","/v1/accounts:signInWithIdp",tv(n,e))})}var ih=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zy=class extends ih{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Oc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Kr._fromIdTokenResponse(e,r,i),s=DC(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DC(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function DC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var qy=class n extends Ft{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function JC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qy._fromErrorAndOperation(n,o,e,r):o})}function J2(n,e,t=!1){return _(this,null,function*(){let r=yield Pc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Oc._forOperation(n,"link",r)})}function X2(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Kt(r.app))return Promise.reject(qi(r));let i="reauthenticate";try{let o=yield Pc(n,JC(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=rv(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),Oc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}})}function eV(n,e,t=!1){return _(this,null,function*(){if(Kt(n.app))return Promise.reject(qi(n));let r="signIn",i=yield JC(n,r,e),o=yield Oc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function lv(n,e,t,r){return ut(n).onIdTokenChanged(e,t,r)}function dv(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}var oh="__sak";var sh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var tV=1e3,nV=10,rV=(()=>{class n extends sh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);H2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nV):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},tV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield _r(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield _r(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield _r(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),XC=rV;var iV=(()=>{class n extends sh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),hv=iV;function oV(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var sV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield oV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function eS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Gy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=eS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rn(){return window}function aV(n){Rn().location.href=n}function tS(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function cV(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function uV(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lV(){return tS()?self:null}var nS="firebaseLocalStorageDb",dV=1,ah="firebaseLocalStorage",rS="fbase_key",Ki=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function uh(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function hV(){let n=indexedDB.deleteDatabase(nS);return new Ki(n).toPromise()}function Wy(){let n=indexedDB.open(nS,dV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ah,{keyPath:rS})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),yield hV(),e(yield Wy()))}))})}function CC(n,e,t){return _(this,null,function*(){let r=uh(n,!0).put({[rS]:e,value:t});return new Ki(r).toPromise()})}function fV(n,e){return _(this,null,function*(){let t=uh(n,!1).get(e),r=yield new Ki(t).toPromise();return r===void 0?null:r.value})}function SC(n,e){let t=uh(n,!0).delete(e);return new Ki(t).toPromise()}var pV=800,gV=3,mV=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Wy(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>gV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return tS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=sV._getInstance(lV()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield cV(),!this.activeServiceWorker)return;this.sender=new Gy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||uV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Wy();return yield CC(t,oh,"1"),yield SC(t,oh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>CC(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>fV(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>SC(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=uh(o,!1).getAll();return new Ki(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),iS=mV;var ote=YC("rcb"),ste=new Wi(3e4,6e4);function yV(n,e){return e?sr(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Lc=class extends rh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function vV(n){return eV(n.auth,new Lc(n),n.bypassAuthState)}function _V(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),X2(t,new Lc(n),n.bypassAuthState)}function EV(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),J2(t,new Lc(n),n.bypassAuthState)})}var Ky=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return EV;case"reauthViaPopup":case"reauthViaRedirect":return _V;default:Qr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ate=new Wi(2e3,1e4);var IV="pendingRedirect",Qd=new Map,Qy=class n extends Ky{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Qd.get(this.auth._key());if(!e){try{let r=(yield wV(this.resolver,this.auth))?yield _r(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return _r(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,_r(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function wV(n,e){return _(this,null,function*(){let t=DV(e),r=bV(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function TV(n,e){Qd.set(n._key(),e)}function bV(n){return sr(n._redirectPersistence)}function DV(n){return Kd(IV,n.config.apiKey,n.name)}function CV(n,e,t=!1){return _(this,null,function*(){if(Kt(n.app))return Promise.reject(qi(n));let r=sv(n),i=yV(r,e),s=yield new Qy(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var SV=600*1e3,Yy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SV&&this.cachedEventUids.clear(),this.cachedEventUids.has(AC(e))}saveEventToCache(e){this.cachedEventUids.add(AC(e)),this.lastProcessedEventTime=Date.now()}};function AC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function AV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(n);default:return!1}}function RV(t){return _(this,arguments,function*(n,e={}){return ps(n,"GET","/v1/projects",e)})}var NV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xV=/^https?/;function MV(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield RV(n);for(let t of e)try{if(PV(t))return}catch{}Qr(n,"unauthorized-domain")})}function PV(n){let e=Fy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!xV.test(t))return!1;if(NV.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kV=new Wi(3e4,6e4);function RC(){let n=Rn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OV(n){return new Promise((e,t)=>{var r,i,o;function s(){RC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RC(),t(Gi(n,"network-request-failed"))},timeout:kV.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let a=YC("iframefcb");return Rn()[a]=()=>{gapi.load?s():t(Gi(n,"network-request-failed"))},W2(`${K2()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Yd=null,e})}var Yd=null;function LV(n){return Yd=Yd||OV(n),Yd}var FV=new Wi(5e3,15e3),VV="__/auth/iframe",jV="emulator/auth/iframe",UV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $V(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ev(e,jV):`https://${n.config.authDomain}/${VV}`,r={apiKey:e.apiKey,appName:n.name,v:Hr},i=BV.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Dc(r).slice(1)}`}function HV(n){return _(this,null,function*(){let e=yield LV(n),t=Rn().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:$V(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UV,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Gi(n,"network-request-failed"),a=Rn().setTimeout(()=>{o(s)},FV.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var zV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qV=500,GV=600,WV="_blank",KV="http://localhost",ch=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function QV(n,e,t,r=qV,i=GV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},zV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Qe().toLowerCase();t&&(a=HC(l)?WV:t),BC(l)&&(e=e||KV,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,N])=>`${m}${y}=${N},`,"");if($2(l)&&a!=="_self")return YV(e||"",a),new ch(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new ch(p)}function YV(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var ZV="__/auth/handler",JV="emulator/auth/handler",XV=encodeURIComponent("fac");function NC(n,e,t,r,i,o){return _(this,null,function*(){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hr,eventId:i};if(e instanceof ih){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",HD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof zy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${XV}=${encodeURIComponent(u)}`:"";return`${ej(n)}?${Dc(a).slice(1)}${l}`})}function ej({config:n}){return n.emulator?ev(n,JV):`https://${n.authDomain}/${ZV}`}var Ly="webStorageSupport",Zy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hv,this._completeRedirectFn=CV,this._overrideRedirectResult=TV}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NC(e,t,r,Fy(),i);return QV(e,s,eS())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield NC(e,t,r,Fy(),i);return aV(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Yr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield HV(e),r=new Yy(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ly,{type:Ly},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ly];s!==void 0&&t(!!s),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KC()||$C()||ov()}},sS=Zy;var xC="@firebase/auth",MC="1.10.8";var Jy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nj(n){dn(new _t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(n)},l=new Hy(r,i,o,u);return Q2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new _t("auth-internal",e=>{let t=sv(e.getProvider("auth").getImmediate());return(r=>new Jy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(xC,MC,tj(n)),xe(xC,MC,"esm2017")}var rj=300,ij=dy("authIdTokenMaxAge")||rj,PC=null,oj=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ij)return;let i=t?.token;PC!==i&&(PC=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fv(n=$i()){let e=ls(n,"auth");if(e.isInitialized())return e.getImmediate();let t=cv(n,{popupRedirectResolver:sS,persistence:[iS,XC,hv]}),r=dy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=oj(o.toString());dv(t,s,()=>s(t.currentUser)),lv(t,a=>s(a))}}let i=uy("auth");return i&&uv(t,`http://${i}`),t}function sj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}G2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Gi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",sj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nj("Browser");var aS="auth",ar=class{constructor(e){return e}},Fc=class{constructor(){return hs(aS)}};var pv=new z("angularfire2.auth-instances");function Xj(n,e){let t=Ac(aS,n,e);return t&&new ar(t)}function eU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ar(r)}}var tU={provide:Fc,deps:[[new Pt,pv]]},nU={provide:ar,useFactory:Xj,deps:[[new Pt,pv],ir]};function cS(n,...e){return xe("angularfire",zr.full,"auth"),Nt([nU,tU,{provide:pv,useFactory:eU(n),multi:!0,deps:[Ie,Ge,qr,zi,[new Pt,fs],...e]}])}var uS=hn(fv,!0);var dS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hS={};var cr,gv;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,b,S){for(var E=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)E[Fn-2]=arguments[Fn];return v.prototype[b].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)w[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],E=v+(S^I&(b^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^S&(I^b))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(w[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<v;)if(w[b++]=T[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;w&&S==v||(I[b]=S,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return M(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return M(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-M(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(P(this))return"-"+M(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var b=Te(I,v).g;I=j(I,b.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,N(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function P(T){return T.h==-1}n.l=function(T){return T=j(this,T),P(T)?-1:N(T)?0:1};function M(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return P(this)?M(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,b=0;b<=v;b++){var S=w+(this.i(b)&65535)+(T.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(T,v){return T.add(M(v))}n.j=function(T){if(N(this)||N(T))return p;if(P(this))return P(T)?M(this).j(M(T)):M(M(this).j(T));if(P(T))return M(this.j(M(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var S=this.i(w)>>>16,E=this.i(w)&65535,Fn=T.i(b)>>>16,Hs=T.i(b)&65535;I[2*w+2*b]+=E*Hs,K(I,2*w+2*b),I[2*w+2*b+1]+=S*Hs,K(I,2*w+2*b+1),I[2*w+2*b+1]+=E*Fn,K(I,2*w+2*b+1),I[2*w+2*b+2]+=S*Fn,K(I,2*w+2*b+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function K(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function Q(T,v){this.g=T,this.h=v}function Te(T,v){if(N(v))throw Error("division by zero");if(N(T))return new Q(p,p);if(P(T))return v=Te(M(T),v),new Q(M(v.g),M(v.h));if(P(v))return v=Te(T,M(v)),new Q(M(v.g),v.h);if(30<T.g.length){if(P(T)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=ft(I),w=ft(w);var b=Ee(I,1),S=Ee(w,1);for(w=Ee(w,2),I=Ee(I,2);!N(w);){var E=S.add(w);0>=E.l(T)&&(b=b.add(I),S=E),w=Ee(w,1),I=Ee(I,1)}return v=j(T,b.j(v)),new Q(b,v)}for(b=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);P(E)||0<E.l(T);)I-=w,S=l(I),E=S.j(v);N(S)&&(S=m),b=b.add(S),T=j(T,E)}return new Q(b,T)}n.A=function(T){return Te(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function ft(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function Ee(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,b=[],S=0;S<w;S++)b[S]=0<v?T.i(S+I)>>>v|T.i(S+I+1)<<32-v:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gv=hS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,cr=hS.Integer=s}).apply(typeof dS<"u"?dS:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={};var mv,rU,gs,yv,Vc,dh,vv,_v,Ev;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function N(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,x){for(var F=Array(arguments.length-2),be=2;be<arguments.length;be++)F[be-2]=arguments[be];return d.prototype[D].apply(g,F)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,x=g.length||0;c.length=D+x;for(let F=0;F<x;F++)c[D+F]=g[F]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var ft=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let x=0;x<I.length;x++)f=I[x],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=cf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=Hs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Hs=new j(()=>new FR,c=>c.reset());class FR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let zs,qs=!1,cf=new Fn,OE=()=>{let c=a.Promise.resolve(void 0);zs=()=>{c.then(VR)}};var VR=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Hs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}qs=!1};function gr(){this.s=this.s,this.C=this.C}gr.prototype.s=!1,gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var jR=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Gs(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ft){e:{try{Te(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:UR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gs.aa.h.call(this)}}N(Gs,rt);var UR={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),BR=0;function $R(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++BR,this.da=this.fa=!1}function su(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function au(c){this.src=c,this.g={},this.h=0}au.prototype.add=function(c,d,f,g,D){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var F=lf(c,d,g,D);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new $R(d,this.src,x,!!g,D),d.fa=f,c.push(d)),d};function uf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=D)&&Array.prototype.splice.call(g,D,1),x&&(su(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function lf(c,d,f,g){for(var D=0;D<c.length;++D){var x=c[D];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return D}return-1}var df="closure_lm_"+(1e6*Math.random()|0),hf={};function LE(c,d,f,g,D){if(g&&g.once)return VE(c,d,f,g,D);if(Array.isArray(d)){for(var x=0;x<d.length;x++)LE(c,d[x],f,g,D);return null}return f=mf(f),c&&c[Ws]?c.K(d,f,l(g)?!!g.capture:!!g,D):FE(c,d,f,!1,g,D)}function FE(c,d,f,g,D,x){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,be=pf(c);if(be||(c[df]=be=new au(c)),f=be.add(d,f,g,F,x),f.proxy)return f;if(g=HR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)jR||(D=F),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(UE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function HR(){function c(f){return d.call(c.src,c.listener,f)}let d=zR;return c}function VE(c,d,f,g,D){if(Array.isArray(d)){for(var x=0;x<d.length;x++)VE(c,d[x],f,g,D);return null}return f=mf(f),c&&c[Ws]?c.L(d,f,l(g)?!!g.capture:!!g,D):FE(c,d,f,!0,g,D)}function jE(c,d,f,g,D){if(Array.isArray(d))for(var x=0;x<d.length;x++)jE(c,d[x],f,g,D);else g=l(g)?!!g.capture:!!g,f=mf(f),c&&c[Ws]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=lf(x,f,g,D),-1<f&&(su(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=pf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=lf(d,f,g,D)),(f=-1<c?d[c]:null)&&ff(f))}function ff(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ws])uf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(UE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=pf(d))?(uf(f,c),f.h==0&&(f.src=null,d[df]=null)):su(c)}}}function UE(c){return c in hf?hf[c]:hf[c]="on"+c}function zR(c,d){if(c.da)c=!0;else{d=new Gs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&ff(c),c=f.call(g,d)}return c}function pf(c){return c=c[df],c instanceof au?c:null}var gf="__closure_events_fn_"+(1e9*Math.random()>>>0);function mf(c){return typeof c=="function"?c:(c[gf]||(c[gf]=function(d){return c.handleEvent(d)}),c[gf])}function it(){gr.call(this),this.i=new au(this),this.M=this,this.F=null}N(it,gr),it.prototype[Ws]=!0,it.prototype.removeEventListener=function(c,d,f,g){jE(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var D=d;d=new rt(g,c),w(d,D)}if(D=!0,f)for(var x=f.length-1;0<=x;x--){var F=d.g=f[x];D=cu(F,g,!0,d)&&D}if(F=d.g=c,D=cu(F,g,!0,d)&&D,D=cu(F,g,!1,d)&&D,f)for(x=0;x<f.length;x++)F=d.g=f[x],D=cu(F,g,!1,d)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)su(f[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function cu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,x=0;x<d.length;++x){var F=d[x];if(F&&!F.da&&F.capture==f){var be=F.listener,Je=F.ha||F.src;F.fa&&uf(c.i,F),D=be.call(Je,g)!==!1&&D}}return D&&!g.defaultPrevented}function BE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function $E(c){c.g=BE(()=>{c.g=null,c.i&&(c.i=!1,$E(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class qR extends gr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$E(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(c){gr.call(this),this.h=c,this.g={}}N(Ks,gr);var HE=[];function zE(c){Ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&ff(d)},c),c.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),zE(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yf=a.JSON.stringify,GR=a.JSON.parse,WR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vf(){}vf.prototype.h=null;function qE(c){return c.h||(c.h=c.i())}function GE(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _f(){rt.call(this,"d")}N(_f,rt);function Ef(){rt.call(this,"c")}N(Ef,rt);var si={},WE=null;function uu(){return WE=WE||new it}si.La="serverreachability";function KE(c){rt.call(this,si.La,c)}N(KE,rt);function Ys(c){let d=uu();pt(d,new KE(d))}si.STAT_EVENT="statevent";function QE(c,d){rt.call(this,si.STAT_EVENT,c),this.stat=d}N(QE,rt);function gt(c){let d=uu();pt(d,new QE(d,c))}si.Ma="timingevent";function YE(c,d){rt.call(this,si.Ma,c),this.size=d}N(YE,rt);function Zs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function KR(c,d,f,g,D,x){c.info(function(){if(c.g)if(x)for(var F="",be=x.split("&"),Je=0;Je<be.length;Je++){var ge=be[Je].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var st=ot.split("_");F=2<=st.length&&st[1]=="type"?F+(ot+"="+ge+"&"):F+(ot+"=redacted&")}}else F=null;else F=x;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+F})}function QR(c,d,f,g,D,x,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+x+" "+F})}function uo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ZR(c,f)+(g?" "+g:"")})}function YR(c,d){c.info(function(){return"TIMEOUT: "+d})}Js.prototype.info=function(){};function ZR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var x=D[0];if(x!="noop"&&x!="stop"&&x!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return yf(f)}catch{return d}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ZE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},If;function du(){}N(du,vf),du.prototype.g=function(){return new XMLHttpRequest},du.prototype.i=function(){return{}},If=new du;function mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}var XE={},wf={};function Tf(c,d,f){c.L=1,c.v=gu(Vn(d)),c.m=f,c.P=!0,eI(c,null)}function eI(c,d){c.F=Date.now(),hu(c),c.A=Vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),pI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new JE,c.g=MI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new qR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(HE[0]=D.toString()),D=HE);for(var x=0;x<D.length;x++){var F=LE(f,D[x],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ys(),KR(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&jn(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let st=jn(this.g);var d=this.g.Ba();let fo=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||II(this.g)))){this.J||st!=4||d==7||(d==8||0>=fo?Ys(3):Ys(2)),bf(this);var f=this.g.Z();this.X=f;t:if(tI(this)){var g=II(this.g);c="";var D=g.length,x=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),Xs(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(x&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,QR(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Je=this.g;if((be=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(be)){var ge=be;break t}}ge=null}if(f=ge)uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Df(this,f);else{this.o=!1,this.s=3,gt(12),ai(this),Xs(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<F.length;)if(Zt=JR(this,F),Zt==wf){st==4&&(this.s=4,gt(14),f=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==XE){this.s=4,gt(15),uo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else uo(this.i,this.l,Zt,null),Df(this,Zt);if(tI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||F.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)uo(this.i,this.l,F,"[Invalid Chunked Response]"),ai(this),Xs(this);else if(0<F.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),xf(ot),ot.M=!0,gt(11))}}else uo(this.i,this.l,F,null),Df(this,F);st==4&&ai(this),this.o&&!this.J&&(st==4?AI(this.j,this):(this.o=!1,hu(this)))}else gN(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ai(this),Xs(this)}}}catch{}finally{}};function tI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function JR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?wf:(f=Number(d.substring(f,g)),isNaN(f)?XE:(g+=1,g+f>d.length?wf:(d=d.slice(g,g+f),c.C=g+f,d)))}mr.prototype.cancel=function(){this.J=!0,ai(this)};function hu(c){c.S=Date.now()+c.I,nI(c,c.I)}function nI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zs(m(c.ba,c),d)}function bf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(YR(this.i,this.A),this.L!=2&&(Ys(),gt(17)),ai(this),this.s=2,Xs(this)):nI(this,this.S-c)};function Xs(c){c.j.G==0||c.J||AI(c.j,c)}function ai(c){bf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,zE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Df(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Cf(f.h,c))){if(!c.K&&Cf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Eu(f),vu(f);else break e;Nf(f),gt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Zs(m(f.Za,f),6e3));if(1>=oI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ui(f,11)}else if((c.K||f.g==c)&&Eu(f),!K(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let ge=D[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ot=ge[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let st=ge[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let fo=ge[5];fo!=null&&typeof fo=="number"&&0<fo&&(g=1.5*fo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Zt=c.g;if(Zt){let wu=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wu){var x=g.h;x.g||wu.indexOf("spdy")==-1&&wu.indexOf("quic")==-1&&wu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Sf(x,x.h),x.h=null))}if(g.D){let Mf=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mf&&(g.ya=Mf,Ce(g.I,g.D,Mf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=xI(g,g.J?g.ia:null,g.W),F.K){sI(g.h,F);var be=F,Je=g.L;Je&&(be.I=Je),be.B&&(bf(be),hu(be)),g.g=F}else CI(g);0<f.i.length&&_u(f)}else ge[0]!="stop"&&ge[0]!="close"||ui(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ui(f,7):Rf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Ys(4)}catch{}}var XR=class{constructor(c,d){this.g=c,this.map=d}};function rI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oI(c){return c.h?1:c.g?c.g.size:0}function Cf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Sf(c,d){c.g?c.g.add(d):c.h=d}function sI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}rI.prototype.cancel=function(){if(this.i=aI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function aI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function eN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function tN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function cI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=tN(c),g=eN(c),D=g.length,x=0;x<D;x++)d.call(void 0,g[x],f&&f[x],c)}var uI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var x=c[f].substring(0,g);D=c[f].substring(g+1)}else x=c[f];d(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ci){this.h=c.h,fu(this,c.j),this.o=c.o,this.g=c.g,pu(this,c.s),this.l=c.l;var d=c.i,f=new na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),lI(this,f),this.m=c.m}else c&&(d=String(c).match(uI))?(this.h=!1,fu(this,d[1]||"",!0),this.o=ea(d[2]||""),this.g=ea(d[3]||"",!0),pu(this,d[4]),this.l=ea(d[5]||"",!0),lI(this,d[6]||"",!0),this.m=ea(d[7]||"")):(this.h=!1,this.i=new na(null,this.h))}ci.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ta(d,dI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ta(d,dI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ta(f,f.charAt(0)=="/"?oN:iN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ta(f,aN)),c.join("")};function Vn(c){return new ci(c)}function fu(c,d,f){c.j=f?ea(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function pu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function lI(c,d,f){d instanceof na?(c.i=d,cN(c.i,c.h)):(f||(d=ta(d,sN)),c.i=new na(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function gu(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ea(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ta(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,rN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dI=/[#\/\?@]/g,iN=/[#\?:]/g,oN=/[#\?]/g,sN=/[#\?@]/g,aN=/#/g;function na(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function yr(c){c.g||(c.g=new Map,c.h=0,c.i&&nN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=na.prototype,n.add=function(c,d){yr(this),this.i=null,c=lo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function hI(c,d){yr(c),d=lo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function fI(c,d){return yr(c),d=lo(c,d),c.g.has(d)}n.forEach=function(c,d){yr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){yr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let x=0;x<D.length;x++)f.push(d[g])}return f},n.V=function(c){yr(this);let d=[];if(typeof c=="string")fI(this,c)&&(d=d.concat(this.g.get(lo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return yr(this),this.i=null,c=lo(this,c),fI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function pI(c,d,f){hI(c,d),0<f.length&&(c.i=null,c.g.set(lo(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var D=x;F[g]!==""&&(D+="="+encodeURIComponent(String(F[g]))),c.push(D)}}return this.i=c.join("&")};function lo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function cN(c,d){d&&!c.j&&(yr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(hI(this,g),pI(this,D,f))},c)),c.j=d}function uN(c,d){let f=new Js;if(a.Image){let g=new Image;g.onload=y(vr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(vr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(vr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(vr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function lN(c,d){let f=new Js,g=new AbortController,D=setTimeout(()=>{g.abort(),vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(x=>{clearTimeout(D),x.ok?vr(f,"TestPingServer: ok",!0,d):vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),vr(f,"TestPingServer: error",!1,d)})}function vr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function dN(){this.g=new WR}function hN(c,d,f){let g=f||"";try{cI(c,function(D,x){let F=D;l(D)&&(F=yf(D)),d.push(g+x+"="+encodeURIComponent(F))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ra(c){this.l=c.Ub||null,this.j=c.eb||!1}N(ra,vf),ra.prototype.g=function(){return new mu(this.l,this.j)},ra.prototype.i=(function(c){return function(){return c}})({});function mu(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(mu,it),n=mu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,oa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ia(this):oa(this),this.readyState==3&&gI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ia(this))},n.Qa=function(c){this.g&&(this.response=c,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mI(c){let d="";return Ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Af(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=mI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Re(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Re,it);var fN=/^https?$/i,pN=["POST","PUT"];n=Re.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():If.g(),this.v=this.o?qE(this.o):qE(If),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){yI(this,x);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pN,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,F]of f)this.g.setRequestHeader(x,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EI(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){yI(this,x)}};function yI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,vI(c),yu(c)}function vI(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),yu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_I(this):this.bb())},n.bb=function(){_I(this)};function _I(c){if(c.h&&typeof s<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)BE(c.Ea,0,c);else if(pt(c,"readystatechange"),jn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var D=String(c.D).match(uI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!fN.test(D?D.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var x=2<jn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",vI(c)}}finally{yu(c)}}}}function yu(c,d){if(c.g){EI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function EI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),GR(d)}};function II(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gN(c){let d={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[D]||[];d[D]=x,x.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function wI(c){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,c),this.cb=sa("retryDelaySeedMs",1e4,c),this.Wa=sa("forwardChannelMaxRetries",2,c),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rI(c&&c.concurrentRequestLimit),this.Da=new dN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=xI(this,null,this.W),_u(this)};function Rf(c){if(TI(c),c.G==3){var d=c.U++,f=Vn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),aa(c,f),d=new mr(c,c.j,d),d.L=2,d.v=gu(Vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=MI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hu(d)}NI(c)}function vu(c){c.g&&(xf(c),c.g.cancel(),c.g=null)}function TI(c){vu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function _u(c){if(!iI(c.h)&&!c.s){c.s=!0;var d=c.Ga;zs||OE(),qs||(zs(),qs=!0),cf.add(d,c),c.B=0}}function mN(c,d){return oI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zs(m(c.Ga,c,d),RI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new mr(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),w(x,this.S)):x=this.S),this.m!==null||this.O||(D.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=DI(this,D,d),f=Vn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),aa(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(mI(x)))+"&"+d:this.m&&Af(f,this.m,x)),Sf(this.h,D),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),D.T=!0,Tf(D,f,null)):Tf(D,f,d),this.G=2}}else this.G==3&&(c?bI(this,c):this.i.length==0||iI(this.h)||bI(this))};function bI(c,d){var f;d?f=d.l:f=c.U++;let g=Vn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),aa(c,g),c.m&&c.o&&Af(g,c.m,c.o),f=new mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=DI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sf(c.h,f),Tf(f,g,d)}function aa(c,d){c.H&&Ee(c.H,function(f,g){Ce(d,g,f)}),c.l&&cI({},function(f,g){Ce(d,g,f)})}function DI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let x=-1;for(;;){let F=["count="+f];x==-1?0<f?(x=D[0].g,F.push("ofs="+x)):x=0:F.push("ofs="+x);let be=!0;for(let Je=0;Je<f;Je++){let ge=D[Je].g,ot=D[Je].map;if(ge-=x,0>ge)x=Math.max(0,D[Je].g-100),be=!1;else try{hN(ot,F,"req"+ge+"_")}catch{g&&g(ot)}}if(be){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function CI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;zs||OE(),qs||(zs(),qs=!0),cf.add(d,c),c.v=0}}function Nf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zs(m(c.Fa,c),RI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,SI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zs(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),vu(this),SI(this))};function xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function SI(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),aa(c,d),c.m&&c.o&&Af(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=gu(Vn(d)),f.m=null,f.P=!0,eI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,vu(this),Nf(this),gt(19))};function Eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function AI(c,d){var f=null;if(c.g==d){Eu(c),xf(c),c.g=null;var g=2}else if(Cf(c.h,d))f=d.D,sI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=uu(),pt(g,new YE(g,f)),_u(c)}else CI(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&mN(c,d)||g==2&&Nf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:ui(c,5);break;case 4:ui(c,10);break;case 3:ui(c,6);break;default:ui(c,2)}}}function RI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ui(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new ci(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(g,"https"),gu(g),D?uN(g.toString(),f):lN(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),NI(c),TI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function NI(c){if(c.G=0,c.ka=[],c.l){let d=aI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function xI(c,d,f){var g=f instanceof ci?Vn(f):new ci(f);if(g.g!="")d&&(g.g=d+"."+g.g),pu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var x=new ci(null);g&&fu(x,g),d&&(x.g=d),D&&pu(x,D),f&&(x.l=f),g=x}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),aa(c,g),g}function MI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Re(new ra({eb:f})):new Re(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function PI(){}n=PI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Iu(){}Iu.prototype.g=function(c,d){return new St(c,d)};function St(c,d){it.call(this),this.g=new wI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ho(this)}N(St,it),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Rf(this.g)},St.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=yf(c),c=f);d.i.push(new XR(d.Ya++,c)),d.G==3&&_u(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Rf(this.g),delete this.g,St.aa.N.call(this)};function kI(c){_f.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}N(kI,_f);function OI(){Ef.call(this),this.status=1}N(OI,Ef);function ho(c){this.g=c}N(ho,PI),ho.prototype.ua=function(){pt(this.g,"a")},ho.prototype.ta=function(c){pt(this.g,new kI(c))},ho.prototype.sa=function(c){pt(this.g,new OI)},ho.prototype.ra=function(){pt(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,Ev=ur.createWebChannelTransport=function(){return new Iu},_v=ur.getStatEventTarget=function(){return uu()},vv=ur.Event=si,dh=ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,Vc=ur.ErrorCode=lu,ZE.COMPLETE="complete",yv=ur.EventType=ZE,GE.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",it.prototype.listen=it.prototype.K,gs=ur.WebChannel=GE,rU=ur.FetchXmlHttpFactory=ra,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,mv=ur.XhrIo=Re}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});var fS="@firebase/firestore",pS="4.8.0";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Fs="11.10.0";var Xi=new Sn("@firebase/firestore");function ms(){return Xi.logLevel}function U(n,...e){if(Xi.logLevel<=ue.DEBUG){let t=e.map(uE);Xi.debug(`Firestore (${Fs}): ${n}`,...t)}}function lr(n,...e){if(Xi.logLevel<=ue.ERROR){let t=e.map(uE);Xi.error(`Firestore (${Fs}): ${n}`,...t)}}function ti(n,...e){if(Xi.logLevel<=ue.WARN){let t=e.map(uE);Xi.warn(`Firestore (${Fs}): ${n}`,...t)}}function uE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,tA(n,r,t)}function tA(n,e,t){let r=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw lr(r),new Error(r)}function _e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||tA(e,i,r)}function ee(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ye.UNAUTHENTICATED))}shutdown(){}},Cv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Sv=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}},Av=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Rv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Av(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_h=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _h(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _h(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function iU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function nA(){return new TextEncoder}var qc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=iU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function xv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=nA(),s=oU(o.encode(gS(n,t)),o.encode(gS(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function gS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function oU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function Ts(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var mS="__name__",Eh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):xv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}},Pe=class n extends Eh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends Eh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mS}static keyField(){return new n([mS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};function aU(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cU(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yS(n){if(!W.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function eo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=lE(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Fe(n,e){let t={typeString:n};return e&&(t.value=e),t}function ru(n,e){if(!rA(n))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(k.INVALID_ARGUMENT,t);return!0}var vS=-62135596800,_S=1e6,Ve=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_S);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vS)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_S}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-vS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:Fe("string",Ve._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ve(0,0))}static max(){return new n(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gc=-1,Mv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Mv.UNKNOWN_ID=-1;function uU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ve(t+1,0):new Ve(t,r));return new to(i,W.empty(),e)}function lU(n){return new to(n.readTime,n.key,Gc)}var to=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),W.empty(),Gc)}static max(){return new n(re.max(),W.empty(),Gc)}};function dU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var hU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Vs(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==hU)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function fU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function js(n){return n.name==="IndexedDbTransactionError"}var dE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),hE=-1;function Yh(n){return n==null}function Wc(n){return n===0&&1/n==-1/0}function pU(n){return typeof n=="number"&&Number.isInteger(n)&&!Wc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var iA="";function gU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ES(e)),e=mU(n.get(t),e);return ES(e)}function mU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case iA:t+="";break;default:t+=o}}return t}function ES(n){return n+iA+""}var yU="remoteDocuments",oA="owner";var sA="mutationQueues";var aA="mutations";var cA="documentMutations",vU="remoteDocumentsV14";var uA="remoteDocumentGlobal";var lA="targets";var dA="targetDocuments";var hA="targetGlobal",fA="collectionParents";var pA="clientMetadata";var gA="bundles";var mA="namedQueries";var _U="indexConfiguration";var EU="indexState";var IU="indexEntries";var yA="documentOverlays";var wU="globals";var TU=[sA,aA,cA,yU,lA,oA,hA,dA,pA,uA,fA,gA,mA],une=[...TU,yA],bU=[sA,aA,cA,vU,lA,oA,hA,dA,pA,uA,fA,gA,mA,yA],DU=bU,CU=[...DU,_U,EU,IU];var lne=[...CU,wU];function IS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Me=class n{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Es(this.root,e,this.comparator,!1)}getReverseIterator(){return new Es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Es(this.root,e,this.comparator,!0)}},Es=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class n{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ih(this.data.getIterator())}getIteratorFrom(e){return new Ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yt=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ze(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var SU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(_e(!!n,39018),typeof n=="string"){let e=0,t=SU.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?ht.fromBase64String(n):ht.fromUint8Array(n)}var _A="server_timestamp",EA="__type__",IA="__previous_value__",wA="__local_write_time__";function fE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[EA])===null||t===void 0?void 0:t.stringValue)===_A}function Zh(n){let e=n.mapValue.fields[IA];return fE(e)?Zh(e):e}function Kc(n){let e=dr(n.mapValue.fields[wA].timestampValue);return new Ve(e.seconds,e.nanos)}var kv=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Th="(default)",bh=class n{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var pE="__type__",TA="__max__",hh={mapValue:{fields:{__type__:{stringValue:TA}}}},gE="__vector__",bs="value";function ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fE(n)?4:DA(n)?9007199254740991:bA(n)?10:11:G(28295,{value:n})}function kn(n,e){if(n===e)return!0;let t=ni(n);if(t!==ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=dr(i.timestampValue),a=dr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return hr(i.bytesValue).isEqual(hr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Wc(s)===Wc(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ts(n.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IS(s)!==IS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0})(n,e);default:return G(52216,{left:n})}}function Qc(n,e){return(n.values||[]).find(t=>kn(t,e))!==void 0}function Ds(n,e){if(n===e)return 0;let t=ni(n),r=ni(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return wS(n.timestampValue,e.timestampValue);case 4:return wS(Kc(n),Kc(e));case 5:return xv(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=hr(o),u=hr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ae(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ae(Ae(o.longitude),Ae(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return TS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[bs])===null||a===void 0?void 0:a.arrayValue,N=(u=m[bs])===null||u===void 0?void 0:u.arrayValue,P=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=N?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:TS(y,N)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===hh.mapValue&&s===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(s===hh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=xv(u[p],h[p]);if(m!==0)return m;let y=Ds(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)})(n.mapValue,e.mapValue);default:throw G(23264,{le:t})}}function wS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=dr(n),r=dr(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function TS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ds(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function Cs(n){return Ov(n)}function Ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=dr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return W.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ov(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ov(t.fields[s])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function gh(n){switch(ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Zh(n);return e?16+gh(e):16;case 5:return 2*n.stringValue.length;case 6:return hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+gh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return oi(r.fields,(o,s)=>{i+=o.length+gh(s)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function Lv(n){return!!n&&"integerValue"in n}function mE(n){return!!n&&"arrayValue"in n}function bS(n){return!!n&&"nullValue"in n}function DS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function bA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pE])===null||t===void 0?void 0:t.stringValue)===gE}function Uc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return oi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===TA}var hne={mapValue:{fields:{[pE]:{stringValue:gE},[bs]:{arrayValue:{}}}}};var Vt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Uc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Uc(this.value))}};function CA(n){let e=[];return oi(n.fields,(t,r)=>{let i=new jt([t]);if(mh(r)){let o=CA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Yt(e)}var pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Vt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Vt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Vt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ss=class{constructor(e,t){this.position=e,this.inclusive=t}};function CS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Ds(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kn(n.position[t],e.position[t]))return!1;return!0}var As=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function AU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Dh=class{},He=class n extends Dh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Vv(e,t,r):t==="array-contains"?new Bv(e,r):t==="in"?new $v(e,r):t==="not-in"?new Hv(e,r):t==="array-contains-any"?new zv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jv(e,r):new Uv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ds(t,this.value)):t!==null&&ni(this.value)===ni(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class n extends Dh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return SA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function SA(n){return n.op==="and"}function AA(n){return RU(n)&&SA(n)}function RU(n){for(let e of n.filters)if(e instanceof On)return!1;return!0}function Fv(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Cs(n.value);if(AA(n))return n.filters.map(e=>Fv(e)).join(",");{let e=n.filters.map(t=>Fv(t)).join(",");return`${n.op}(${e})`}}function RA(n,e){return n instanceof He?(function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)})(n,e):n instanceof On?(function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RA(s,i.filters[a]),!0):!1})(n,e):void G(19439)}function NA(n){return n instanceof He?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cs(t.value)}`})(n):n instanceof On?(function(t){return t.op.toString()+" {"+t.getFilters().map(NA).join(" ,")+"}"})(n):"Filter"}var Vv=class extends He{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},jv=class extends He{constructor(e,t){super(e,"in",t),this.keys=xA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Uv=class extends He{constructor(e,t){super(e,"not-in",t),this.keys=xA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function xA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var Bv=class extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return mE(t)&&Qc(t.arrayValue,this.value)}},$v=class extends He{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}},Hv=class extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qc(this.value.arrayValue,t)}},zv=class extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!mE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}};var qv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function AS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new qv(n,e,t,r,i,o,s)}function yE(n){let e=ee(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cs(r)).join(",")),e.Pe=t}return e.Pe}function vE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SS(n.startAt,e.startAt)&&SS(n.endAt,e.endAt)}function Gv(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Rs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function NU(n,e,t,r,i,o,s,a){return new Rs(n,e,t,r,i,o,s,a)}function _E(n){return new Rs(n)}function RS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xU(n){return n.collectionGroup!==null}function Bc(n){let e=ee(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ze(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new As(o,r))}),t.has(jt.keyField().canonicalString())||e.Te.push(new As(jt.keyField(),r))}return e.Te}function Mn(n){let e=ee(n);return e.Ie||(e.Ie=MU(e,Bc(n))),e.Ie}function MU(n,e){if(n.limitType==="F")return AS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new As(i.field,o)});let t=n.endAt?new Ss(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ss(n.startAt.position,n.startAt.inclusive):null;return AS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wv(n,e,t){return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jh(n,e){return vE(Mn(n),Mn(e))&&n.limitType===e.limitType}function MA(n){return`${yE(Mn(n))}|lt:${n.limitType}`}function ys(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NA(i)).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Cs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`})(Mn(n))}; limitType=${n.limitType})`}function Xh(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Bc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=CS(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Bc(r),i)||r.endAt&&!(function(s,a,u){let l=CS(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Bc(r),i))})(n,e)}function PU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PA(n){return(e,t)=>{let r=!1;for(let i of Bc(n)){let o=kU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kU(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ds(u,l):G(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var fr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vA(this.inner)}size(){return this.innerSize}};var OU=new Me(W.comparator);function pr(){return OU}var kA=new Me(W.comparator);function jc(...n){let e=kA;for(let t of n)e=e.insert(t.key,t);return e}function OA(n){let e=kA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qi(){return $c()}function LA(){return $c()}function $c(){return new fr(n=>n.toString(),(n,e)=>n.isEqual(e))}var LU=new Me(W.comparator),FU=new Ze(W.comparator);function le(...n){let e=FU;for(let t of n)e=e.add(t);return e}var VU=new Ze(ae);function jU(){return VU}function EE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function FA(n){return{integerValue:""+n}}function UU(n,e){return pU(e)?FA(e):EE(n,e)}var Ns=class{constructor(){this._=void 0}};function BU(n,e,t){return n instanceof xs?(function(i,o){let s={fields:{[EA]:{stringValue:_A},[wA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fE(o)&&(o=Zh(o)),o&&(s.fields[IA]=o),{mapValue:s}})(t,e):n instanceof no?jA(n,e):n instanceof ro?UA(n,e):(function(i,o){let s=VA(i,o),a=NS(s)+NS(i.Ee);return Lv(s)&&Lv(i.Ee)?FA(a):EE(i.serializer,a)})(n,e)}function $U(n,e,t){return n instanceof no?jA(n,e):n instanceof ro?UA(n,e):t}function VA(n,e){return n instanceof Ms?(function(r){return Lv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var xs=class extends Ns{},no=class extends Ns{constructor(e){super(),this.elements=e}};function jA(n,e){let t=BA(e);for(let r of n.elements)t.some(i=>kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ro=class extends Ns{constructor(e){super(),this.elements=e}};function UA(n,e){let t=BA(e);for(let r of n.elements)t=t.filter(i=>!kn(i,r));return{arrayValue:{values:t}}}var Ms=class extends Ns{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function NS(n){return Ae(n.integerValue||n.doubleValue)}function BA(n){return mE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof no&&i instanceof no||r instanceof ro&&i instanceof ro?Ts(r.elements,i.elements,kn):r instanceof Ms&&i instanceof Ms?kn(r.Ee,i.Ee):r instanceof xs&&i instanceof xs})(n.transform,e.transform)}var Kv=class{constructor(e,t){this.version=e,this.transformResults=t}},Zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ps=class{};function $A(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ch(n.key,Zr.none()):new io(n.key,n.data,Zr.none());{let t=n.data,r=Vt.empty(),i=new Ze(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ln(n.key,r,new Yt(i.toArray()),Zr.none())}}function zU(n,e,t){n instanceof io?(function(i,o,s){let a=i.value.clone(),u=MS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Ln?(function(i,o,s){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(HA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Hc(n,e,t,r){return n instanceof io?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=o.value.clone(),h=PS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ln?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=PS(o.fieldTransforms,u,s),h=s.data;return h.setAll(HA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function qU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=VA(r.transform,i||null);o!=null&&(t===null&&(t=Vt.empty()),t.set(r.field,o))}return t||null}function xS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ts(r,i,(o,s)=>HU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var io=class extends Ps{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends Ps{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function HA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function MS(n,e,t){let r=new Map;_e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$U(s,a,t[i]))}return r}function PS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,BU(o,s,e))}return r}var Ch=class extends Ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qv=class extends Ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=LA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=$A(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(t,r)=>xS(t,r))&&Ts(this.baseMutations,e.baseMutations,(t,r)=>xS(t,r))}},Zv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){_e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return LU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Jv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,pe;function GU(n){switch(n){case k.OK:return G(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function zA(n){if(n===void 0)return lr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Oe.OK:return k.OK;case Oe.CANCELLED:return k.CANCELLED;case Oe.UNKNOWN:return k.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return k.INTERNAL;case Oe.UNAVAILABLE:return k.UNAVAILABLE;case Oe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Oe.NOT_FOUND:return k.NOT_FOUND;case Oe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Oe.ABORTED:return k.ABORTED;case Oe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Oe.DATA_LOSS:return k.DATA_LOSS;default:return G(39323,{code:n})}}(pe=Oe||(Oe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var kS=null;var WU=new cr([4294967295,4294967295],0);function OS(n){let e=nA().encode(n),t=new gv;return t.update(e),new Uint8Array(t.digest())}function LS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cr([t,r],0),new cr([i,o],0)]}var e_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yi(`Invalid padding: ${t}`);if(r<0)throw new Yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=cr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(cr.fromNumber(r)));return i.compare(WU)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=OS(e),[r,i]=LS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=OS(e),[r,i]=LS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Me(ae),pr(),le())}},Yc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var Is=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Ah=class{constructor(e,t){this.targetId=e,this.De=t}},Rh=class{constructor(e,t,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Nh=class{constructor(){this.ve=0,this.Ce=FS(),this.Fe=ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=le(),t=le(),r=le();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Yc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=FS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},t_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=pr(),this.je=fh(),this.Je=fh(),this.He=new Me(ae)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Gv(o))if(r===0){let s=new W(o.path);this.Xe(t,s,pn.newNoDocument(s,re.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}kS?.ct((function(h,p,m,y,N){var P,M,j,K,Q,Te;let ft={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ee=p.unchangedNames;return Ee&&(ft.bloomFilter={applied:N===0,hashCount:(P=Ee?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(j=(M=Ee?.bits)===null||M===void 0?void 0:M.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(Te=(Q=Ee?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&Te!==void 0?Te:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),ft})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=hr(r).toUint8Array()}catch(u){if(u instanceof wh)return ti("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new e_(s,i,o)}catch(u){return ti(u instanceof Yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Gv(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,pn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=le();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Sh(e,t,this.He,this.ze,r);return this.ze=pr(),this.je=fh(),this.Je=fh(),this.He=new Me(ae),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Nh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ze(ae),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ze(ae),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function fh(){return new Me(W.comparator)}function FS(){return new Me(W.comparator)}var KU={asc:"ASCENDING",desc:"DESCENDING"},QU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YU={and:"AND",or:"OR"},n_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function r_(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZU(n,e){return xh(n,e.toTimestamp())}function Pn(n){return _e(!!n,49232),re.fromTimestamp((function(t){let r=dr(t);return new Ve(r.seconds,r.nanos)})(n))}function IE(n,e){return i_(n,e).canonicalString()}function i_(n,e){let t=(function(i){return new Pe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function GA(n){let e=Pe.fromString(n);return _e(ZA(e),10190,{key:e.toString()}),e}function o_(n,e){return IE(n.databaseId,e.path)}function Iv(n,e){let t=GA(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(KA(t))}function WA(n,e){return IE(n.databaseId,e)}function JU(n){let e=GA(n);return e.length===4?Pe.emptyPath():KA(e)}function s_(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KA(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VS(n,e,t){return{name:o_(n,e),fields:t.value.mapValue.fields}}function XU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),ht.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ht.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:zA(l.code);return new $(h,l.message||"")})(s);t=new Rh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Iv(n,r.document.name),o=Pn(r.document.updateTime),s=r.document.createTime?Pn(r.document.createTime):re.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Is(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Iv(n,r.document),o=r.readTime?Pn(r.readTime):re.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Iv(n,r.document),o=r.removedTargetIds||[];t=new Is([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Xv(i,o),a=r.targetId;t=new Ah(a,s)}}return t}function eB(n,e){let t;if(e instanceof io)t={update:VS(n,e.key,e.value)};else if(e instanceof Ch)t={delete:o_(n,e.key)};else if(e instanceof Ln)t={update:VS(n,e.key,e.data),updateMask:uB(e.fieldMask)};else{if(!(e instanceof Qv))return G(16599,{Rt:e.type});t={verify:o_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof no)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ms)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:ZU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(n,e.precondition)),t}function tB(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Pn(i.updateTime):Pn(o);return s.isEqual(re.min())&&(s=Pn(o)),new Kv(s,i.transformResults||[])})(t,e))):[]}function nB(n,e){return{documents:[WA(n,e.path)]}}function rB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WA(n,i);let o=(function(l){if(l.length!==0)return YA(On.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:vs(m.field),direction:sB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=r_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function iB(n){let e=JU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=QA(p);return m instanceof On&&AA(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(N){return new As(_s(N.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Yh(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ss(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ss(y,m)})(t.endAt)),NU(e,i,s,o,a,"F",u,l)}function oB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_s(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_s(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_s(t.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(t){return He.create(_s(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return On.create(t.compositeFilter.filters.map(r=>QA(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(t.compositeFilter.op))})(n):G(30097,{filter:n})}function sB(n){return KU[n]}function aB(n){return QU[n]}function cB(n){return YU[n]}function vs(n){return{fieldPath:n.canonicalString()}}function _s(n){return jt.fromServerFormat(n.fieldPath)}function YA(n){return n instanceof He?(function(t){if(t.op==="=="){if(DS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NAN"}};if(bS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NAN"}};if(bS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(t.field),op:aB(t.op),value:t.value}}})(n):n instanceof On?(function(t){let r=t.getFilters().map(i=>YA(i));return r.length===1?r[0]:{compositeFilter:{op:cB(t.op),filters:r}}})(n):G(54877,{filter:n})}function uB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zc=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var a_=class{constructor(e){this.gt=e}};function lB(n){let e=iB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wv(e,e.limit,"L"):e}var Mh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Wc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=dr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(hr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?DA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):bA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):G(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=bs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ae(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),W.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Mh.Ut=new Mh;var c_=class{constructor(){this.Dn=new u_}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(to.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},u_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}};var fne=new Uint8Array(0);var jS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JA=41943040,Qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(JA,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Jc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var US="LruGarbageCollector",dB=1048576;function BS([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var l_=class{constructor(e){this.Tr=e,this.buffer=new Ze(BS),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();BS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},d_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(US,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){js(t)?U(US,"Ignoring IndexedDB error during garbage collection: ",t):yield Vs(t)}yield this.Rr(3e5)}))}},h_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(dE.ue);let r=new l_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(jS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jS):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ms()<=ue.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function hB(n,e){return new h_(n,e)}var f_=class{constructor(){this.changes=new fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var p_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var g_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Hc(r.mutation,i,Yt.empty(),Ve.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=Qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=jc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=pr(),s=$c(),a=(function(){return $c()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ln)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Hc(h.mutation,l,h.mutation.getFieldMask(),Ve.now())):s.set(l.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new p_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=$c(),i=new Me((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Yt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=LA();h.forEach(m=>{if(!o.has(m)){let y=$A(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Qi()),a=Gc,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:OA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=jc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,m){return new Rs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let a=jc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Hc(h.mutation,l,Yt.empty(),Ve.now()),Xh(t,l)&&(a=a.insert(u,l))}),a})}};var m_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:lB(i.bundledQuery),readTime:Pn(i.readTime)}})(t)),O.resolve()}};var y_=class{constructor(){this.overlays=new Me(W.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Qi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Qi(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Me((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Jv(t,r));let o=this.kr.get(t);o===void 0&&(o=le(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var v_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var Xc=class{constructor(){this.qr=new Ze(Le.Qr),this.$r=new Ze(Le.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Le(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new W(new Pe([])),r=new Le(t,e),i=new Le(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new W(new Pe([])),r=new Le(t,e),i=new Le(t,e+1),o=le();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Le(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return W.comparator(e.key,t.key)||ae(e.Hr,t.Hr)}static Ur(e,t){return ae(e.Hr,t.Hr)||W.comparator(e.key,t.key)}};var __=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ze(Le.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Yv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Le(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?hE:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(ae);return t.forEach(i=>{let o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Le(new W(o),0),a=new Ze(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new Le(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Le(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var E_=class{constructor(e){this.ni=e,this.docs=(function(){return new Me(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=pr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=pr(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||dU(lU(h),r)<=0||(i.has(h.key)||Xh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I_(this)}getSize(e){return O.resolve(this.size)}},I_=class extends f_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var w_=class{constructor(e){this.persistence=e,this.ii=new fr(t=>yE(t),vE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new Xc,this.targetCount=0,this._i=Jc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var Ph=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new dE(0),this.ci=!1,this.ci=!0,this.li=new v_,this.referenceDelegate=e(this),this.hi=new w_(this),this.indexManager=new c_,this.remoteDocumentCache=(function(i){return new E_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new a_(t),this.Ti=new m_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new __(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new T_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},T_=class extends Pv{constructor(e){super(),this.currentSequenceNumber=e}},b_=class n{constructor(e){this.persistence=e,this.Ai=new Xc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},kh=class n{constructor(e,t){this.persistence=e,this.gi=new fr(r=>gU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var D_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var C_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var S_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return BD()?8:fU(Qe())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new C_;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ms()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ys(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(ms()<=ue.DEBUG&&U("QueryEngine","Query:",ys(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ms()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ys(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):O.resolve())}ps(e,t){if(RS(t))return O.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Wv(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Wv(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return RS(t)||i.isEqual(re.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(ms()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(t)),this.vs(e,s,t,uU(i,Gc)).next(a=>a))})}bs(e,t){let r=new Ze(PA(e));return t.forEach((i,o)=>{Xh(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ms()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ys(t)),this.gs.getDocumentsMatchingQuery(e,t,to.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wE="LocalStore",fB=3e8,A_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Me(ae),this.Ms=new fr(o=>yE(o),vE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function pB(n,e,t,r){return new A_(n,e,t,r)}function XA(n,e){return _(this,null,function*(){let t=ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function gB(n,e){let t=ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(N=>{y=y.next(()=>h.getEntry(u,N)).next(P=>{let M=l.docVersions.get(N);_e(M!==null,48541),P.version.compareTo(M)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function eR(n){let e=ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function mB(n,e){let t=ee(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,M,j){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=fB?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=pr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(yB(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function yB(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=pr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(wE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function vB(n,e){let t=ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _B(n,e){let t=ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Zc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function R_(n,e,t){return _(this,null,function*(){let r=ee(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!js(s))throw s;U(wE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function $S(n,e,t){let r=ee(n),i=re.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=ee(u),m=p.Ms.get(h);return m!==void 0?O.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:le())).next(a=>(EB(r,PU(e),a),{documents:a,qs:o})))}function EB(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Oh=class{constructor(){this.activeTargetIds=jU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var N_=class{constructor(){this.Fo=new Oh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Oh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x_=class{xo(e){}shutdown(){}};var HS="ConnectivityMonitor",Lh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(HS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(HS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function M_(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}var wv="RestConnection",IB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},P_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=M_(),a=this.Go(e,t.toUriEncodedString());U(wv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Br(l);return this.jo(e,a,u,r,h).then(p=>(U(wv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ti(wv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=IB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var k_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var lt="WebChannelConnection",O_=class extends P_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=M_();return new Promise((a,u)=>{let l=new mv;l.setWithCredentials(!0),l.listenOnce(yv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vc.NO_ERROR:let p=l.getResponseJson();U(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Vc.TIMEOUT:U(lt,`RPC '${e}' ${s} timed out`),u(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:let m=l.getStatus();if(U(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let N=y?.error;if(N&&N.status&&N.message){let P=(function(j){let K=j.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(K)>=0?K:k.UNKNOWN})(N.status);u(new $(P,N.message))}else u(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(k.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(lt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=M_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ev(),a=_v(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,N=new k_({Ho:M=>{y?U(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(U(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(lt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),P=(M,j,K)=>{M.listen(j,Q=>{try{K(Q)}catch(Te){setTimeout(()=>{throw Te},0)}})};return P(p,gs.EventType.OPEN,()=>{y||(U(lt,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),P(p,gs.EventType.CLOSE,()=>{y||(y=!0,U(lt,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(p))}),P(p,gs.EventType.ERROR,M=>{y||(y=!0,ti(lt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),N.__(new $(k.UNAVAILABLE,"The operation could not be completed")))}),P(p,gs.EventType.MESSAGE,M=>{var j;if(!y){let K=M.data[0];_e(!!K,16349);let Q=K,Te=Q?.error||((j=Q[0])===null||j===void 0?void 0:j.error);if(Te){U(lt,`RPC '${e}' stream ${i} received error:`,Te);let ft=Te.status,Ee=(function(I){let w=Oe[I];if(w!==void 0)return zA(w)})(ft),T=Te.message;Ee===void 0&&(Ee=k.INTERNAL,T="Unknown error status: "+ft+" with message "+Te.message),y=!0,N.__(new $(Ee,T)),p.close()}else U(lt,`RPC '${e}' stream ${i} received:`,K),N.a_(K)}}),P(a,vv.STAT_EVENT,M=>{M.stat===dh.PROXY?U(lt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===dh.NOPROXY&&U(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Tv(){return typeof document<"u"?document:null}function ef(n){return new n_(n,!0)}var Fh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var zS="PersistentStream",Vh=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Fh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(zS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(zS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},L_=class extends Vh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=XU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Pn(s.readTime):re.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=s_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=Gv(u)?{documents:nB(o,u)}:{query:rB(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qA(o,s.resumeToken);let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=xh(o,s.snapshotVersion.toTimestamp());let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=oB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=s_(this.serializer),t.removeTarget=e,this.k_(t)}},F_=class extends Vh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=tB(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=s_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>eB(this.serializer,r))};this.k_(t)}};var V_=class{},j_=class extends V_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,i_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,i_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},U_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(lr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var oo="RemoteStore",B_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){so(this)&&(U(oo,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=ee(u);l.Ia.add(4),yield iu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield tf(l)})})(this))}))}),this.Aa=new U_(r,i)}};function tf(n){return _(this,null,function*(){if(so(n))for(let e of n.da)yield e(!0)})}function iu(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function tR(n,e){let t=ee(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),CE(t)?DE(t):Us(t).x_()&&bE(t,e))}function TE(n,e){let t=ee(n),r=Us(t);t.Ta.delete(e),r.x_()&&nR(t,e),t.Ta.size===0&&(r.x_()?r.B_():so(t)&&t.Aa.set("Unknown"))}function bE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Us(n).H_(e)}function nR(n,e){n.Ra.$e(e),Us(n).Y_(e)}function DE(n){n.Ra=new t_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Us(n).start(),n.Aa.aa()}function CE(n){return so(n)&&!Us(n).M_()&&n.Ta.size>0}function so(n){return ee(n).Ia.size===0}function rR(n){n.Ra=void 0}function wB(n){return _(this,null,function*(){n.Aa.set("Online")})}function TB(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{bE(n,e)})})}function bB(n,e){return _(this,null,function*(){rR(n),CE(n)?(n.Aa.la(e),DE(n)):n.Aa.set("Unknown")})}function DB(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Rh&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){U(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jh(n,r)}else if(e instanceof Is?n.Ra.Ye(e):e instanceof Ah?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{let r=yield eR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),nR(o,u);let p=new Zc(h.target,u,l,h.sequenceNumber);bE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){U(oo,"Failed to raise snapshot:",r),yield jh(n,r)}})}function jh(n,e,t){return _(this,null,function*(){if(!js(e))throw e;n.Ia.add(1),yield iu(n),n.Aa.set("Offline"),t||(t=()=>eR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){U(oo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield tf(n)}))})}function iR(n,e){return e().catch(t=>jh(n,t,e))}function nf(n){return _(this,null,function*(){let e=ee(n),t=ri(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hE;for(;CB(e);)try{let i=yield vB(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,SB(e,i)}catch(i){yield jh(e,i)}oR(e)&&sR(e)})}function CB(n){return so(n)&&n.Pa.length<10}function SB(n,e){n.Pa.push(e);let t=ri(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function oR(n){return so(n)&&!ri(n).M_()&&n.Pa.length>0}function sR(n){ri(n).start()}function AB(n){return _(this,null,function*(){ri(n).na()})}function RB(n){return _(this,null,function*(){let e=ri(n);for(let t of n.Pa)e.X_(t.mutations)})}function NB(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=Zv.from(r,e,t);yield iR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield nf(n)})}function xB(n,e){return _(this,null,function*(){e&&ri(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return GU(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();ri(r).N_(),yield iR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield nf(r)}})})(n,e)),oR(n)&&sR(n)})}function qS(n,e){return _(this,null,function*(){let t=ee(n);t.asyncQueue.verifyOperationInProgress(),U(oo,"RemoteStore received new credentials");let r=so(t);t.Ia.add(3),yield iu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield tf(t)})}function MB(n,e){return _(this,null,function*(){let t=ee(n);e?(t.Ia.delete(2),yield tf(t)):e||(t.Ia.add(2),yield iu(t),t.Aa.set("Unknown"))})}function Us(n){return n.Va||(n.Va=(function(t,r,i){let o=ee(t);return o.ia(),new L_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:wB.bind(null,n),e_:TB.bind(null,n),n_:bB.bind(null,n),J_:DB.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),CE(n)?DE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),rR(n))}))),n.Va}function ri(n){return n.ma||(n.ma=(function(t,r,i){let o=ee(t);return o.ia(),new F_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:AB.bind(null,n),n_:xB.bind(null,n),ea:RB.bind(null,n),ta:NB.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield nf(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(oo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var $_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function SE(n,e){if(lr("AsyncQueue",`${e}: ${n}`),js(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Uh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=jc(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Bh=class{constructor(){this.fa=new Me(W.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ks=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Uh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},z_=class{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ee(t),o=i.queries;i.queries=GS(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function GS(){return new fr(n=>MA(n),Jh)}function PB(n,e){return _(this,null,function*(){let t=ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new H_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=SE(s,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&AE(t)})}function kB(n,e){return _(this,null,function*(){let t=ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function OB(n,e){let t=ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&AE(t)}function LB(n,e,t){let r=ee(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function AE(n){n.Da.forEach(e=>{e.next()})}var q_,WS;(WS=q_||(q_={})).Fa="default",WS.Cache="cache";var G_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==q_.Cache}};var $h=class{constructor(e){this.key=e}},Hh=class{constructor(e){this.key=e}},W_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=le(),this.mutatedKeys=le(),this.Xa=PA(e),this.eu=new Uh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Bh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Xh(this.query,p)?p:null,N=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?N!==P&&(r.track({type:3,doc:y}),M=!0):this.iu(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,N){let P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:M})}};return P(y)-P(N)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ks(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Bh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Hh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new $h(r))}),t}uu(e){this.Ha=e.qs,this.Za=le();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ks.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},RE="SyncEngine",K_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Q_=class{constructor(e){this.key=e,this.lu=!1}},Y_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new fr(a=>MA(a),Jh),this.Tu=new Map,this.Iu=new Set,this.du=new Me(W.comparator),this.Eu=new Map,this.Au=new Xc,this.Ru={},this.Vu=new Map,this.mu=Jc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function FB(n,e,t=!0){return _(this,null,function*(){let r=hR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield aR(r,e,t,!0),i})}function VB(n,e){return _(this,null,function*(){let t=hR(n);yield aR(t,e,!0,!1)})}function aR(n,e,t,r){return _(this,null,function*(){let i=yield _B(n.localStore,Mn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield jB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&tR(n.remoteStore,i),a})}function jB(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(P,M,j,K){return _(this,null,function*(){let Q=M.view.nu(j);Q.Ds&&(Q=yield $S(P.localStore,M.query,!1).then(({documents:T})=>M.view.nu(T,Q)));let Te=K&&K.targetChanges.get(M.targetId),ft=K&&K.targetMismatches.get(M.targetId)!=null,Ee=M.view.applyChanges(Q,P.isPrimaryClient,Te,ft);return QS(P,M.targetId,Ee._u),Ee.snapshot})})(n,p,m,y);let o=yield $S(n.localStore,e,!0),s=new W_(e,o.qs),a=s.nu(o.documents),u=Yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);QS(n,t,l._u);let h=new K_(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function UB(n,e,t){return _(this,null,function*(){let r=ee(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Jh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield R_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&TE(r.remoteStore,i.targetId),Z_(r,i.targetId)}).catch(Vs))):(Z_(r,i.targetId),yield R_(r.localStore,i.targetId,!0))})}function BB(n,e){return _(this,null,function*(){let t=ee(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TE(t.remoteStore,r.targetId))})}function $B(n,e,t){return _(this,null,function*(){let r=QB(n);try{let i=yield(function(s,a){let u=ee(s),l=Ve.now(),h=a.reduce((y,N)=>y.add(N.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=pr(),P=le();return u.Os.getEntries(y,h).next(M=>{N=M,N.forEach((j,K)=>{K.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,N)).next(M=>{p=M;let j=[];for(let K of a){let Q=qU(K,p.get(K.key).overlayedDocument);Q!=null&&j.push(new Ln(K.key,Q,CA(Q.value.mapValue),Zr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(M=>{m=M;let j=M.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,M.batchId,j)})}).then(()=>({batchId:m.batchId,changes:OA(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Me(ae)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield ou(r,i.changes),yield nf(r.remoteStore)}catch(i){let o=SE(i,"Failed to persist write");t.reject(o)}})}function cR(n,e){return _(this,null,function*(){let t=ee(n);try{let r=yield mB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?_e(s.lu,14607):i.removedDocuments.size>0&&(_e(s.lu,42227),s.lu=!1))}),yield ou(t,r,e)}catch(r){yield Vs(r)}})}function KS(n,e,t){let r=ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&AE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HB(n,e,t){return _(this,null,function*(){let r=ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Me(W.comparator);s=s.insert(o,pn.newNoDocument(o,re.min()));let a=le().add(o),u=new Sh(re.min(),new Map,new Me(ae),s,a);yield cR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),NE(r)}else yield R_(r.localStore,e,!1).then(()=>Z_(r,e,t)).catch(Vs)})}function zB(n,e){return _(this,null,function*(){let t=ee(n),r=e.batch.batchId;try{let i=yield gB(t.localStore,e);lR(t,r,null),uR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ou(t,i)}catch(i){yield Vs(i)}})}function qB(n,e,t){return _(this,null,function*(){let r=ee(n);try{let i=yield(function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);lR(r,e,t),uR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ou(r,i)}catch(i){yield Vs(i)}})}function uR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function lR(n,e,t){let r=ee(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Z_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||dR(n,r)})}function dR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(TE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),NE(n))}function QS(n,e,t){for(let r of t)r instanceof $h?(n.Au.addReference(r.key,e),GB(n,r)):r instanceof Hh?(U(RE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||dR(n,r.key)):G(19791,{yu:r})}function GB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(RE,"New document in limbo: "+t),n.Iu.add(r),NE(n))}function NE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new W(Pe.fromString(e)),r=n.mu.next();n.Eu.set(r,new Q_(t)),n.du=n.du.insert(t,r),tR(n.remoteStore,new Zc(Mn(_E(t.path)),r,"TargetPurposeLimboResolution",dE.ue))}}function ou(n,e,t){return _(this,null,function*(){let r=ee(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=D_.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!js(p))throw p;U(wE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),N=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(N);h.Fs=h.Fs.insert(m,P)}}})})(r.localStore,o))})}function WB(n,e){return _(this,null,function*(){let t=ee(n);if(!t.currentUser.isEqual(e)){U(RE,"User change. New user:",e.toKey());let r=yield XA(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new $(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ou(t,r.Bs)}})}function KB(n,e){let t=ee(n),r=t.Eu.get(e);if(r&&r.lu)return le().add(r.key);{let i=le(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function hR(n){let e=ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HB.bind(null,e),e.hu.J_=OB.bind(null,e.eventManager),e.hu.pu=LB.bind(null,e.eventManager),e}function QB(n){let e=ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qB.bind(null,e),e}var fR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=ef(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return pB(this.persistence,new S_,t.initialUser,this.serializer)}Du(t){return new Ph(b_.Vi,this.serializer)}bu(t){return new N_}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),J_=class extends fR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){_e(this.persistence.referenceDelegate instanceof kh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new d_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Ph(r=>kh.Vi(r,t),this.serializer)}};var YB=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),yield MB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new z_})()}createDatastore(t){let r=ef(t.databaseInfo.databaseId),i=(function(s){return new O_(s)})(t.databaseInfo);return(function(s,a,u,l){return new j_(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new B_(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>KS(this.syncEngine,r,0),(function(){return Lh.C()?new Lh:new x_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new Y_(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=ee(o);U(oo,"RemoteStore shutting down."),s.Ia.add(5),yield iu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var X_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ii="FirestoreClient",eE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=qc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){U(ii,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=SE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(ii,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield XA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ti("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ti("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function YS(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield ZB(n);U(ii,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>qS(e.remoteStore,i)),n._onlineComponents=e})}function ZB(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(ii,"Using user provided OfflineComponentProvider");try{yield bv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ti("Error using user provided cache. Falling back to memory cache: "+t),yield bv(n,new fR)}}else U(ii,"Using default OfflineComponentProvider"),yield bv(n,new J_(void 0));return n._offlineComponents})}function pR(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(ii,"Using user provided OnlineComponentProvider"),yield YS(n,n._uninitializedComponentsProvider._online)):(U(ii,"Using default OnlineComponentProvider"),yield YS(n,new YB))),n._onlineComponents})}function JB(n){return pR(n).then(e=>e.syncEngine)}function XB(n){return _(this,null,function*(){let e=yield pR(n),t=e.eventManager;return t.onListen=FB.bind(null,e.syncEngine),t.onUnlisten=UB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BB.bind(null,e.syncEngine),t})}function e$(n,e,t={}){let r=new Nn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,s,a,u,l){let h=new X_({next:m=>{h.Ou(),s.enqueueAndForget(()=>kB(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new $(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new $(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new G_(_E(a.path),h,{includeMetadataChanges:!0,ka:!0});return PB(o,p)})(yield XB(n),n.asyncQueue,e,t,r)})),r.promise}function gR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ZS=new Map;var mR="firestore.googleapis.com",JS=!0,zh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mR,this.ssl=JS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:JS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dB)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},eu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dv;switch(r.type){case"firstParty":return new Rv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=ZS.get(t);r&&(U("ComponentProvider","Removing Datastore"),ZS.delete(t),r.terminate())})(this),Promise.resolve()}};function yR(n,e,t,r={}){var i;n=eo(n,eu);let o=Br(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(jd(`https://${u}`),Ud("Firestore",!0)),s.host!==mR&&s.host!==u&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Cn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ye.MOCK_USER;else{h=OD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ye(m)}n._authCredentials=new Cv(new vh(h,p))}}var tE=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},dt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ru(t,n._jsonSchema))return new n(e,r||null,new W(Pe.fromString(t.referencePath)))}};dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Fe("string",dt._jsonSchemaVersion),referencePath:Fe("string")};var tu=class n extends tE{constructor(e,t,r){super(e,t,_E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function vR(n,e,...t){if(n=ut(n),arguments.length===1&&(e=qc.newId()),aU("doc","path",e),n instanceof eu){let r=Pe.fromString(e,...t);return yS(r),new dt(n,null,new W(r))}{if(!(n instanceof dt||n instanceof tu))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return yS(r),new dt(n.firestore,n instanceof tu?n.converter:null,new W(r))}}var XS="AsyncQueue",qh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Fh(this,"async_queue_retry"),this.oc=()=>{let r=Tv();r&&U(XS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Tv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Tv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Nn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!js(e))throw e;U(XS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,lr("INTERNAL UNHANDLED ERROR: ",eA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=$_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:eA(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function eA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Os=class extends eu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qh(e),this._firestoreClient=void 0,yield e}})}};function _R(n,e){let t=typeof n=="object"?n:$i(),r=typeof n=="string"?n:e||Th,i=ls(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=kD("firestore");o&&yR(i,...o)}return i}function ER(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||t$(n),n._firestoreClient}function t$(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new kv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Jr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ht.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Jr._jsonSchemaVersion="firestore/bytes/1.0",Jr._jsonSchema={type:Fe("string",Jr._jsonSchemaVersion),bytes:Fe("string")};var Ls=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var nu=class{constructor(e){this._methodName=e}};var Xr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ru(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Fe("string",Xr._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};var ei=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Fe("string",ei._jsonSchemaVersion),vectorValues:Fe("object")};var n$=/^__.*__$/,nE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new io(e,this.data,t,this.fieldTransforms)}},Gh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function IR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:n})}}var rE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(IR(this.Ec)&&n$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},iE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ef(e)}Dc(e,t,r,i=!1){return new rE({Ec:e,methodName:t,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wR(n){let e=n._freezeSettings(),t=ef(n._databaseId);return new iE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function r$(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);xE("Data must be an object, but it was:",s,r);let a=TR(r,s),u,l;if(o.merge)u=new Yt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=oE(e,p,t);if(!s.contains(m))throw new $(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);DR(h,m)||h.push(m)}u=new Yt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new nE(new Vt(a),u,l)}var Wh=class n extends nu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function i$(n,e,t,r){let i=n.Dc(1,e,t);xE("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();oi(r,(u,l)=>{let h=ME(e,u,t);l=ut(l);let p=i.gc(h);if(l instanceof Wh)o.push(h);else{let m=rf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Yt(o);return new Gh(s,a,i.fieldTransforms)}function o$(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[oE(e,r,t)],u=[i];if(o.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(oE(e,o[m])),u.push(o[m+1]);let l=[],h=Vt.empty();for(let m=a.length-1;m>=0;--m)if(!DR(l,a[m])){let y=a[m],N=u[m];N=ut(N);let P=s.gc(y);if(N instanceof Wh)l.push(y);else{let M=rf(N,P);M!=null&&(l.push(y),h.set(y,M))}}let p=new Yt(l);return new Gh(h,p,s.fieldTransforms)}function rf(n,e){if(bR(n=ut(n)))return xE("Unsupported field value:",e,n),TR(n,e);if(n instanceof nu)return(function(r,i){if(!IR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=rf(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ve.fromDate(r);return{timestampValue:xh(i.serializer,o)}}if(r instanceof Ve){let o=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,o)}}if(r instanceof Xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jr)return{bytesValue:qA(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:IE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ei)return(function(s,a){return{mapValue:{fields:{[pE]:{stringValue:gE},[bs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return EE(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${lE(r)}`)})(n,e)}function TR(n,e){let t={};return vA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(n,(r,i)=>{let o=rf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function bR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof Xr||n instanceof Jr||n instanceof dt||n instanceof nu||n instanceof ei)}function xE(n,e,t){if(!bR(t)||!rA(t)){let r=lE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function oE(n,e,t){if((e=ut(e))instanceof Ls)return e._internalPath;if(typeof e=="string")return ME(n,e);throw Kh("Field path arguments must be of type string or ",n,!1,void 0,t)}var s$=new RegExp("[~\\*/\\[\\]]");function ME(n,e,t){if(e.search(s$)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ls(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(k.INVALID_ARGUMENT,a+n+u)}function DR(n,e){return n.some(t=>t.isEqual(e))}var Qh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(CR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},sE=class extends Qh{data(){return super.data()}};function CR(n,e){return typeof e=="string"?ME(n,e):e instanceof Ls?e._internalPath:e._delegate._internalPath}var aE=class{convertValue(e,t="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return oi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[bs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new ei(o)}convertGeoPoint(e){return new Xr(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){let t=dr(e);return new Ve(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);_e(ZA(r),9688,{name:e});let i=new bh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function a$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Zi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ji=class n extends Qh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(CR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ji._jsonSchema={type:Fe("string",Ji._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};var ws=class extends Ji{data(e={}){return super.data(e)}},zc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ws(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:c$(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function c$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}function SR(n){n=eo(n,dt);let e=eo(n.firestore,Os);return e$(ER(e),n._key).then(t=>u$(e,n,t))}zc._jsonSchemaVersion="firestore/querySnapshot/1.0",zc._jsonSchema={type:Fe("string",zc._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};var cE=class extends aE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}};function AR(n,e,t){n=eo(n,dt);let r=eo(n.firestore,Os),i=a$(n.converter,e,t);return NR(r,[r$(wR(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Zr.none())])}function RR(n,e,t,...r){n=eo(n,dt);let i=eo(n.firestore,Os),o=wR(i),s;return s=typeof(e=ut(e))=="string"||e instanceof Ls?o$(o,"updateDoc",n._key,e,t,r):i$(o,"updateDoc",n._key,e),NR(i,[s.toMutation(n._key,Zr.exists(!0))])}function NR(n,e){return(function(r,i){let o=new Nn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return $B(yield JB(r),i,o)})),o.promise})(ER(n),e)}function u$(n,e,t){let r=t.docs.get(e._key),i=new cE(n);return new Ji(n,i,e._key,r,new Zi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Fs=i})(Hr),dn(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Os(new Sv(r.getProvider("auth-internal")),new Nv(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),xe(fS,pS,e),xe(fS,pS,"esm2017")})();var ao=class{constructor(e){return e}},xR="firestore",PE=class{constructor(){return hs(xR)}};var kE=new z("angularfire2.firestore-instances");function l$(n,e){let t=Ac(xR,n,e);return t&&new ao(t)}function d$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ao(r)}}var h$={provide:PE,deps:[[new Pt,kE]]},f$={provide:ao,useFactory:l$,deps:[[new Pt,kE],ir]};function MR(n,...e){return xe("angularfire",zr.full,"fst"),Nt([f$,h$,{provide:kE,useFactory:d$(n),multi:!0,deps:[Ie,Ge,qr,zi,[new Pt,Fc],[new Pt,fs],...e]}])}var co=hn(vR,!0,2);var Bs=hn(SR,!0);var PR=hn(_R,!0);var kR=hn(AR,!0,2);var $s=hn(RR,!0,2);var of=class n{constructor(e,t){this.firestore=e;this.auth=t}DAILY_CREDITS=1e3;MAX_CREDITS=5e4;getUserCredits(){return _(this,null,function*(){let e=this.auth.currentUser;if(!e)throw new Error("Not authenticated");let t=co(this.firestore,"userCredits",e.uid),r=yield Bs(t);if(r.exists()){let i=r.data(),o=new Date().toISOString().split("T")[0];if(i.lastDailyCredit!==o){let s=Math.min(i.balance+this.DAILY_CREDITS,this.MAX_CREDITS);return yield $s(t,{balance:s,lastDailyCredit:o,lifetimeCredits:i.lifetimeCredits+this.DAILY_CREDITS}),ye(V({},i),{balance:s,lastDailyCredit:o,lifetimeCredits:i.lifetimeCredits+this.DAILY_CREDITS})}return i}else{let i=new Date().toISOString().split("T")[0],o={balance:this.DAILY_CREDITS,lastDailyCredit:i,totalWagered:0,totalWon:0,lifetimeCredits:this.DAILY_CREDITS};return yield kR(t,o),o}})}updateBalance(e,t){return _(this,null,function*(){let r=co(this.firestore,"userCredits",e);yield $s(r,{balance:t})})}recordWager(e,t){return _(this,null,function*(){let r=co(this.firestore,"userCredits",e),i=yield Bs(r);if(i.exists()){let o=i.data();yield $s(r,{balance:o.balance-t,totalWagered:o.totalWagered+t})}})}recordWin(e,t){return _(this,null,function*(){let r=co(this.firestore,"userCredits",e),i=yield Bs(r);if(i.exists()){let o=i.data();yield $s(r,{balance:o.balance+t,totalWon:o.totalWon+t})}})}getTimeUntilNextDailyCredit(){return _(this,null,function*(){let e=this.auth.currentUser;if(!e)return"Not logged in";let t=co(this.firestore,"userCredits",e.uid),r=yield Bs(t);if(r.exists()){let i=r.data(),o=new Date(i.lastDailyCredit+"T00:00:00"),s=new Date(o);s.setDate(s.getDate()+1);let a=new Date,u=s.getTime()-a.getTime();if(u<=0)return"Available now!";let l=Math.floor(u/(1e3*60*60)),h=Math.floor(u%(1e3*60*60)/(1e3*60));return`${l}h ${h}m`}return"Available now!"})}addAdReward(e,t=100){return _(this,null,function*(){let r=co(this.firestore,"userCredits",e),i=yield Bs(r);if(i.exists()){let o=i.data(),s=Math.min(o.balance+t,this.MAX_CREDITS);yield $s(r,{balance:s,lifetimeCredits:o.lifetimeCredits+t})}})}static \u0275fac=function(t){return new(t||n)(J(ao),J(ar))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var m$=()=>[0,1,2,3,4];function y$(n,e){if(n&1&&(A(0,"div",51)(1,"div",52)(2,"h3"),C(3,"\u{1F381} Daily Bonus Claimed!"),R(),A(4,"p"),C(5,"+1000 Credits Added"),R(),A(6,"p",53),C(7),R()()()),n&2){let t=Wt();B(7),In("Next bonus in: ",t.timeUntilNextCredit)}}function v$(n,e){if(n&1&&(A(0,"div",84),Zn(1,"div",85)(2,"div",85)(3,"div",85),R()),n&2){let t=e.$implicit,r=Wt().$implicit;B(),Fr("active",r[t]===0),B(),Fr("active",r[t]===1),B(),Fr("active",r[t]===2)}}function _$(n,e){if(n&1){let t=Kl();A(0,"div",80),yt("click",function(){let i=xr(t).index,o=Wt(2);return Mr(o.highlightPayline(i))}),A(1,"div",81),C(2),R(),A(3,"div",82),sn(4,v$,4,6,"div",83),R()()}if(n&2){let t=e.index,r=Wt(2);Fr("active",r.highlightedPayline===t),B(2),In("Line ",t+1),B(2),nt("ngForOf",am(4,m$))}}function E$(n,e){if(n&1){let t=Kl();A(0,"div",54),yt("click",function(){xr(t);let i=Wt();return Mr(i.showPaytable=!1)}),A(1,"div",55),yt("click",function(i){return xr(t),Mr(i.stopPropagation())}),A(2,"h2"),C(3,"\u{1F4B0} PAYTABLE & RULES \u{1F4B0}"),R(),A(4,"div",56)(5,"h3"),C(6,"\u{1F3B0} Symbol Payouts"),R(),A(7,"p",57),C(8," All payouts shown for "),A(9,"strong"),C(10,"1 credit"),R(),C(11," bet per line. Multiply by your bet amount. "),R(),A(12,"div",58)(13,"div",59)(14,"div",60),C(15,"\u{1F3C6}"),R(),A(16,"div",61),C(17,"TROPHY"),R(),A(18,"div",62)(19,"div",63)(20,"span",64),C(21,"5\xD7"),R(),C(22," = "),A(23,"strong"),C(24,"2000"),R()(),A(25,"div",63)(26,"span",64),C(27,"4\xD7"),R(),C(28," = "),A(29,"strong"),C(30,"400"),R()(),A(31,"div",63)(32,"span",64),C(33,"3\xD7"),R(),C(34," = "),A(35,"strong"),C(36,"80"),R()(),A(37,"div",63)(38,"span",64),C(39,"2\xD7"),R(),C(40," = "),A(41,"strong"),C(42,"10"),R()()()(),A(43,"div",65)(44,"div",60),C(45,"\u{1F3C8}"),R(),A(46,"div",61),C(47,"FOOTBALL"),R(),A(48,"div",62)(49,"div",63)(50,"span",64),C(51,"5\xD7"),R(),C(52," = "),A(53,"strong"),C(54,"1000"),R()(),A(55,"div",63)(56,"span",64),C(57,"4\xD7"),R(),C(58," = "),A(59,"strong"),C(60,"200"),R()(),A(61,"div",63)(62,"span",64),C(63,"3\xD7"),R(),C(64," = "),A(65,"strong"),C(66,"50"),R()(),A(67,"div",63)(68,"span",64),C(69,"2\xD7"),R(),C(70," = "),A(71,"strong"),C(72,"5"),R()()()(),A(73,"div",65)(74,"div",60),C(75,"\u2694\uFE0F"),R(),A(76,"div",61),C(77,"SWORD"),R(),A(78,"div",62)(79,"div",63)(80,"span",64),C(81,"5\xD7"),R(),C(82," = "),A(83,"strong"),C(84,"600"),R()(),A(85,"div",63)(86,"span",64),C(87,"4\xD7"),R(),C(88," = "),A(89,"strong"),C(90,"150"),R()(),A(91,"div",63)(92,"span",64),C(93,"3\xD7"),R(),C(94," = "),A(95,"strong"),C(96,"40"),R()(),A(97,"div",63)(98,"span",64),C(99,"2\xD7"),R(),C(100," = "),A(101,"strong"),C(102,"4"),R()()()(),A(103,"div",66)(104,"div",60),C(105,"\u{1F6E1}\uFE0F"),R(),A(106,"div",61),C(107,"SHIELD"),R(),A(108,"div",62)(109,"div",63)(110,"span",64),C(111,"5\xD7"),R(),C(112," = "),A(113,"strong"),C(114,"400"),R()(),A(115,"div",63)(116,"span",64),C(117,"4\xD7"),R(),C(118," = "),A(119,"strong"),C(120,"100"),R()(),A(121,"div",63)(122,"span",64),C(123,"3\xD7"),R(),C(124," = "),A(125,"strong"),C(126,"25"),R()(),A(127,"div",63)(128,"span",64),C(129,"2\xD7"),R(),C(130," = "),A(131,"strong"),C(132,"3"),R()()()(),A(133,"div",66)(134,"div",60),C(135,"\u{1F451}"),R(),A(136,"div",61),C(137,"CROWN"),R(),A(138,"div",62)(139,"div",63)(140,"span",64),C(141,"5\xD7"),R(),C(142," = "),A(143,"strong"),C(144,"300"),R()(),A(145,"div",63)(146,"span",64),C(147,"4\xD7"),R(),C(148," = "),A(149,"strong"),C(150,"80"),R()(),A(151,"div",63)(152,"span",64),C(153,"3\xD7"),R(),C(154," = "),A(155,"strong"),C(156,"20"),R()(),A(157,"div",63)(158,"span",64),C(159,"2\xD7"),R(),C(160," = "),A(161,"strong"),C(162,"2"),R()()()(),A(163,"div",67)(164,"div",60),C(165,"\u26A1"),R(),A(166,"div",61),C(167,"LIGHTNING"),R(),A(168,"div",62)(169,"div",63)(170,"span",64),C(171,"5\xD7"),R(),C(172," = "),A(173,"strong"),C(174,"200"),R()(),A(175,"div",63)(176,"span",64),C(177,"4\xD7"),R(),C(178," = "),A(179,"strong"),C(180,"50"),R()(),A(181,"div",63)(182,"span",64),C(183,"3\xD7"),R(),C(184," = "),A(185,"strong"),C(186,"15"),R()()()(),A(187,"div",67)(188,"div",60),C(189,"\u{1F49C}"),R(),A(190,"div",61),C(191,"HEART"),R(),A(192,"div",62)(193,"div",63)(194,"span",64),C(195,"5\xD7"),R(),C(196," = "),A(197,"strong"),C(198,"150"),R()(),A(199,"div",63)(200,"span",64),C(201,"4\xD7"),R(),C(202," = "),A(203,"strong"),C(204,"40"),R()(),A(205,"div",63)(206,"span",64),C(207,"3\xD7"),R(),C(208," = "),A(209,"strong"),C(210,"10"),R()()()(),A(211,"div",67)(212,"div",60),C(213,"V"),R(),A(214,"div",61),C(215,"VIKINGS V"),R(),A(216,"div",62)(217,"div",63)(218,"span",64),C(219,"5\xD7"),R(),C(220," = "),A(221,"strong"),C(222,"100"),R()(),A(223,"div",63)(224,"span",64),C(225,"4\xD7"),R(),C(226," = "),A(227,"strong"),C(228,"30"),R()(),A(229,"div",63)(230,"span",64),C(231,"3\xD7"),R(),C(232," = "),A(233,"strong"),C(234,"8"),R()()()()()(),A(235,"div",56)(236,"h3"),C(237,"\u{1F4CA} 25 Paylines Visualization"),R(),A(238,"p",68),C(239,"Click on a payline to see how it works across the reels"),R(),A(240,"div",69),sn(241,_$,5,5,"div",70),R()(),A(242,"div",56)(243,"h3"),C(244,"\u{1F4DC} Game Rules"),R(),A(245,"ul",71)(246,"li"),C(247,"All 25 paylines are active on every spin"),R(),A(248,"li"),C(249,"Wins pay left to right on consecutive reels"),R(),A(250,"li"),C(251,"Premium symbols (\u{1F3C6}\u{1F3C8}\u2694\uFE0F\u{1F6E1}\uFE0F\u{1F451}) pay on 2+ matches"),R(),A(252,"li"),C(253,"Standard symbols (\u26A1\u{1F49C}V) pay on 3+ matches"),R(),A(254,"li"),C(255,"Multiple winning lines pay out separately"),R(),A(256,"li"),C(257,"Maximum payout per spin: 50,000 credits"),R()()(),A(258,"div",72)(259,"h3"),C(260,"\u{1F510} Provably Fair Gaming"),R(),A(261,"p",73),C(262,"Every spin is verifiable using cryptographic hashing"),R(),A(263,"div",74)(264,"div",75)(265,"strong"),C(266,"Client Seed:"),R(),A(267,"code"),C(268),R(),A(269,"button",76),yt("click",function(){xr(t);let i=Wt();return Mr(i.regenerateClientSeed())}),C(270,"New Seed"),R()(),A(271,"div",75)(272,"strong"),C(273,"Nonce:"),R(),C(274),R(),A(275,"div",75)(276,"strong"),C(277,"Last Spin Hash:"),R(),A(278,"code",77),C(279),R()()(),A(280,"p",78),C(281," Each spin combines server seed + client seed + nonce to generate verifiable random results "),R()(),A(282,"div",56)(283,"h3"),C(284,"\u{1F48E} Daily Bonus"),R(),A(285,"ul",71)(286,"li"),C(287,"Receive 1,000 free credits every day"),R(),A(288,"li"),C(289,"Credits automatically added on first login"),R(),A(290,"li"),C(291,"Maximum balance: 50,000 credits"),R(),A(292,"li"),C(293),R()()(),A(294,"button",79),yt("click",function(){xr(t);let i=Wt();return Mr(i.showPaytable=!1)}),C(295,"Close"),R()()()}if(n&2){let t=Wt();B(241),nt("ngForOf",t.PAYLINES),B(27),an(t.clientSeed),B(6),In(" ",t.spinNonce," "),B(5),an(t.lastSpinHash||"Spin to generate"),B(14),In("Next daily bonus: ",t.timeUntilNextCredit)}}function I$(n,e){if(n&1&&(A(0,"div",94),C(1),R()),n&2){let t=e.$implicit;B(),Yl(" Line ",t.lineIndex+1,": ",t.count," \xD7 ",t.symbol," = ",t.payout," credits ")}}function w$(n,e){if(n&1&&(A(0,"div",91)(1,"div",92),C(2),R(),sn(3,I$,2,4,"div",93),R()),n&2){let t=Wt(2);B(2),Ql(" ",t.currentWins.length," Winning Line",t.currentWins.length>1?"s":""," "),B(),nt("ngForOf",t.currentWins)}}function T$(n,e){if(n&1&&(A(0,"div",86)(1,"div",87)(2,"div",88),C(3),R(),A(4,"div",89),C(5),R(),sn(6,w$,4,3,"div",90),R()()),n&2){let t=Wt();B(3),an(t.winTitle),B(2),an(t.winAmount),B(),nt("ngIf",t.currentWins.length>0)}}function b$(n,e){if(n&1&&(A(0,"div",98),C(1),R()),n&2){let t=e.$implicit;Fr("winning",!1),B(),In(" ",t," ")}}function D$(n,e){if(n&1&&(A(0,"div",95)(1,"div",96),sn(2,b$,2,3,"div",97),R()()),n&2){let t=e.$implicit,r=e.index;B(),nt("id","reel-"+r),B(),nt("ngForOf",t.symbols)}}var sf=class n{constructor(e,t,r){this.router=e;this.creditsService=t;this.auth=r;this.reels=Array.from({length:5},(i,o)=>({symbols:this.REEL_STRIPS[o]?[...this.REEL_STRIPS[o],...this.REEL_STRIPS[o],...this.REEL_STRIPS[o]]:[],element:null,position:0})),this.clientSeed=this.generateRandomSeed(),this.serverSeed=this.generateRandomSeed()}SYMBOLS=["\u{1F3C6}","\u{1F3C8}","\u2694\uFE0F","\u{1F6E1}\uFE0F","\u{1F451}","\u26A1","\u{1F49C}","V"];REEL_STRIPS=[["\u26A1","\u{1F49C}","V","\u{1F451}","\u{1F6E1}\uFE0F","\u2694\uFE0F","\u{1F49C}","V","\u26A1","\u{1F451}","\u{1F6E1}\uFE0F","V","\u{1F49C}","\u2694\uFE0F","\u{1F3C8}","V","\u26A1","\u{1F451}","\u{1F49C}","\u{1F6E1}\uFE0F","V","\u2694\uFE0F","\u26A1","\u{1F451}","\u{1F3C6}","V","\u{1F49C}","\u{1F6E1}\uFE0F","\u2694\uFE0F","V"],["V","\u{1F49C}","\u26A1","\u{1F6E1}\uFE0F","\u{1F451}","V","\u2694\uFE0F","\u{1F49C}","\u26A1","\u{1F6E1}\uFE0F","V","\u{1F451}","\u{1F3C8}","\u{1F49C}","\u26A1","V","\u{1F6E1}\uFE0F","\u{1F451}","\u2694\uFE0F","V","\u{1F49C}","\u26A1","\u{1F3C6}","\u{1F6E1}\uFE0F","V","\u{1F451}","\u{1F49C}","\u2694\uFE0F","V","\u26A1"],["\u26A1","V","\u{1F451}","\u{1F49C}","\u{1F6E1}\uFE0F","\u2694\uFE0F","V","\u26A1","\u{1F49C}","\u{1F3C8}","\u{1F451}","\u{1F6E1}\uFE0F","V","\u2694\uFE0F","\u26A1","\u{1F49C}","V","\u{1F451}","\u{1F6E1}\uFE0F","\u{1F3C6}","\u2694\uFE0F","V","\u26A1","\u{1F49C}","\u{1F451}","V","\u{1F6E1}\uFE0F","\u2694\uFE0F","\u{1F49C}","V"],["\u{1F49C}","V","\u26A1","\u{1F6E1}\uFE0F","\u{1F451}","\u2694\uFE0F","V","\u{1F49C}","\u26A1","\u{1F6E1}\uFE0F","\u{1F451}","V","\u2694\uFE0F","\u{1F3C8}","\u{1F49C}","\u26A1","V","\u{1F6E1}\uFE0F","\u{1F451}","\u2694\uFE0F","\u{1F49C}","V","\u26A1","\u{1F3C6}","\u{1F6E1}\uFE0F","\u{1F451}","V","\u2694\uFE0F","\u{1F49C}","V"],["V","\u26A1","\u{1F49C}","\u{1F451}","\u{1F6E1}\uFE0F","V","\u2694\uFE0F","\u26A1","\u{1F49C}","\u{1F6E1}\uFE0F","\u{1F451}","V","\u2694\uFE0F","\u26A1","\u{1F3C8}","\u{1F49C}","V","\u{1F6E1}\uFE0F","\u{1F451}","\u2694\uFE0F","V","\u26A1","\u{1F49C}","\u{1F6E1}\uFE0F","\u{1F3C6}","\u{1F451}","V","\u2694\uFE0F","\u26A1","V"]];SYMBOL_HEIGHT=105;VISIBLE_SYMBOLS=3;BET_LEVELS=[1,2,5,10,20,50,100];PAYTABLE={"\u{1F3C6}":{5:2e3,4:400,3:80,2:10},"\u{1F3C8}":{5:1e3,4:200,3:50,2:5},"\u2694\uFE0F":{5:600,4:150,3:40,2:4},"\u{1F6E1}\uFE0F":{5:400,4:100,3:25,2:3},"\u{1F451}":{5:300,4:80,3:20,2:2},"\u26A1":{5:200,4:50,3:15},"\u{1F49C}":{5:150,4:40,3:10},V:{5:100,4:30,3:8}};PAYLINES=[[0,0,0,0,0],[1,1,1,1,1],[2,2,2,2,2],[0,1,1,1,0],[2,1,1,1,2],[0,1,2,1,0],[2,1,0,1,2],[0,1,0,1,0],[2,1,2,1,2],[0,0,1,2,2],[2,2,1,0,0],[1,0,1,2,1],[1,2,1,0,1],[0,1,0,2,0],[2,1,2,0,2],[0,0,0,1,2],[2,2,2,1,0],[1,0,0,0,1],[1,2,2,2,1],[0,2,0,2,0],[2,0,2,0,2],[0,1,2,0,1],[2,1,0,2,1],[1,0,1,0,1],[1,2,1,2,1]];balance=0;currentBet=1;lastWin=0;isSpinning=!1;isSaving=!1;betIndex=0;showWinOverlay=!1;showPaytable=!1;showDailyBanner=!1;winTitle="";winAmount="";timeUntilNextCredit="";winningReels=new Set;winningLines=new Set;currentWins=[];highlightedPayline=null;clientSeed="";serverSeed="";spinNonce=0;lastSpinHash="";reels=[];reelsInitialized=!1;userId="";ngOnInit(){this.loadUserCredits()}ngAfterViewInit(){setTimeout(()=>{this.initReels(),setTimeout(()=>{this.reelsInitialized||this.initReels()},300)},150)}ngOnDestroy(){this.userId&&this.saveBalance()}loadUserCredits(){return _(this,null,function*(){try{let e=this.auth.currentUser;if(!e){this.router.navigate(["/login"]);return}this.userId=e.uid;let t=yield this.creditsService.getUserCredits(),r=new Date().toISOString().split("T")[0];t.lastDailyCredit===r&&this.balance===0&&(this.showDailyBanner=!0,setTimeout(()=>this.showDailyBanner=!1,5e3)),this.balance=t.balance,yield this.updateTimeUntilNextCredit()}catch(e){console.error("Error loading credits:",e),alert("Failed to load credits")}})}updateTimeUntilNextCredit(){return _(this,null,function*(){this.timeUntilNextCredit=yield this.creditsService.getTimeUntilNextDailyCredit()})}calculatePayout(e,t){return(this.PAYTABLE[e]?.[t]||0)*this.currentBet}togglePaytable(){this.showPaytable=!this.showPaytable,this.showPaytable&&this.updateTimeUntilNextCredit()}highlightPayline(e){this.highlightedPayline=this.highlightedPayline===e?null:e}scrollToFairness(){setTimeout(()=>{document.querySelector(".provably-fair")?.scrollIntoView({behavior:"smooth",block:"center"})},100)}generateRandomSeed(){let e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}regenerateClientSeed(){this.clientSeed=this.generateRandomSeed(),this.spinNonce=0}generateHash(e){return _(this,null,function*(){let r=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")})}generateProvablyFairResult(){return _(this,null,function*(){this.spinNonce++;let e=`${this.serverSeed}:${this.clientSeed}:${this.spinNonce}`;this.lastSpinHash=yield this.generateHash(e);let t=[];for(let r=0;r<5;r++){let i=this.lastSpinHash.substring(r*12,(r+1)*12),o=parseInt(i,16);t.push(o%this.REEL_STRIPS[r].length)}return t})}initReels(){let e=!0;for(let t=0;t<5;t++){let r=document.getElementById("reel-"+t);if(!r){e=!1;continue}this.reels[t].element=r,this.reels[t].position=0,r.style.transform="translateY(0px)",r.style.transition="none",r.style.willChange="transform"}this.reelsInitialized=e}spin(){return _(this,null,function*(){if(this.isSpinning||!this.reelsInitialized)return;let e=this.currentBet*25;if(this.balance<e)return;this.isSpinning=!0,this.balance-=e,this.lastWin=0,this.winningReels.clear(),this.winningLines.clear(),this.currentWins=[];let t=yield this.generateProvablyFairResult(),r=[];for(let i=0;i<5;i++){let o=this.reels[i],s=o.element;s&&r.push(new Promise(a=>{s.style.transition="none";let u=this.REEL_STRIPS[i].length,l=3+i*.5,h=t[i]+Math.floor(u*l),p=o.position,m=2e3+i*200,y=Date.now(),N=()=>{let P=Date.now()-y,M=Math.min(P/m,1),j=1-Math.pow(1-M,3),K=p+(h-p)*j;if(s.style.transform=`translateY(-${K*this.SYMBOL_HEIGHT}px)`,M<1)requestAnimationFrame(N);else{let Q=h%u;o.position=Q,s.style.transform=`translateY(-${Q*this.SYMBOL_HEIGHT}px)`,a()}};setTimeout(()=>requestAnimationFrame(N),i*150)}))}yield Promise.all(r),yield this.checkWin(),this.isSpinning=!1})}getVisibleSymbols(){let e=[];for(let t=0;t<5;t++){let r=this.reels[t],i=[],o=Math.floor(r.position),s=this.REEL_STRIPS[t].length;for(let a=0;a<this.VISIBLE_SYMBOLS;a++)i.push(this.REEL_STRIPS[t][(o+a)%s]);e.push(i)}return e}checkWin(){return _(this,null,function*(){let e=this.getVisibleSymbols(),t=0,r=[],i=new Set;if(this.PAYLINES.forEach((o,s)=>{let a=o.map((l,h)=>e[h][l]),u=this.checkLine(a);u.payout>0&&(t+=u.payout,i.add(s),r.push(V({lineIndex:s},u)))}),t>0){this.balance+=t,this.lastWin=t,this.winningLines=i,this.currentWins=r;try{yield this.creditsService.recordWin(this.userId,t)}catch{}this.showWinAnimation(t)}else yield this.saveBalance()})}checkLine(e){let t={payout:0,positions:[],symbol:"",count:0};for(let r of this.SYMBOLS){let i=0;for(let o=0;o<e.length&&e[o]===r;o++)i++;if(i>=2&&this.PAYTABLE[r]?.[i]){let o=this.PAYTABLE[r][i]*this.currentBet;o>t.payout&&(t={payout:o,positions:Array.from({length:i},(s,a)=>a),symbol:r,count:i})}}return t}showWinAnimation(e){let t=this.currentBet*25,r=e/t;this.winTitle=r>=100?"\u{1F48E}\u{1F3C6} LEGENDARY WIN! \u{1F3C6}\u{1F48E}":r>=50?"\u{1F3C6}\u{1F48E} MEGA JACKPOT! \u{1F48E}\u{1F3C6}":r>=25?"\u{1F3C6} JACKPOT! \u{1F3C6}":r>=10?"\u26A1 BIG WIN! \u26A1":r>=5?"\u{1F4B0} GREAT WIN! \u{1F4B0}":"\u2728 WINNER! \u2728",this.winAmount=`${e} CREDITS`,this.showWinOverlay=!0,setTimeout(()=>{this.showWinOverlay=!1,this.winningReels.clear(),this.winningLines.clear(),this.saveBalance()},4500)}saveBalance(){return _(this,null,function*(){if(!(!this.userId||this.isSaving)){this.isSaving=!0;try{yield this.creditsService.updateBalance(this.userId,this.balance)}finally{this.isSaving=!1}}})}increaseBet(){this.betIndex<this.BET_LEVELS.length-1&&(this.betIndex++,this.currentBet=this.BET_LEVELS[this.betIndex])}decreaseBet(){this.betIndex>0&&(this.betIndex--,this.currentBet=this.BET_LEVELS[this.betIndex])}maxBet(){this.betIndex=this.BET_LEVELS.length-1,this.currentBet=this.BET_LEVELS[this.betIndex]}goBack(){this.saveBalance(),this.router.navigate(["/lobby"])}static \u0275fac=function(t){return new(t||n)(Gt(us),Gt(of),Gt(ar))};static \u0275cmp=Mi({type:n,selectors:[["app-skol-slot"]],decls:78,vars:38,consts:[[1,"slots-page"],[1,"slots-header"],[1,"btn-back",3,"click"],[1,"btn-paytable",3,"click"],["class","daily-banner",4,"ngIf"],["class","paytable-modal",3,"click",4,"ngIf"],[1,"slots-container"],["id","slotMachine"],["id","winOverlay",4,"ngIf"],["id","header"],["id","logo"],["id","fairness-badge",3,"click"],["id","reelsContainer"],["viewBox","0 0 540 315","preserveAspectRatio","none",1,"paylines-svg"],["x1","0","y1","52.5","x2","540","y2","52.5","stroke","#FFD700","stroke-width","3"],["x1","0","y1","157.5","x2","540","y2","157.5","stroke","#FF6B6B","stroke-width","3"],["x1","0","y1","262.5","x2","540","y2","262.5","stroke","#4ECDC4","stroke-width","3"],["x1","0","y1","105","x2","540","y2","105","stroke","#95E1D3","stroke-width","3"],["x1","0","y1","210","x2","540","y2","210","stroke","#F38181","stroke-width","3"],["points","0,52.5 135,157.5 270,262.5 405,157.5 540,52.5","stroke","#AA96DA","stroke-width","3","fill","none"],["points","0,262.5 135,157.5 270,52.5 405,157.5 540,262.5","stroke","#FCBAD3","stroke-width","3","fill","none"],["points","0,105 135,157.5 270,210 405,157.5 540,105","stroke","#FFFFD2","stroke-width","3","fill","none"],["points","0,210 135,157.5 270,105 405,157.5 540,210","stroke","#A8D8EA","stroke-width","3","fill","none"],["points","0,52.5 108,157.5 216,52.5 324,157.5 432,52.5 540,157.5","stroke","#FF6B9D","stroke-width","3","fill","none"],["points","0,262.5 108,157.5 216,262.5 324,157.5 432,262.5 540,157.5","stroke","#C44569","stroke-width","3","fill","none"],["points","0,157.5 108,52.5 216,157.5 324,262.5 432,157.5 540,52.5","stroke","#F8B500","stroke-width","3","fill","none"],["points","0,157.5 108,262.5 216,157.5 324,52.5 432,157.5 540,262.5","stroke","#6BCB77","stroke-width","3","fill","none"],["points","0,52.5 135,105 270,157.5 405,210 540,262.5","stroke","#4D96FF","stroke-width","3","fill","none"],["points","0,262.5 135,210 270,157.5 405,105 540,52.5","stroke","#FFB6B9","stroke-width","3","fill","none"],["points","0,105 135,52.5 270,105 405,157.5 540,210","stroke","#BAE8E8","stroke-width","3","fill","none"],["points","0,210 135,262.5 270,210 405,157.5 540,105","stroke","#FFEAA7","stroke-width","3","fill","none"],["points","0,157.5 135,105 270,52.5 405,105 540,157.5","stroke","#DDA15E","stroke-width","3","fill","none"],["points","0,157.5 135,210 270,262.5 405,210 540,157.5","stroke","#BC6C25","stroke-width","3","fill","none"],["points","0,52.5 135,210 270,52.5 405,210 540,52.5","stroke","#E07A5F","stroke-width","3","fill","none"],["points","0,262.5 135,105 270,262.5 405,105 540,262.5","stroke","#81B29A","stroke-width","3","fill","none"],["points","0,105 135,210 270,105 405,210 540,105","stroke","#F2CC8F","stroke-width","3","fill","none"],["points","0,210 135,105 270,210 405,105 540,210","stroke","#3D5A80","stroke-width","3","fill","none"],["points","0,157.5 135,52.5 270,157.5 405,262.5 540,157.5","stroke","#EE6C4D","stroke-width","3","fill","none"],["points","0,157.5 135,262.5 270,157.5 405,52.5 540,157.5","stroke","#98C1D9","stroke-width","3","fill","none"],["id","reels"],["class","reel",4,"ngFor","ngForOf"],["id","controls"],[1,"info-panel"],[1,"info-item"],[1,"label"],[1,"value"],[1,"value","win-value"],[1,"button-panel"],[1,"btn-bet",3,"click","disabled"],[1,"btn-spin",3,"click","disabled"],[1,"btn-max-bet",3,"click","disabled"],[1,"daily-banner"],[1,"banner-content"],[1,"next-bonus"],[1,"paytable-modal",3,"click"],[1,"paytable-content",3,"click"],[1,"paytable-section"],[1,"bet-note"],[1,"symbols-grid"],[1,"symbol-card","jackpot"],[1,"symbol-icon"],[1,"symbol-name"],[1,"symbol-pays"],[1,"pay-line"],[1,"count"],[1,"symbol-card","high"],[1,"symbol-card","medium"],[1,"symbol-card","low"],[1,"paylines-info"],[1,"paylines-grid"],["class","payline-visual",3,"active","click",4,"ngFor","ngForOf"],[1,"rules-list"],[1,"paytable-section","provably-fair"],[1,"fair-desc"],[1,"fair-info"],[1,"fair-item"],[1,"btn-regenerate",3,"click"],[1,"hash"],[1,"fair-note"],[1,"btn-close",3,"click"],[1,"payline-visual",3,"click"],[1,"line-number"],[1,"mini-grid"],["class","mini-reel",4,"ngFor","ngForOf"],[1,"mini-reel"],[1,"mini-cell"],["id","winOverlay"],["id","winMessage"],[1,"win-title"],[1,"win-amount"],["class","win-details",4,"ngIf"],[1,"win-details"],[1,"win-summary"],["class","win-line",4,"ngFor","ngForOf"],[1,"win-line"],[1,"reel"],[1,"symbols",3,"id"],["class","symbol",3,"winning",4,"ngFor","ngForOf"],[1,"symbol"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"header",1)(2,"button",2),yt("click",function(){return r.goBack()}),C(3,"\u2190 Lobby"),R(),A(4,"h1"),C(5,"VIKINGS SLOTS"),R(),A(6,"button",3),yt("click",function(){return r.togglePaytable()}),C(7,"Paytable"),R()(),sn(8,y$,8,1,"div",4)(9,E$,296,5,"div",5),A(10,"div",6)(11,"div",7),sn(12,T$,7,3,"div",8),A(13,"div",9)(14,"div",10),C(15,"\u2694\uFE0F VIKINGS SLOTS \u2694\uFE0F"),R(),A(16,"div",11),yt("click",function(){return r.showPaytable=!0,r.scrollToFairness()}),C(17," \u{1F510} Provably Fair "),R()(),A(18,"div",12),gl(),A(19,"svg",13),Zn(20,"line",14)(21,"line",15)(22,"line",16)(23,"line",17)(24,"line",18)(25,"polyline",19)(26,"polyline",20)(27,"polyline",21)(28,"polyline",22)(29,"polyline",23)(30,"polyline",24)(31,"polyline",25)(32,"polyline",26)(33,"polyline",27)(34,"polyline",28)(35,"polyline",29)(36,"polyline",30)(37,"polyline",31)(38,"polyline",32)(39,"polyline",33)(40,"polyline",34)(41,"polyline",35)(42,"polyline",36)(43,"polyline",37)(44,"polyline",38),R(),ml(),A(45,"div",39),sn(46,D$,3,2,"div",40),R()(),A(47,"div",41)(48,"div",42)(49,"div",43)(50,"span",44),C(51,"Credits:"),R(),A(52,"span",45),C(53),R()(),A(54,"div",43)(55,"span",44),C(56,"Bet/Line:"),R(),A(57,"span",45),C(58),R()(),A(59,"div",43)(60,"span",44),C(61,"Total Bet:"),R(),A(62,"span",45),C(63),R()(),A(64,"div",43)(65,"span",44),C(66,"Last Win:"),R(),A(67,"span",46),C(68),R()()(),A(69,"div",47)(70,"button",48),yt("click",function(){return r.decreaseBet()}),C(71,"-"),R(),A(72,"button",49),yt("click",function(){return r.spin()}),C(73),R(),A(74,"button",48),yt("click",function(){return r.increaseBet()}),C(75,"+"),R()(),A(76,"button",50),yt("click",function(){return r.maxBet()}),C(77,"MAX BET"),R()()()()()),t&2&&(B(8),nt("ngIf",r.showDailyBanner),B(),nt("ngIf",r.showPaytable),B(3),nt("ngIf",r.showWinOverlay),B(8),we("opacity",r.winningLines.has(0)?"1":"0.2"),B(),we("opacity",r.winningLines.has(1)?"1":"0.2"),B(),we("opacity",r.winningLines.has(2)?"1":"0.2"),B(),we("opacity",r.winningLines.has(3)?"1":"0.2"),B(),we("opacity",r.winningLines.has(4)?"1":"0.2"),B(),we("opacity",r.winningLines.has(5)?"1":"0.2"),B(),we("opacity",r.winningLines.has(6)?"1":"0.2"),B(),we("opacity",r.winningLines.has(7)?"1":"0.2"),B(),we("opacity",r.winningLines.has(8)?"1":"0.2"),B(),we("opacity",r.winningLines.has(9)?"1":"0.2"),B(),we("opacity",r.winningLines.has(10)?"1":"0.2"),B(),we("opacity",r.winningLines.has(11)?"1":"0.2"),B(),we("opacity",r.winningLines.has(12)?"1":"0.2"),B(),we("opacity",r.winningLines.has(13)?"1":"0.2"),B(),we("opacity",r.winningLines.has(14)?"1":"0.2"),B(),we("opacity",r.winningLines.has(15)?"1":"0.2"),B(),we("opacity",r.winningLines.has(16)?"1":"0.2"),B(),we("opacity",r.winningLines.has(17)?"1":"0.2"),B(),we("opacity",r.winningLines.has(18)?"1":"0.2"),B(),we("opacity",r.winningLines.has(19)?"1":"0.2"),B(),we("opacity",r.winningLines.has(20)?"1":"0.2"),B(),we("opacity",r.winningLines.has(21)?"1":"0.2"),B(),we("opacity",r.winningLines.has(22)?"1":"0.2"),B(),we("opacity",r.winningLines.has(23)?"1":"0.2"),B(),we("opacity",r.winningLines.has(24)?"1":"0.2"),B(2),nt("ngForOf",r.reels),B(7),an(r.balance),B(5),an(r.currentBet),B(5),an(r.currentBet*25),B(5),an(r.lastWin),B(2),nt("disabled",r.isSpinning),B(2),nt("disabled",r.isSpinning||r.balance<r.currentBet*25),B(),In(" ",r.isSpinning?"SPINNING...":"SPIN"," "),B(),nt("disabled",r.isSpinning),B(2),nt("disabled",r.isSpinning))},dependencies:[od,id,Tm],styles:[".daily-banner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,#4f2683,#ffc62f);padding:15px;z-index:1000;box-shadow:0 4px 10px #00000080;animation:_ngcontent-%COMP%_slideDown .5s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.banner-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin:5px 0;font-weight:700}.next-bonus[_ngcontent-%COMP%]{font-size:14px!important;opacity:.9;font-weight:400!important}.slots-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#0a0a0a,#1a0a2e);padding:15px}.slots-header[_ngcontent-%COMP%]{max-width:700px;margin:0 auto 15px;display:flex;align-items:center;gap:15px}.btn-back[_ngcontent-%COMP%], .btn-paytable[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:10px 20px;font-size:14px;font-weight:700;border-radius:8px;cursor:pointer;transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover, .btn-paytable[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 15px #ffc62f80;transform:translateY(-2px)}.slots-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ffc62f;font-size:22px;margin:0;flex:1;text-align:center;text-shadow:3px 3px 6px rgba(0,0,0,.8);letter-spacing:2px}.paytable-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;z-index:2000;overflow-y:auto;padding:20px}.paytable-content[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1a0033,#0d001a);border:4px solid #FFC62F;border-radius:15px;padding:30px;max-width:900px;width:100%;max-height:90vh;overflow-y:auto;color:#fff;box-shadow:0 0 50px #ffc62f4d}.paytable-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffc62f;text-align:center;margin-bottom:30px;font-size:36px;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.paytable-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffc62f;margin:30px 0 20px;font-size:24px;border-bottom:3px solid #4F2683;padding-bottom:10px}.paytable-section[_ngcontent-%COMP%]{margin-bottom:30px}.bet-note[_ngcontent-%COMP%]{background:#ffc62f26;padding:12px;border-radius:8px;border-left:4px solid #FFC62F;margin:15px 0 20px;font-size:15px;color:#ffc62f;text-align:center}.bet-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-size:18px}.symbols-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;margin-top:20px}.symbol-card[_ngcontent-%COMP%]{background:#4f268366;border-radius:12px;padding:15px;border:3px solid #666;text-align:center;transition:all .3s}.symbol-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #00000080}.symbol-card.jackpot[_ngcontent-%COMP%]{border-color:gold;background:#ffd70026}.symbol-card.high[_ngcontent-%COMP%]{border-color:#ff6b6b}.symbol-card.medium[_ngcontent-%COMP%]{border-color:#4ecdc4}.symbol-card.low[_ngcontent-%COMP%]{border-color:#95e1d3}.symbol-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:10px}.symbol-name[_ngcontent-%COMP%]{font-size:12px;color:#ffc62f;font-weight:700;margin-bottom:12px;text-transform:uppercase;letter-spacing:1px}.symbol-pays[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.pay-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:13px;padding:4px 8px;background:#0000004d;border-radius:4px}.pay-line[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#bbb;font-weight:700}.pay-line[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4caf50;font-size:14px}.paylines-info[_ngcontent-%COMP%]{color:#bbb;text-align:center;margin-bottom:20px;font-size:14px}.paylines-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px}.payline-visual[_ngcontent-%COMP%]{background:#4f26834d;border:2px solid #4F2683;border-radius:8px;padding:10px;cursor:pointer;transition:all .2s}.payline-visual[_ngcontent-%COMP%]:hover, .payline-visual.active[_ngcontent-%COMP%]{border-color:#ffc62f;background:#ffc62f33;transform:scale(1.05)}.line-number[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#ffc62f;margin-bottom:8px;text-align:center}.mini-grid[_ngcontent-%COMP%]{display:flex;gap:3px;justify-content:center}.mini-reel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.mini-cell[_ngcontent-%COMP%]{width:18px;height:18px;background:#00000080;border:1px solid #666;border-radius:3px}.mini-cell.active[_ngcontent-%COMP%]{background:#ffc62f;border-color:#ffc62f;box-shadow:0 0 8px #ffc62f}.rules-list[_ngcontent-%COMP%]{padding-left:20px;color:#ccc;font-size:15px;line-height:2}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:10px}.provably-fair[_ngcontent-%COMP%]{background:#4f26834d;padding:20px;border-radius:12px;border:2px solid #4F2683}.fair-desc[_ngcontent-%COMP%]{color:#bbb;text-align:center;margin-bottom:20px;font-size:14px}.fair-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.fair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.fair-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ffc62f;font-size:14px}.fair-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#00000080;padding:8px 12px;border-radius:6px;font-family:Courier New,monospace;font-size:12px;color:#4caf50;word-break:break-all}.fair-item[_ngcontent-%COMP%]   code.hash[_ngcontent-%COMP%]{font-size:10px}.btn-regenerate[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:6px 12px;font-size:12px;font-weight:700;border-radius:6px;cursor:pointer;transition:all .2s;width:fit-content}.btn-regenerate[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 10px #ffc62f80}.fair-note[_ngcontent-%COMP%]{color:#999;font-size:12px;margin-top:15px;text-align:center;font-style:italic}.btn-close[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:15px;font-size:18px;font-weight:700;border-radius:8px;cursor:pointer;margin-top:30px;transition:all .2s}.btn-close[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 15px #ffc62f80}.slots-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#slotMachine[_ngcontent-%COMP%]{max-width:700px;width:100%;background:linear-gradient(180deg,#1a0033,#0d001a);border:4px solid #FFC62F;border-radius:20px;box-shadow:0 0 30px #ffc62f4d;padding:20px;position:relative}#header[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;position:relative}#logo[_ngcontent-%COMP%]{color:#ffc62f;font-size:28px;font-weight:700;text-shadow:3px 3px 6px rgba(0,0,0,.8);letter-spacing:3px}#fairness-badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:#4caf5033;border:2px solid #4CAF50;color:#4caf50;padding:6px 12px;border-radius:8px;font-size:12px;font-weight:700;cursor:pointer;transition:all .2s}#fairness-badge[_ngcontent-%COMP%]:hover{background:#4caf504d;box-shadow:0 0 10px #4caf5080}#reelsContainer[_ngcontent-%COMP%]{position:relative;background:linear-gradient(180deg,#2a1a4e,#1a0a2e);border:3px solid #4F2683;border-radius:15px;padding:10px;margin-bottom:15px;overflow:hidden}.paylines-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}#reels[_ngcontent-%COMP%]{display:flex;gap:8px;position:relative;z-index:2}.reel[_ngcontent-%COMP%]{flex:1;background:#1a0a2ecc;border:2px solid #4F2683;border-radius:10px;overflow:hidden;height:315px;position:relative}.symbols[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;left:0;width:100%;will-change:transform}.symbol[_ngcontent-%COMP%]{height:105px;display:flex;align-items:center;justify-content:center;font-size:60px;background:#4f26834d;border-bottom:1px solid rgba(255,198,47,.2);-webkit-user-select:none;user-select:none}.symbol.winning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}#controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.info-panel[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;background:#4f26834d;padding:15px;border-radius:10px;border:2px solid #4F2683}.info-item[_ngcontent-%COMP%]{text-align:center}.label[_ngcontent-%COMP%]{display:block;color:#bbb;font-size:12px;margin-bottom:5px}.value[_ngcontent-%COMP%]{display:block;color:#ffc62f;font-size:18px;font-weight:700}.win-value[_ngcontent-%COMP%]{color:#4caf50}.button-panel[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.btn-bet[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:15px 30px;font-size:24px;font-weight:700;border-radius:10px;cursor:pointer;transition:all .2s}.btn-bet[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 15px #ffc62f80;transform:translateY(-2px)}.btn-bet[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-spin[_ngcontent-%COMP%]{flex:1;background:linear-gradient(180deg,#4caf50,#45a049);color:#fff;border:3px solid #FFC62F;padding:20px;font-size:24px;font-weight:700;border-radius:10px;cursor:pointer;transition:all .2s;box-shadow:0 5px 15px #4caf504d}.btn-spin[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(180deg,#5cbf60,#4caf50);box-shadow:0 8px 25px #4caf5080;transform:translateY(-2px)}.btn-spin[_ngcontent-%COMP%]:disabled{background:linear-gradient(180deg,#666,#555);cursor:not-allowed;box-shadow:none}.btn-max-bet[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,#ff6b6b,#ee5a52);color:#fff;border:2px solid #FFC62F;padding:12px;font-size:18px;font-weight:700;border-radius:10px;cursor:pointer;transition:all .2s}.btn-max-bet[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(180deg,#ff7f7f,#ff6b6b);box-shadow:0 0 15px #ff6b6b80;transform:translateY(-2px)}.btn-max-bet[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}#winOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000eb;display:flex;align-items:center;justify-content:center;z-index:1000;border-radius:20px}#winMessage[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_winPop .5s ease-out;max-width:90%}@keyframes _ngcontent-%COMP%_winPop{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.win-title[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#ffc62f;text-shadow:0 0 30px #FFC62F,0 0 50px #FFC62F;margin-bottom:20px;animation:_ngcontent-%COMP%_glow 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_glow{0%,to{text-shadow:0 0 30px #FFC62F,0 0 50px #FFC62F}50%{text-shadow:0 0 50px #FFC62F,0 0 80px #FFC62F,0 0 100px #FFC62F}}.win-amount[_ngcontent-%COMP%]{font-size:72px;font-weight:700;color:#fff;text-shadow:0 0 50px #4CAF50,0 0 70px #4CAF50;margin-bottom:25px}.win-details[_ngcontent-%COMP%]{background:#4f268399;padding:20px;border-radius:12px;margin-top:20px;border:2px solid #FFC62F;max-height:200px;overflow-y:auto}.win-summary[_ngcontent-%COMP%]{color:#ffc62f;font-size:20px;font-weight:700;margin-bottom:15px;text-transform:uppercase}.win-line[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:8px 0;padding:8px;background:#0000004d;border-radius:6px;border-left:3px solid #4CAF50}@media (max-width: 768px){.symbols-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.paylines-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}#fairness-badge[_ngcontent-%COMP%]{position:static;margin-top:10px;display:inline-block}}"]})};var OR=[{path:"",redirectTo:"skol-slot",pathMatch:"full"},{path:"skol-slot",component:sf}];var C$={production:!1,firebase:{apiKey:"AIzaSyBS4LyOOgYPDyELp1rO71_O_5LvIlGnxtA",authDomain:"rps-tournament-1bb74.firebaseapp.com",projectId:"rps-tournament-1bb74",storageBucket:"rps-tournament-1bb74.firebasestorage.app",messagingSenderId:"47415856051",appId:"1:47415856051:web:9b22366ff988dc31a3d9c6"}},LR={providers:[rg(),lm({eventCoalescing:!0}),ry(OR,iy()),cC(()=>uC(C$.firebase)),cS(()=>uS()),MR(()=>PR())]};var af=class n{title=Or("CrASH");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Mi({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Zn(0,"router-outlet")},dependencies:[vc],encapsulation:2})};Pm(af,LR).catch(n=>console.error(n));
